(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function i(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(a){if(a.ep)return;a.ep=!0;const r=i(a);fetch(a.href,r)}})();function Tv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cd={exports:{}},yl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cg;function wb(){if(cg)return yl;cg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(o,a,r){var c=null;if(r!==void 0&&(c=""+r),a.key!==void 0&&(c=""+a.key),"key"in a){r={};for(var f in a)f!=="key"&&(r[f]=a[f])}else r=a;return a=r.ref,{$$typeof:t,type:o,key:c,ref:a!==void 0?a:null,props:r}}return yl.Fragment=e,yl.jsx=i,yl.jsxs=i,yl}var dg;function Mb(){return dg||(dg=1,cd.exports=wb()),cd.exports}var p=Mb(),dd={exports:{}},me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fg;function Ib(){if(fg)return me;fg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function b(I){return I===null||typeof I!="object"?null:(I=S&&I[S]||I["@@iterator"],typeof I=="function"?I:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,A={};function w(I,$,Z){this.props=I,this.context=$,this.refs=A,this.updater=Z||_}w.prototype.isReactComponent={},w.prototype.setState=function(I,$){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,$,"setState")},w.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function U(){}U.prototype=w.prototype;function D(I,$,Z){this.props=I,this.context=$,this.refs=A,this.updater=Z||_}var G=D.prototype=new U;G.constructor=D,N(G,w.prototype),G.isPureReactComponent=!0;var Y=Array.isArray;function X(){}var O={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function q(I,$,Z){var te=Z.ref;return{$$typeof:t,type:I,key:$,ref:te!==void 0?te:null,props:Z}}function W(I,$){return q(I.type,$,I.props)}function le(I){return typeof I=="object"&&I!==null&&I.$$typeof===t}function de(I){var $={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(Z){return $[Z]})}var ge=/\/+/g;function Pe(I,$){return typeof I=="object"&&I!==null&&I.key!=null?de(""+I.key):$.toString(36)}function Oe(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(X,X):(I.status="pending",I.then(function($){I.status==="pending"&&(I.status="fulfilled",I.value=$)},function($){I.status==="pending"&&(I.status="rejected",I.reason=$)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function H(I,$,Z,te,oe){var ye=typeof I;(ye==="undefined"||ye==="boolean")&&(I=null);var be=!1;if(I===null)be=!0;else switch(ye){case"bigint":case"string":case"number":be=!0;break;case"object":switch(I.$$typeof){case t:case e:be=!0;break;case x:return be=I._init,H(be(I._payload),$,Z,te,oe)}}if(be)return oe=oe(I),be=te===""?"."+Pe(I,0):te,Y(oe)?(Z="",be!=null&&(Z=be.replace(ge,"$&/")+"/"),H(oe,$,Z,"",function(hn){return hn})):oe!=null&&(le(oe)&&(oe=W(oe,Z+(oe.key==null||I&&I.key===oe.key?"":(""+oe.key).replace(ge,"$&/")+"/")+be)),$.push(oe)),1;be=0;var st=te===""?".":te+":";if(Y(I))for(var Fe=0;Fe<I.length;Fe++)te=I[Fe],ye=st+Pe(te,Fe),be+=H(te,$,Z,ye,oe);else if(Fe=b(I),typeof Fe=="function")for(I=Fe.call(I),Fe=0;!(te=I.next()).done;)te=te.value,ye=st+Pe(te,Fe++),be+=H(te,$,Z,ye,oe);else if(ye==="object"){if(typeof I.then=="function")return H(Oe(I),$,Z,te,oe);throw $=String(I),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return be}function Q(I,$,Z){if(I==null)return I;var te=[],oe=0;return H(I,te,"","",function(ye){return $.call(Z,ye,oe++)}),te}function ne(I){if(I._status===-1){var $=I._result;$=$(),$.then(function(Z){(I._status===0||I._status===-1)&&(I._status=1,I._result=Z)},function(Z){(I._status===0||I._status===-1)&&(I._status=2,I._result=Z)}),I._status===-1&&(I._status=0,I._result=$)}if(I._status===1)return I._result.default;throw I._result}var he=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},Ce={map:Q,forEach:function(I,$,Z){Q(I,function(){$.apply(this,arguments)},Z)},count:function(I){var $=0;return Q(I,function(){$++}),$},toArray:function(I){return Q(I,function($){return $})||[]},only:function(I){if(!le(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return me.Activity=T,me.Children=Ce,me.Component=w,me.Fragment=i,me.Profiler=a,me.PureComponent=D,me.StrictMode=o,me.Suspense=g,me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,me.__COMPILER_RUNTIME={__proto__:null,c:function(I){return O.H.useMemoCache(I)}},me.cache=function(I){return function(){return I.apply(null,arguments)}},me.cacheSignal=function(){return null},me.cloneElement=function(I,$,Z){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var te=N({},I.props),oe=I.key;if($!=null)for(ye in $.key!==void 0&&(oe=""+$.key),$)!j.call($,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&$.ref===void 0||(te[ye]=$[ye]);var ye=arguments.length-2;if(ye===1)te.children=Z;else if(1<ye){for(var be=Array(ye),st=0;st<ye;st++)be[st]=arguments[st+2];te.children=be}return q(I.type,oe,te)},me.createContext=function(I){return I={$$typeof:c,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:r,_context:I},I},me.createElement=function(I,$,Z){var te,oe={},ye=null;if($!=null)for(te in $.key!==void 0&&(ye=""+$.key),$)j.call($,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(oe[te]=$[te]);var be=arguments.length-2;if(be===1)oe.children=Z;else if(1<be){for(var st=Array(be),Fe=0;Fe<be;Fe++)st[Fe]=arguments[Fe+2];oe.children=st}if(I&&I.defaultProps)for(te in be=I.defaultProps,be)oe[te]===void 0&&(oe[te]=be[te]);return q(I,ye,oe)},me.createRef=function(){return{current:null}},me.forwardRef=function(I){return{$$typeof:f,render:I}},me.isValidElement=le,me.lazy=function(I){return{$$typeof:x,_payload:{_status:-1,_result:I},_init:ne}},me.memo=function(I,$){return{$$typeof:h,type:I,compare:$===void 0?null:$}},me.startTransition=function(I){var $=O.T,Z={};O.T=Z;try{var te=I(),oe=O.S;oe!==null&&oe(Z,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(X,he)}catch(ye){he(ye)}finally{$!==null&&Z.types!==null&&($.types=Z.types),O.T=$}},me.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},me.use=function(I){return O.H.use(I)},me.useActionState=function(I,$,Z){return O.H.useActionState(I,$,Z)},me.useCallback=function(I,$){return O.H.useCallback(I,$)},me.useContext=function(I){return O.H.useContext(I)},me.useDebugValue=function(){},me.useDeferredValue=function(I,$){return O.H.useDeferredValue(I,$)},me.useEffect=function(I,$){return O.H.useEffect(I,$)},me.useEffectEvent=function(I){return O.H.useEffectEvent(I)},me.useId=function(){return O.H.useId()},me.useImperativeHandle=function(I,$,Z){return O.H.useImperativeHandle(I,$,Z)},me.useInsertionEffect=function(I,$){return O.H.useInsertionEffect(I,$)},me.useLayoutEffect=function(I,$){return O.H.useLayoutEffect(I,$)},me.useMemo=function(I,$){return O.H.useMemo(I,$)},me.useOptimistic=function(I,$){return O.H.useOptimistic(I,$)},me.useReducer=function(I,$,Z){return O.H.useReducer(I,$,Z)},me.useRef=function(I){return O.H.useRef(I)},me.useState=function(I){return O.H.useState(I)},me.useSyncExternalStore=function(I,$,Z){return O.H.useSyncExternalStore(I,$,Z)},me.useTransition=function(){return O.H.useTransition()},me.version="19.2.3",me}var pg;function Tf(){return pg||(pg=1,dd.exports=Ib()),dd.exports}var k=Tf();const Sv=Tv(k);var fd={exports:{}},xl={},pd={exports:{}},hd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hg;function Db(){return hg||(hg=1,(function(t){function e(H,Q){var ne=H.length;H.push(Q);e:for(;0<ne;){var he=ne-1>>>1,Ce=H[he];if(0<a(Ce,Q))H[he]=Q,H[ne]=Ce,ne=he;else break e}}function i(H){return H.length===0?null:H[0]}function o(H){if(H.length===0)return null;var Q=H[0],ne=H.pop();if(ne!==Q){H[0]=ne;e:for(var he=0,Ce=H.length,I=Ce>>>1;he<I;){var $=2*(he+1)-1,Z=H[$],te=$+1,oe=H[te];if(0>a(Z,ne))te<Ce&&0>a(oe,Z)?(H[he]=oe,H[te]=ne,he=te):(H[he]=Z,H[$]=ne,he=$);else if(te<Ce&&0>a(oe,ne))H[he]=oe,H[te]=ne,he=te;else break e}}return Q}function a(H,Q){var ne=H.sortIndex-Q.sortIndex;return ne!==0?ne:H.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var g=[],h=[],x=1,T=null,S=3,b=!1,_=!1,N=!1,A=!1,w=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function G(H){for(var Q=i(h);Q!==null;){if(Q.callback===null)o(h);else if(Q.startTime<=H)o(h),Q.sortIndex=Q.expirationTime,e(g,Q);else break;Q=i(h)}}function Y(H){if(N=!1,G(H),!_)if(i(g)!==null)_=!0,X||(X=!0,de());else{var Q=i(h);Q!==null&&Oe(Y,Q.startTime-H)}}var X=!1,O=-1,j=5,q=-1;function W(){return A?!0:!(t.unstable_now()-q<j)}function le(){if(A=!1,X){var H=t.unstable_now();q=H;var Q=!0;try{e:{_=!1,N&&(N=!1,U(O),O=-1),b=!0;var ne=S;try{t:{for(G(H),T=i(g);T!==null&&!(T.expirationTime>H&&W());){var he=T.callback;if(typeof he=="function"){T.callback=null,S=T.priorityLevel;var Ce=he(T.expirationTime<=H);if(H=t.unstable_now(),typeof Ce=="function"){T.callback=Ce,G(H),Q=!0;break t}T===i(g)&&o(g),G(H)}else o(g);T=i(g)}if(T!==null)Q=!0;else{var I=i(h);I!==null&&Oe(Y,I.startTime-H),Q=!1}}break e}finally{T=null,S=ne,b=!1}Q=void 0}}finally{Q?de():X=!1}}}var de;if(typeof D=="function")de=function(){D(le)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,Pe=ge.port2;ge.port1.onmessage=le,de=function(){Pe.postMessage(null)}}else de=function(){w(le,0)};function Oe(H,Q){O=w(function(){H(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(H){switch(S){case 1:case 2:case 3:var Q=3;break;default:Q=S}var ne=S;S=Q;try{return H()}finally{S=ne}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(H,Q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ne=S;S=H;try{return Q()}finally{S=ne}},t.unstable_scheduleCallback=function(H,Q,ne){var he=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?he+ne:he):ne=he,H){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=ne+Ce,H={id:x++,callback:Q,priorityLevel:H,startTime:ne,expirationTime:Ce,sortIndex:-1},ne>he?(H.sortIndex=ne,e(h,H),i(g)===null&&H===i(h)&&(N?(U(O),O=-1):N=!0,Oe(Y,ne-he))):(H.sortIndex=Ce,e(g,H),_||b||(_=!0,X||(X=!0,de()))),H},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(H){var Q=S;return function(){var ne=S;S=Q;try{return H.apply(this,arguments)}finally{S=ne}}}})(hd)),hd}var mg;function kb(){return mg||(mg=1,pd.exports=Db()),pd.exports}var md={exports:{}},_t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg;function Lb(){if(gg)return _t;gg=1;var t=Tf();function e(g){var h="https://react.dev/errors/"+g;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal");function r(g,h,x){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:g,containerInfo:h,implementation:x}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(g,h){if(g==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return _t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,_t.createPortal=function(g,h){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return r(g,h,null,x)},_t.flushSync=function(g){var h=c.T,x=o.p;try{if(c.T=null,o.p=2,g)return g()}finally{c.T=h,o.p=x,o.d.f()}},_t.preconnect=function(g,h){typeof g=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,o.d.C(g,h))},_t.prefetchDNS=function(g){typeof g=="string"&&o.d.D(g)},_t.preinit=function(g,h){if(typeof g=="string"&&h&&typeof h.as=="string"){var x=h.as,T=f(x,h.crossOrigin),S=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;x==="style"?o.d.S(g,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:b}):x==="script"&&o.d.X(g,{crossOrigin:T,integrity:S,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},_t.preinitModule=function(g,h){if(typeof g=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var x=f(h.as,h.crossOrigin);o.d.M(g,{crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&o.d.M(g)},_t.preload=function(g,h){if(typeof g=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var x=h.as,T=f(x,h.crossOrigin);o.d.L(g,x,{crossOrigin:T,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},_t.preloadModule=function(g,h){if(typeof g=="string")if(h){var x=f(h.as,h.crossOrigin);o.d.m(g,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else o.d.m(g)},_t.requestFormReset=function(g){o.d.r(g)},_t.unstable_batchedUpdates=function(g,h){return g(h)},_t.useFormState=function(g,h,x){return c.H.useFormState(g,h,x)},_t.useFormStatus=function(){return c.H.useHostTransitionStatus()},_t.version="19.2.3",_t}var yg;function Ub(){if(yg)return md.exports;yg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),md.exports=Lb(),md.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg;function Pb(){if(xg)return xl;xg=1;var t=kb(),e=Tf(),i=Ub();function o(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function r(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function f(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function g(n){if(r(n)!==n)throw Error(o(188))}function h(n){var s=n.alternate;if(!s){if(s=r(n),s===null)throw Error(o(188));return s!==n?null:n}for(var l=n,u=s;;){var y=l.return;if(y===null)break;var v=y.alternate;if(v===null){if(u=y.return,u!==null){l=u;continue}break}if(y.child===v.child){for(v=y.child;v;){if(v===l)return g(y),n;if(v===u)return g(y),s;v=v.sibling}throw Error(o(188))}if(l.return!==u.return)l=y,u=v;else{for(var E=!1,C=y.child;C;){if(C===l){E=!0,l=y,u=v;break}if(C===u){E=!0,u=y,l=v;break}C=C.sibling}if(!E){for(C=v.child;C;){if(C===l){E=!0,l=v,u=y;break}if(C===u){E=!0,u=v,l=y;break}C=C.sibling}if(!E)throw Error(o(189))}}if(l.alternate!==u)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?n:s}function x(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=x(n),s!==null)return s;n=n.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),D=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function de(n){return n===null||typeof n!="object"?null:(n=le&&n[le]||n["@@iterator"],typeof n=="function"?n:null)}var ge=Symbol.for("react.client.reference");function Pe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ge?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case w:return"Profiler";case A:return"StrictMode";case Y:return"Suspense";case X:return"SuspenseList";case q:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case _:return"Portal";case D:return n.displayName||"Context";case U:return(n._context.displayName||"Context")+".Consumer";case G:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case O:return s=n.displayName||null,s!==null?s:Pe(n.type)||"Memo";case j:s=n._payload,n=n._init;try{return Pe(n(s))}catch{}}return null}var Oe=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},he=[],Ce=-1;function I(n){return{current:n}}function $(n){0>Ce||(n.current=he[Ce],he[Ce]=null,Ce--)}function Z(n,s){Ce++,he[Ce]=n.current,n.current=s}var te=I(null),oe=I(null),ye=I(null),be=I(null);function st(n,s){switch(Z(ye,s),Z(oe,n),Z(te,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?k0(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=k0(s),n=L0(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}$(te),Z(te,n)}function Fe(){$(te),$(oe),$(ye)}function hn(n){n.memoizedState!==null&&Z(be,n);var s=te.current,l=L0(s,n.type);s!==l&&(Z(oe,n),Z(te,l))}function Dn(n){oe.current===n&&($(te),$(oe)),be.current===n&&($(be),pl._currentValue=ne)}var bo,Gl;function kn(n){if(bo===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);bo=s&&s[1]||"",Gl=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bo+n+Gl}var Bi=!1;function Co(n,s){if(!n||Bi)return"";Bi=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(z){var B=z}Reflect.construct(n,[],J)}else{try{J.call()}catch(z){B=z}n.call(J.prototype)}}else{try{throw Error()}catch(z){B=z}(J=n())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(z){if(z&&B&&typeof z.stack=="string")return[z.stack,B.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),E=v[0],C=v[1];if(E&&C){var R=E.split(`
`),V=C.split(`
`);for(y=u=0;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;for(;y<V.length&&!V[y].includes("DetermineComponentFrameRoot");)y++;if(u===R.length||y===V.length)for(u=R.length-1,y=V.length-1;1<=u&&0<=y&&R[u]!==V[y];)y--;for(;1<=u&&0<=y;u--,y--)if(R[u]!==V[y]){if(u!==1||y!==1)do if(u--,y--,0>y||R[u]!==V[y]){var F=`
`+R[u].replace(" at new "," at ");return n.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",n.displayName)),F}while(1<=u&&0<=y);break}}}finally{Bi=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?kn(l):""}function Xr(n,s){switch(n.tag){case 26:case 27:case 5:return kn(n.type);case 16:return kn("Lazy");case 13:return n.child!==s&&s!==null?kn("Suspense Fallback"):kn("Suspense");case 19:return kn("SuspenseList");case 0:case 15:return Co(n.type,!1);case 11:return Co(n.type.render,!1);case 1:return Co(n.type,!0);case 31:return kn("Activity");default:return""}}function Qe(n){try{var s="",l=null;do s+=Xr(n,l),l=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var ct=Object.prototype.hasOwnProperty,Ue=t.unstable_scheduleCallback,_e=t.unstable_cancelCallback,Te=t.unstable_shouldYield,xe=t.unstable_requestPaint,qe=t.unstable_now,Ct=t.unstable_getCurrentPriorityLevel,dt=t.unstable_ImmediatePriority,zt=t.unstable_UserBlockingPriority,tt=t.unstable_NormalPriority,Qr=t.unstable_LowPriority,pp=t.unstable_IdlePriority,dS=t.log,fS=t.unstable_setDisableYieldValue,_o=null,Gt=null;function ai(n){if(typeof dS=="function"&&fS(n),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(_o,n)}catch{}}var Ot=Math.clz32?Math.clz32:mS,pS=Math.log,hS=Math.LN2;function mS(n){return n>>>=0,n===0?32:31-(pS(n)/hS|0)|0}var Ol=256,jl=262144,ql=4194304;function Hi(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Fl(n,s,l){var u=n.pendingLanes;if(u===0)return 0;var y=0,v=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var C=u&134217727;return C!==0?(u=C&~v,u!==0?y=Hi(u):(E&=C,E!==0?y=Hi(E):l||(l=C&~n,l!==0&&(y=Hi(l))))):(C=u&~v,C!==0?y=Hi(C):E!==0?y=Hi(E):l||(l=u&~n,l!==0&&(y=Hi(l)))),y===0?0:s!==0&&s!==y&&(s&v)===0&&(v=y&-y,l=s&-s,v>=l||v===32&&(l&4194048)!==0)?s:y}function No(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function gS(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hp(){var n=ql;return ql<<=1,(ql&62914560)===0&&(ql=4194304),n}function Wr(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function Ao(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function yS(n,s,l,u,y,v){var E=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var C=n.entanglements,R=n.expirationTimes,V=n.hiddenUpdates;for(l=E&~l;0<l;){var F=31-Ot(l),J=1<<F;C[F]=0,R[F]=-1;var B=V[F];if(B!==null)for(V[F]=null,F=0;F<B.length;F++){var z=B[F];z!==null&&(z.lane&=-536870913)}l&=~J}u!==0&&mp(n,u,0),v!==0&&y===0&&n.tag!==0&&(n.suspendedLanes|=v&~(E&~s))}function mp(n,s,l){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-Ot(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|l&261930}function gp(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var u=31-Ot(l),y=1<<u;y&s|n[u]&s&&(n[u]|=s),l&=~y}}function yp(n,s){var l=s&-s;return l=(l&42)!==0?1:Zr(l),(l&(n.suspendedLanes|s))!==0?0:l}function Zr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function eu(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function xp(){var n=Q.p;return n!==0?n:(n=window.event,n===void 0?32:ig(n.type))}function vp(n,s){var l=Q.p;try{return Q.p=n,s()}finally{Q.p=l}}var ri=Math.random().toString(36).slice(2),yt="__reactFiber$"+ri,Dt="__reactProps$"+ri,ms="__reactContainer$"+ri,tu="__reactEvents$"+ri,xS="__reactListeners$"+ri,vS="__reactHandles$"+ri,Tp="__reactResources$"+ri,Ro="__reactMarker$"+ri;function nu(n){delete n[yt],delete n[Dt],delete n[tu],delete n[xS],delete n[vS]}function gs(n){var s=n[yt];if(s)return s;for(var l=n.parentNode;l;){if(s=l[ms]||l[yt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=G0(n);n!==null;){if(l=n[yt])return l;n=G0(n)}return s}n=l,l=n.parentNode}return null}function ys(n){if(n=n[yt]||n[ms]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function wo(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(o(33))}function xs(n){var s=n[Tp];return s||(s=n[Tp]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ht(n){n[Ro]=!0}var Sp=new Set,Ep={};function zi(n,s){vs(n,s),vs(n+"Capture",s)}function vs(n,s){for(Ep[n]=s,n=0;n<s.length;n++)Sp.add(s[n])}var TS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bp={},Cp={};function SS(n){return ct.call(Cp,n)?!0:ct.call(bp,n)?!1:TS.test(n)?Cp[n]=!0:(bp[n]=!0,!1)}function Yl(n,s,l){if(SS(s))if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+l)}}function Kl(n,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+l)}}function Ln(n,s,l,u){if(u===null)n.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(s,l,""+u)}}function Xt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function _p(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ES(n,s,l){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,v=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return y.call(this)},set:function(E){l=""+E,v.call(this,E)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function iu(n){if(!n._valueTracker){var s=_p(n)?"checked":"value";n._valueTracker=ES(n,s,""+n[s])}}function Np(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return n&&(u=_p(n)?n.checked?"true":"false":n.value),n=u,n!==l?(s.setValue(n),!0):!1}function Jl(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var bS=/[\n"\\]/g;function Qt(n){return n.replace(bS,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function su(n,s,l,u,y,v,E,C){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),s!=null?E==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Xt(s)):n.value!==""+Xt(s)&&(n.value=""+Xt(s)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),s!=null?ou(n,E,Xt(s)):l!=null?ou(n,E,Xt(l)):u!=null&&n.removeAttribute("value"),y==null&&v!=null&&(n.defaultChecked=!!v),y!=null&&(n.checked=y&&typeof y!="function"&&typeof y!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+Xt(C):n.removeAttribute("name")}function Ap(n,s,l,u,y,v,E,C){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.type=v),s!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||s!=null)){iu(n);return}l=l!=null?""+Xt(l):"",s=s!=null?""+Xt(s):l,C||s===n.value||(n.value=s),n.defaultValue=s}u=u??y,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=C?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E),iu(n)}function ou(n,s,l){s==="number"&&Jl(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function Ts(n,s,l,u){if(n=n.options,s){s={};for(var y=0;y<l.length;y++)s["$"+l[y]]=!0;for(l=0;l<n.length;l++)y=s.hasOwnProperty("$"+n[l].value),n[l].selected!==y&&(n[l].selected=y),y&&u&&(n[l].defaultSelected=!0)}else{for(l=""+Xt(l),s=null,y=0;y<n.length;y++){if(n[y].value===l){n[y].selected=!0,u&&(n[y].defaultSelected=!0);return}s!==null||n[y].disabled||(s=n[y])}s!==null&&(s.selected=!0)}}function Rp(n,s,l){if(s!=null&&(s=""+Xt(s),s!==n.value&&(n.value=s),l==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=l!=null?""+Xt(l):""}function wp(n,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(o(92));if(Oe(u)){if(1<u.length)throw Error(o(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=Xt(s),n.defaultValue=l,u=n.textContent,u===l&&u!==""&&u!==null&&(n.value=u),iu(n)}function Ss(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var CS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mp(n,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,l):typeof l!="number"||l===0||CS.has(s)?s==="float"?n.cssFloat=l:n[s]=(""+l).trim():n[s]=l+"px"}function Ip(n,s,l){if(s!=null&&typeof s!="object")throw Error(o(62));if(n=n.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var y in s)u=s[y],s.hasOwnProperty(y)&&l[y]!==u&&Mp(n,y,u)}else for(var v in s)s.hasOwnProperty(v)&&Mp(n,v,s[v])}function lu(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _S=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),NS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $l(n){return NS.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Un(){}var au=null;function ru(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Es=null,bs=null;function Dp(n){var s=ys(n);if(s&&(n=s.stateNode)){var l=n[Dt]||null;e:switch(n=s.stateNode,s.type){case"input":if(su(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Qt(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==n&&u.form===n.form){var y=u[Dt]||null;if(!y)throw Error(o(90));su(u,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===n.form&&Np(u)}break e;case"textarea":Rp(n,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Ts(n,!!l.multiple,s,!1)}}}var uu=!1;function kp(n,s,l){if(uu)return n(s,l);uu=!0;try{var u=n(s);return u}finally{if(uu=!1,(Es!==null||bs!==null)&&(Pa(),Es&&(s=Es,n=bs,bs=Es=null,Dp(s),n)))for(s=0;s<n.length;s++)Dp(n[s])}}function Mo(n,s){var l=n.stateNode;if(l===null)return null;var u=l[Dt]||null;if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(o(231,s,typeof l));return l}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cu=!1;if(Pn)try{var Io={};Object.defineProperty(Io,"passive",{get:function(){cu=!0}}),window.addEventListener("test",Io,Io),window.removeEventListener("test",Io,Io)}catch{cu=!1}var ui=null,du=null,Xl=null;function Lp(){if(Xl)return Xl;var n,s=du,l=s.length,u,y="value"in ui?ui.value:ui.textContent,v=y.length;for(n=0;n<l&&s[n]===y[n];n++);var E=l-n;for(u=1;u<=E&&s[l-u]===y[v-u];u++);return Xl=y.slice(n,1<u?1-u:void 0)}function Ql(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Wl(){return!0}function Up(){return!1}function kt(n){function s(l,u,y,v,E){this._reactName=l,this._targetInst=y,this.type=u,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(l=n[C],this[C]=l?l(v):v[C]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Wl:Up,this.isPropagationStopped=Up,this}return T(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Wl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Wl)},persist:function(){},isPersistent:Wl}),s}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zl=kt(Gi),Do=T({},Gi,{view:0,detail:0}),AS=kt(Do),fu,pu,ko,ea=T({},Do,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ko&&(ko&&n.type==="mousemove"?(fu=n.screenX-ko.screenX,pu=n.screenY-ko.screenY):pu=fu=0,ko=n),fu)},movementY:function(n){return"movementY"in n?n.movementY:pu}}),Pp=kt(ea),RS=T({},ea,{dataTransfer:0}),wS=kt(RS),MS=T({},Do,{relatedTarget:0}),hu=kt(MS),IS=T({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),DS=kt(IS),kS=T({},Gi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),LS=kt(kS),US=T({},Gi,{data:0}),Vp=kt(US),PS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HS(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=BS[n])?!!s[n]:!1}function mu(){return HS}var zS=T({},Do,{key:function(n){if(n.key){var s=PS[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Ql(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?VS[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mu,charCode:function(n){return n.type==="keypress"?Ql(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ql(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),GS=kt(zS),OS=T({},ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bp=kt(OS),jS=T({},Do,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mu}),qS=kt(jS),FS=T({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),YS=kt(FS),KS=T({},ea,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),JS=kt(KS),$S=T({},Gi,{newState:0,oldState:0}),XS=kt($S),QS=[9,13,27,32],gu=Pn&&"CompositionEvent"in window,Lo=null;Pn&&"documentMode"in document&&(Lo=document.documentMode);var WS=Pn&&"TextEvent"in window&&!Lo,Hp=Pn&&(!gu||Lo&&8<Lo&&11>=Lo),zp=" ",Gp=!1;function Op(n,s){switch(n){case"keyup":return QS.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Cs=!1;function ZS(n,s){switch(n){case"compositionend":return jp(s);case"keypress":return s.which!==32?null:(Gp=!0,zp);case"textInput":return n=s.data,n===zp&&Gp?null:n;default:return null}}function eE(n,s){if(Cs)return n==="compositionend"||!gu&&Op(n,s)?(n=Lp(),Xl=du=ui=null,Cs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Hp&&s.locale!=="ko"?null:s.data;default:return null}}var tE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qp(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!tE[n.type]:s==="textarea"}function Fp(n,s,l,u){Es?bs?bs.push(u):bs=[u]:Es=u,s=ja(s,"onChange"),0<s.length&&(l=new Zl("onChange","change",null,l,u),n.push({event:l,listeners:s}))}var Uo=null,Po=null;function nE(n){A0(n,0)}function ta(n){var s=wo(n);if(Np(s))return n}function Yp(n,s){if(n==="change")return s}var Kp=!1;if(Pn){var yu;if(Pn){var xu="oninput"in document;if(!xu){var Jp=document.createElement("div");Jp.setAttribute("oninput","return;"),xu=typeof Jp.oninput=="function"}yu=xu}else yu=!1;Kp=yu&&(!document.documentMode||9<document.documentMode)}function $p(){Uo&&(Uo.detachEvent("onpropertychange",Xp),Po=Uo=null)}function Xp(n){if(n.propertyName==="value"&&ta(Po)){var s=[];Fp(s,Po,n,ru(n)),kp(nE,s)}}function iE(n,s,l){n==="focusin"?($p(),Uo=s,Po=l,Uo.attachEvent("onpropertychange",Xp)):n==="focusout"&&$p()}function sE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ta(Po)}function oE(n,s){if(n==="click")return ta(s)}function lE(n,s){if(n==="input"||n==="change")return ta(s)}function aE(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var jt=typeof Object.is=="function"?Object.is:aE;function Vo(n,s){if(jt(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var y=l[u];if(!ct.call(s,y)||!jt(n[y],s[y]))return!1}return!0}function Qp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Wp(n,s){var l=Qp(n);n=0;for(var u;l;){if(l.nodeType===3){if(u=n+l.textContent.length,n<=s&&u>=s)return{node:l,offset:s-n};n=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Qp(l)}}function Zp(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Zp(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function eh(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Jl(n.document);s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=Jl(n.document)}return s}function vu(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var rE=Pn&&"documentMode"in document&&11>=document.documentMode,_s=null,Tu=null,Bo=null,Su=!1;function th(n,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Su||_s==null||_s!==Jl(u)||(u=_s,"selectionStart"in u&&vu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Bo&&Vo(Bo,u)||(Bo=u,u=ja(Tu,"onSelect"),0<u.length&&(s=new Zl("onSelect","select",null,s,l),n.push({event:s,listeners:u}),s.target=_s)))}function Oi(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var Ns={animationend:Oi("Animation","AnimationEnd"),animationiteration:Oi("Animation","AnimationIteration"),animationstart:Oi("Animation","AnimationStart"),transitionrun:Oi("Transition","TransitionRun"),transitionstart:Oi("Transition","TransitionStart"),transitioncancel:Oi("Transition","TransitionCancel"),transitionend:Oi("Transition","TransitionEnd")},Eu={},nh={};Pn&&(nh=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function ji(n){if(Eu[n])return Eu[n];if(!Ns[n])return n;var s=Ns[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in nh)return Eu[n]=s[l];return n}var ih=ji("animationend"),sh=ji("animationiteration"),oh=ji("animationstart"),uE=ji("transitionrun"),cE=ji("transitionstart"),dE=ji("transitioncancel"),lh=ji("transitionend"),ah=new Map,bu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bu.push("scrollEnd");function mn(n,s){ah.set(n,s),zi(s,[n])}var na=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Wt=[],As=0,Cu=0;function ia(){for(var n=As,s=Cu=As=0;s<n;){var l=Wt[s];Wt[s++]=null;var u=Wt[s];Wt[s++]=null;var y=Wt[s];Wt[s++]=null;var v=Wt[s];if(Wt[s++]=null,u!==null&&y!==null){var E=u.pending;E===null?y.next=y:(y.next=E.next,E.next=y),u.pending=y}v!==0&&rh(l,y,v)}}function sa(n,s,l,u){Wt[As++]=n,Wt[As++]=s,Wt[As++]=l,Wt[As++]=u,Cu|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function _u(n,s,l,u){return sa(n,s,l,u),oa(n)}function qi(n,s){return sa(n,null,null,s),oa(n)}function rh(n,s,l){n.lanes|=l;var u=n.alternate;u!==null&&(u.lanes|=l);for(var y=!1,v=n.return;v!==null;)v.childLanes|=l,u=v.alternate,u!==null&&(u.childLanes|=l),v.tag===22&&(n=v.stateNode,n===null||n._visibility&1||(y=!0)),n=v,v=v.return;return n.tag===3?(v=n.stateNode,y&&s!==null&&(y=31-Ot(l),n=v.hiddenUpdates,u=n[y],u===null?n[y]=[s]:u.push(s),s.lane=l|536870912),v):null}function oa(n){if(50<ll)throw ll=0,Lc=null,Error(o(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Rs={};function fE(n,s,l,u){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(n,s,l,u){return new fE(n,s,l,u)}function Nu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Vn(n,s){var l=n.alternate;return l===null?(l=qt(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function uh(n,s){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,s=l.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function la(n,s,l,u,y,v){var E=0;if(u=n,typeof n=="function")Nu(n)&&(E=1);else if(typeof n=="string")E=yb(n,l,te.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case q:return n=qt(31,l,s,y),n.elementType=q,n.lanes=v,n;case N:return Fi(l.children,y,v,s);case A:E=8,y|=24;break;case w:return n=qt(12,l,s,y|2),n.elementType=w,n.lanes=v,n;case Y:return n=qt(13,l,s,y),n.elementType=Y,n.lanes=v,n;case X:return n=qt(19,l,s,y),n.elementType=X,n.lanes=v,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case D:E=10;break e;case U:E=9;break e;case G:E=11;break e;case O:E=14;break e;case j:E=16,u=null;break e}E=29,l=Error(o(130,n===null?"null":typeof n,"")),u=null}return s=qt(E,l,s,y),s.elementType=n,s.type=u,s.lanes=v,s}function Fi(n,s,l,u){return n=qt(7,n,u,s),n.lanes=l,n}function Au(n,s,l){return n=qt(6,n,null,s),n.lanes=l,n}function ch(n){var s=qt(18,null,null,0);return s.stateNode=n,s}function Ru(n,s,l){return s=qt(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var dh=new WeakMap;function Zt(n,s){if(typeof n=="object"&&n!==null){var l=dh.get(n);return l!==void 0?l:(s={value:n,source:s,stack:Qe(s)},dh.set(n,s),s)}return{value:n,source:s,stack:Qe(s)}}var ws=[],Ms=0,aa=null,Ho=0,en=[],tn=0,ci=null,bn=1,Cn="";function Bn(n,s){ws[Ms++]=Ho,ws[Ms++]=aa,aa=n,Ho=s}function fh(n,s,l){en[tn++]=bn,en[tn++]=Cn,en[tn++]=ci,ci=n;var u=bn;n=Cn;var y=32-Ot(u)-1;u&=~(1<<y),l+=1;var v=32-Ot(s)+y;if(30<v){var E=y-y%5;v=(u&(1<<E)-1).toString(32),u>>=E,y-=E,bn=1<<32-Ot(s)+y|l<<y|u,Cn=v+n}else bn=1<<v|l<<y|u,Cn=n}function wu(n){n.return!==null&&(Bn(n,1),fh(n,1,0))}function Mu(n){for(;n===aa;)aa=ws[--Ms],ws[Ms]=null,Ho=ws[--Ms],ws[Ms]=null;for(;n===ci;)ci=en[--tn],en[tn]=null,Cn=en[--tn],en[tn]=null,bn=en[--tn],en[tn]=null}function ph(n,s){en[tn++]=bn,en[tn++]=Cn,en[tn++]=ci,bn=s.id,Cn=s.overflow,ci=n}var xt=null,Ye=null,Me=!1,di=null,nn=!1,Iu=Error(o(519));function fi(n){var s=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zo(Zt(s,n)),Iu}function hh(n){var s=n.stateNode,l=n.type,u=n.memoizedProps;switch(s[yt]=n,s[Dt]=u,l){case"dialog":Ae("cancel",s),Ae("close",s);break;case"iframe":case"object":case"embed":Ae("load",s);break;case"video":case"audio":for(l=0;l<rl.length;l++)Ae(rl[l],s);break;case"source":Ae("error",s);break;case"img":case"image":case"link":Ae("error",s),Ae("load",s);break;case"details":Ae("toggle",s);break;case"input":Ae("invalid",s),Ap(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ae("invalid",s);break;case"textarea":Ae("invalid",s),wp(s,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||I0(s.textContent,l)?(u.popover!=null&&(Ae("beforetoggle",s),Ae("toggle",s)),u.onScroll!=null&&Ae("scroll",s),u.onScrollEnd!=null&&Ae("scrollend",s),u.onClick!=null&&(s.onclick=Un),s=!0):s=!1,s||fi(n,!0)}function mh(n){for(xt=n.return;xt;)switch(xt.tag){case 5:case 31:case 13:nn=!1;return;case 27:case 3:nn=!0;return;default:xt=xt.return}}function Is(n){if(n!==xt)return!1;if(!Me)return mh(n),Me=!0,!1;var s=n.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||$c(n.type,n.memoizedProps)),l=!l),l&&Ye&&fi(n),mh(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));Ye=z0(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));Ye=z0(n)}else s===27?(s=Ye,Ni(n.type)?(n=ed,ed=null,Ye=n):Ye=s):Ye=xt?on(n.stateNode.nextSibling):null;return!0}function Yi(){Ye=xt=null,Me=!1}function Du(){var n=di;return n!==null&&(Vt===null?Vt=n:Vt.push.apply(Vt,n),di=null),n}function zo(n){di===null?di=[n]:di.push(n)}var ku=I(null),Ki=null,Hn=null;function pi(n,s,l){Z(ku,s._currentValue),s._currentValue=l}function zn(n){n._currentValue=ku.current,$(ku)}function Lu(n,s,l){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===l)break;n=n.return}}function Uu(n,s,l,u){var y=n.child;for(y!==null&&(y.return=n);y!==null;){var v=y.dependencies;if(v!==null){var E=y.child;v=v.firstContext;e:for(;v!==null;){var C=v;v=y;for(var R=0;R<s.length;R++)if(C.context===s[R]){v.lanes|=l,C=v.alternate,C!==null&&(C.lanes|=l),Lu(v.return,l,n),u||(E=null);break e}v=C.next}}else if(y.tag===18){if(E=y.return,E===null)throw Error(o(341));E.lanes|=l,v=E.alternate,v!==null&&(v.lanes|=l),Lu(E,l,n),E=null}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===n){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}}function Ds(n,s,l,u){n=null;for(var y=s,v=!1;y!==null;){if(!v){if((y.flags&524288)!==0)v=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var E=y.alternate;if(E===null)throw Error(o(387));if(E=E.memoizedProps,E!==null){var C=y.type;jt(y.pendingProps.value,E.value)||(n!==null?n.push(C):n=[C])}}else if(y===be.current){if(E=y.alternate,E===null)throw Error(o(387));E.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(n!==null?n.push(pl):n=[pl])}y=y.return}n!==null&&Uu(s,n,l,u),s.flags|=262144}function ra(n){for(n=n.firstContext;n!==null;){if(!jt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ji(n){Ki=n,Hn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function vt(n){return gh(Ki,n)}function ua(n,s){return Ki===null&&Ji(n),gh(n,s)}function gh(n,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Hn===null){if(n===null)throw Error(o(308));Hn=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Hn=Hn.next=s;return l}var pE=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(l,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(l){return l()})}},hE=t.unstable_scheduleCallback,mE=t.unstable_NormalPriority,ot={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pu(){return{controller:new pE,data:new Map,refCount:0}}function Go(n){n.refCount--,n.refCount===0&&hE(mE,function(){n.controller.abort()})}var Oo=null,Vu=0,ks=0,Ls=null;function gE(n,s){if(Oo===null){var l=Oo=[];Vu=0,ks=zc(),Ls={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Vu++,s.then(yh,yh),s}function yh(){if(--Vu===0&&Oo!==null){Ls!==null&&(Ls.status="fulfilled");var n=Oo;Oo=null,ks=0,Ls=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function yE(n,s){var l=[],u={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var y=0;y<l.length;y++)(0,l[y])(s)},function(y){for(u.status="rejected",u.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),u}var xh=H.S;H.S=function(n,s){t0=qe(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&gE(n,s),xh!==null&&xh(n,s)};var $i=I(null);function Bu(){var n=$i.current;return n!==null?n:je.pooledCache}function ca(n,s){s===null?Z($i,$i.current):Z($i,s.pool)}function vh(){var n=Bu();return n===null?null:{parent:ot._currentValue,pool:n}}var Us=Error(o(460)),Hu=Error(o(474)),da=Error(o(542)),fa={then:function(){}};function Th(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Sh(n,s,l){switch(l=n[l],l===void 0?n.push(s):l!==s&&(s.then(Un,Un),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,bh(n),n;default:if(typeof s.status=="string")s.then(Un,Un);else{if(n=je,n!==null&&100<n.shellSuspendCounter)throw Error(o(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=u}},function(u){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,bh(n),n}throw Qi=s,Us}}function Xi(n){try{var s=n._init;return s(n._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Qi=l,Us):l}}var Qi=null;function Eh(){if(Qi===null)throw Error(o(459));var n=Qi;return Qi=null,n}function bh(n){if(n===Us||n===da)throw Error(o(483))}var Ps=null,jo=0;function pa(n){var s=jo;return jo+=1,Ps===null&&(Ps=[]),Sh(Ps,n,s)}function qo(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function ha(n,s){throw s.$$typeof===S?Error(o(525)):(n=Object.prototype.toString.call(s),Error(o(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function Ch(n){function s(L,M){if(n){var P=L.deletions;P===null?(L.deletions=[M],L.flags|=16):P.push(M)}}function l(L,M){if(!n)return null;for(;M!==null;)s(L,M),M=M.sibling;return null}function u(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function y(L,M){return L=Vn(L,M),L.index=0,L.sibling=null,L}function v(L,M,P){return L.index=P,n?(P=L.alternate,P!==null?(P=P.index,P<M?(L.flags|=67108866,M):P):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function E(L){return n&&L.alternate===null&&(L.flags|=67108866),L}function C(L,M,P,K){return M===null||M.tag!==6?(M=Au(P,L.mode,K),M.return=L,M):(M=y(M,P),M.return=L,M)}function R(L,M,P,K){var re=P.type;return re===N?F(L,M,P.props.children,K,P.key):M!==null&&(M.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===j&&Xi(re)===M.type)?(M=y(M,P.props),qo(M,P),M.return=L,M):(M=la(P.type,P.key,P.props,null,L.mode,K),qo(M,P),M.return=L,M)}function V(L,M,P,K){return M===null||M.tag!==4||M.stateNode.containerInfo!==P.containerInfo||M.stateNode.implementation!==P.implementation?(M=Ru(P,L.mode,K),M.return=L,M):(M=y(M,P.children||[]),M.return=L,M)}function F(L,M,P,K,re){return M===null||M.tag!==7?(M=Fi(P,L.mode,K,re),M.return=L,M):(M=y(M,P),M.return=L,M)}function J(L,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Au(""+M,L.mode,P),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case b:return P=la(M.type,M.key,M.props,null,L.mode,P),qo(P,M),P.return=L,P;case _:return M=Ru(M,L.mode,P),M.return=L,M;case j:return M=Xi(M),J(L,M,P)}if(Oe(M)||de(M))return M=Fi(M,L.mode,P,null),M.return=L,M;if(typeof M.then=="function")return J(L,pa(M),P);if(M.$$typeof===D)return J(L,ua(L,M),P);ha(L,M)}return null}function B(L,M,P,K){var re=M!==null?M.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return re!==null?null:C(L,M,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case b:return P.key===re?R(L,M,P,K):null;case _:return P.key===re?V(L,M,P,K):null;case j:return P=Xi(P),B(L,M,P,K)}if(Oe(P)||de(P))return re!==null?null:F(L,M,P,K,null);if(typeof P.then=="function")return B(L,M,pa(P),K);if(P.$$typeof===D)return B(L,M,ua(L,P),K);ha(L,P)}return null}function z(L,M,P,K,re){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return L=L.get(P)||null,C(M,L,""+K,re);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return L=L.get(K.key===null?P:K.key)||null,R(M,L,K,re);case _:return L=L.get(K.key===null?P:K.key)||null,V(M,L,K,re);case j:return K=Xi(K),z(L,M,P,K,re)}if(Oe(K)||de(K))return L=L.get(P)||null,F(M,L,K,re,null);if(typeof K.then=="function")return z(L,M,P,pa(K),re);if(K.$$typeof===D)return z(L,M,P,ua(M,K),re);ha(M,K)}return null}function ie(L,M,P,K){for(var re=null,Ie=null,se=M,Se=M=0,we=null;se!==null&&Se<P.length;Se++){se.index>Se?(we=se,se=null):we=se.sibling;var De=B(L,se,P[Se],K);if(De===null){se===null&&(se=we);break}n&&se&&De.alternate===null&&s(L,se),M=v(De,M,Se),Ie===null?re=De:Ie.sibling=De,Ie=De,se=we}if(Se===P.length)return l(L,se),Me&&Bn(L,Se),re;if(se===null){for(;Se<P.length;Se++)se=J(L,P[Se],K),se!==null&&(M=v(se,M,Se),Ie===null?re=se:Ie.sibling=se,Ie=se);return Me&&Bn(L,Se),re}for(se=u(se);Se<P.length;Se++)we=z(se,L,Se,P[Se],K),we!==null&&(n&&we.alternate!==null&&se.delete(we.key===null?Se:we.key),M=v(we,M,Se),Ie===null?re=we:Ie.sibling=we,Ie=we);return n&&se.forEach(function(Ii){return s(L,Ii)}),Me&&Bn(L,Se),re}function ue(L,M,P,K){if(P==null)throw Error(o(151));for(var re=null,Ie=null,se=M,Se=M=0,we=null,De=P.next();se!==null&&!De.done;Se++,De=P.next()){se.index>Se?(we=se,se=null):we=se.sibling;var Ii=B(L,se,De.value,K);if(Ii===null){se===null&&(se=we);break}n&&se&&Ii.alternate===null&&s(L,se),M=v(Ii,M,Se),Ie===null?re=Ii:Ie.sibling=Ii,Ie=Ii,se=we}if(De.done)return l(L,se),Me&&Bn(L,Se),re;if(se===null){for(;!De.done;Se++,De=P.next())De=J(L,De.value,K),De!==null&&(M=v(De,M,Se),Ie===null?re=De:Ie.sibling=De,Ie=De);return Me&&Bn(L,Se),re}for(se=u(se);!De.done;Se++,De=P.next())De=z(se,L,Se,De.value,K),De!==null&&(n&&De.alternate!==null&&se.delete(De.key===null?Se:De.key),M=v(De,M,Se),Ie===null?re=De:Ie.sibling=De,Ie=De);return n&&se.forEach(function(Rb){return s(L,Rb)}),Me&&Bn(L,Se),re}function Ge(L,M,P,K){if(typeof P=="object"&&P!==null&&P.type===N&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case b:e:{for(var re=P.key;M!==null;){if(M.key===re){if(re=P.type,re===N){if(M.tag===7){l(L,M.sibling),K=y(M,P.props.children),K.return=L,L=K;break e}}else if(M.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===j&&Xi(re)===M.type){l(L,M.sibling),K=y(M,P.props),qo(K,P),K.return=L,L=K;break e}l(L,M);break}else s(L,M);M=M.sibling}P.type===N?(K=Fi(P.props.children,L.mode,K,P.key),K.return=L,L=K):(K=la(P.type,P.key,P.props,null,L.mode,K),qo(K,P),K.return=L,L=K)}return E(L);case _:e:{for(re=P.key;M!==null;){if(M.key===re)if(M.tag===4&&M.stateNode.containerInfo===P.containerInfo&&M.stateNode.implementation===P.implementation){l(L,M.sibling),K=y(M,P.children||[]),K.return=L,L=K;break e}else{l(L,M);break}else s(L,M);M=M.sibling}K=Ru(P,L.mode,K),K.return=L,L=K}return E(L);case j:return P=Xi(P),Ge(L,M,P,K)}if(Oe(P))return ie(L,M,P,K);if(de(P)){if(re=de(P),typeof re!="function")throw Error(o(150));return P=re.call(P),ue(L,M,P,K)}if(typeof P.then=="function")return Ge(L,M,pa(P),K);if(P.$$typeof===D)return Ge(L,M,ua(L,P),K);ha(L,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,M!==null&&M.tag===6?(l(L,M.sibling),K=y(M,P),K.return=L,L=K):(l(L,M),K=Au(P,L.mode,K),K.return=L,L=K),E(L)):l(L,M)}return function(L,M,P,K){try{jo=0;var re=Ge(L,M,P,K);return Ps=null,re}catch(se){if(se===Us||se===da)throw se;var Ie=qt(29,se,null,L.mode);return Ie.lanes=K,Ie.return=L,Ie}finally{}}}var Wi=Ch(!0),_h=Ch(!1),hi=!1;function zu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gu(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function mi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function gi(n,s,l){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Le&2)!==0){var y=u.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),u.pending=s,s=oa(n),rh(n,null,l),s}return sa(n,u,s,l),oa(n)}function Fo(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,l|=u,s.lanes=l,gp(n,l)}}function Ou(n,s){var l=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var y=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?y=v=E:v=v.next=E,l=l.next}while(l!==null);v===null?y=v=s:v=v.next=s}else y=v=s;l={baseState:u.baseState,firstBaseUpdate:y,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}var ju=!1;function Yo(){if(ju){var n=Ls;if(n!==null)throw n}}function Ko(n,s,l,u){ju=!1;var y=n.updateQueue;hi=!1;var v=y.firstBaseUpdate,E=y.lastBaseUpdate,C=y.shared.pending;if(C!==null){y.shared.pending=null;var R=C,V=R.next;R.next=null,E===null?v=V:E.next=V,E=R;var F=n.alternate;F!==null&&(F=F.updateQueue,C=F.lastBaseUpdate,C!==E&&(C===null?F.firstBaseUpdate=V:C.next=V,F.lastBaseUpdate=R))}if(v!==null){var J=y.baseState;E=0,F=V=R=null,C=v;do{var B=C.lane&-536870913,z=B!==C.lane;if(z?(Re&B)===B:(u&B)===B){B!==0&&B===ks&&(ju=!0),F!==null&&(F=F.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ie=n,ue=C;B=s;var Ge=l;switch(ue.tag){case 1:if(ie=ue.payload,typeof ie=="function"){J=ie.call(Ge,J,B);break e}J=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=ue.payload,B=typeof ie=="function"?ie.call(Ge,J,B):ie,B==null)break e;J=T({},J,B);break e;case 2:hi=!0}}B=C.callback,B!==null&&(n.flags|=64,z&&(n.flags|=8192),z=y.callbacks,z===null?y.callbacks=[B]:z.push(B))}else z={lane:B,tag:C.tag,payload:C.payload,callback:C.callback,next:null},F===null?(V=F=z,R=J):F=F.next=z,E|=B;if(C=C.next,C===null){if(C=y.shared.pending,C===null)break;z=C,C=z.next,z.next=null,y.lastBaseUpdate=z,y.shared.pending=null}}while(!0);F===null&&(R=J),y.baseState=R,y.firstBaseUpdate=V,y.lastBaseUpdate=F,v===null&&(y.shared.lanes=0),Si|=E,n.lanes=E,n.memoizedState=J}}function Nh(n,s){if(typeof n!="function")throw Error(o(191,n));n.call(s)}function Ah(n,s){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)Nh(l[n],s)}var Vs=I(null),ma=I(0);function Rh(n,s){n=$n,Z(ma,n),Z(Vs,s),$n=n|s.baseLanes}function qu(){Z(ma,$n),Z(Vs,Vs.current)}function Fu(){$n=ma.current,$(Vs),$(ma)}var Ft=I(null),sn=null;function yi(n){var s=n.alternate;Z(nt,nt.current&1),Z(Ft,n),sn===null&&(s===null||Vs.current!==null||s.memoizedState!==null)&&(sn=n)}function Yu(n){Z(nt,nt.current),Z(Ft,n),sn===null&&(sn=n)}function wh(n){n.tag===22?(Z(nt,nt.current),Z(Ft,n),sn===null&&(sn=n)):xi()}function xi(){Z(nt,nt.current),Z(Ft,Ft.current)}function Yt(n){$(Ft),sn===n&&(sn=null),$(nt)}var nt=I(0);function ga(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Wc(l)||Zc(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Gn=0,ve=null,He=null,lt=null,ya=!1,Bs=!1,Zi=!1,xa=0,Jo=0,Hs=null,xE=0;function We(){throw Error(o(321))}function Ku(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!jt(n[l],s[l]))return!1;return!0}function Ju(n,s,l,u,y,v){return Gn=v,ve=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=n===null||n.memoizedState===null?fm:uc,Zi=!1,v=l(u,y),Zi=!1,Bs&&(v=Ih(s,l,u,y)),Mh(n),v}function Mh(n){H.H=Qo;var s=He!==null&&He.next!==null;if(Gn=0,lt=He=ve=null,ya=!1,Jo=0,Hs=null,s)throw Error(o(300));n===null||at||(n=n.dependencies,n!==null&&ra(n)&&(at=!0))}function Ih(n,s,l,u){ve=n;var y=0;do{if(Bs&&(Hs=null),Jo=0,Bs=!1,25<=y)throw Error(o(301));if(y+=1,lt=He=null,n.updateQueue!=null){var v=n.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}H.H=pm,v=s(l,u)}while(Bs);return v}function vE(){var n=H.H,s=n.useState()[0];return s=typeof s.then=="function"?$o(s):s,n=n.useState()[0],(He!==null?He.memoizedState:null)!==n&&(ve.flags|=1024),s}function $u(){var n=xa!==0;return xa=0,n}function Xu(n,s,l){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~l}function Qu(n){if(ya){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ya=!1}Gn=0,lt=He=ve=null,Bs=!1,Jo=xa=0,Hs=null}function At(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?ve.memoizedState=lt=n:lt=lt.next=n,lt}function it(){if(He===null){var n=ve.alternate;n=n!==null?n.memoizedState:null}else n=He.next;var s=lt===null?ve.memoizedState:lt.next;if(s!==null)lt=s,He=n;else{if(n===null)throw ve.alternate===null?Error(o(467)):Error(o(310));He=n,n={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},lt===null?ve.memoizedState=lt=n:lt=lt.next=n}return lt}function va(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $o(n){var s=Jo;return Jo+=1,Hs===null&&(Hs=[]),n=Sh(Hs,n,s),s=ve,(lt===null?s.memoizedState:lt.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?fm:uc),n}function Ta(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return $o(n);if(n.$$typeof===D)return vt(n)}throw Error(o(438,String(n)))}function Wu(n){var s=null,l=ve.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=ve.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=va(),ve.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(n),u=0;u<n;u++)l[u]=W;return s.index++,l}function On(n,s){return typeof s=="function"?s(n):s}function Sa(n){var s=it();return Zu(s,He,n)}function Zu(n,s,l){var u=n.queue;if(u===null)throw Error(o(311));u.lastRenderedReducer=l;var y=n.baseQueue,v=u.pending;if(v!==null){if(y!==null){var E=y.next;y.next=v.next,v.next=E}s.baseQueue=y=v,u.pending=null}if(v=n.baseState,y===null)n.memoizedState=v;else{s=y.next;var C=E=null,R=null,V=s,F=!1;do{var J=V.lane&-536870913;if(J!==V.lane?(Re&J)===J:(Gn&J)===J){var B=V.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),J===ks&&(F=!0);else if((Gn&B)===B){V=V.next,B===ks&&(F=!0);continue}else J={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},R===null?(C=R=J,E=v):R=R.next=J,ve.lanes|=B,Si|=B;J=V.action,Zi&&l(v,J),v=V.hasEagerState?V.eagerState:l(v,J)}else B={lane:J,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},R===null?(C=R=B,E=v):R=R.next=B,ve.lanes|=J,Si|=J;V=V.next}while(V!==null&&V!==s);if(R===null?E=v:R.next=C,!jt(v,n.memoizedState)&&(at=!0,F&&(l=Ls,l!==null)))throw l;n.memoizedState=v,n.baseState=E,n.baseQueue=R,u.lastRenderedState=v}return y===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function ec(n){var s=it(),l=s.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=n;var u=l.dispatch,y=l.pending,v=s.memoizedState;if(y!==null){l.pending=null;var E=y=y.next;do v=n(v,E.action),E=E.next;while(E!==y);jt(v,s.memoizedState)||(at=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),l.lastRenderedState=v}return[v,u]}function Dh(n,s,l){var u=ve,y=it(),v=Me;if(v){if(l===void 0)throw Error(o(407));l=l()}else l=s();var E=!jt((He||y).memoizedState,l);if(E&&(y.memoizedState=l,at=!0),y=y.queue,ic(Uh.bind(null,u,y,n),[n]),y.getSnapshot!==s||E||lt!==null&&lt.memoizedState.tag&1){if(u.flags|=2048,zs(9,{destroy:void 0},Lh.bind(null,u,y,l,s),null),je===null)throw Error(o(349));v||(Gn&127)!==0||kh(u,s,l)}return l}function kh(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=ve.updateQueue,s===null?(s=va(),ve.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function Lh(n,s,l,u){s.value=l,s.getSnapshot=u,Ph(s)&&Vh(n)}function Uh(n,s,l){return l(function(){Ph(s)&&Vh(n)})}function Ph(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!jt(n,l)}catch{return!0}}function Vh(n){var s=qi(n,2);s!==null&&Bt(s,n,2)}function tc(n){var s=At();if(typeof n=="function"){var l=n;if(n=l(),Zi){ai(!0);try{l()}finally{ai(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:n},s}function Bh(n,s,l,u){return n.baseState=l,Zu(n,He,typeof u=="function"?u:On)}function TE(n,s,l,u,y){if(Ca(n))throw Error(o(485));if(n=s.action,n!==null){var v={payload:y,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){v.listeners.push(E)}};H.T!==null?l(!0):v.isTransition=!1,u(v),l=s.pending,l===null?(v.next=s.pending=v,Hh(s,v)):(v.next=l.next,s.pending=l.next=v)}}function Hh(n,s){var l=s.action,u=s.payload,y=n.state;if(s.isTransition){var v=H.T,E={};H.T=E;try{var C=l(y,u),R=H.S;R!==null&&R(E,C),zh(n,s,C)}catch(V){nc(n,s,V)}finally{v!==null&&E.types!==null&&(v.types=E.types),H.T=v}}else try{v=l(y,u),zh(n,s,v)}catch(V){nc(n,s,V)}}function zh(n,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Gh(n,s,u)},function(u){return nc(n,s,u)}):Gh(n,s,l)}function Gh(n,s,l){s.status="fulfilled",s.value=l,Oh(s),n.state=l,s=n.pending,s!==null&&(l=s.next,l===s?n.pending=null:(l=l.next,s.next=l,Hh(n,l)))}function nc(n,s,l){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,Oh(s),s=s.next;while(s!==u)}n.action=null}function Oh(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function jh(n,s){return s}function qh(n,s){if(Me){var l=je.formState;if(l!==null){e:{var u=ve;if(Me){if(Ye){t:{for(var y=Ye,v=nn;y.nodeType!==8;){if(!v){y=null;break t}if(y=on(y.nextSibling),y===null){y=null;break t}}v=y.data,y=v==="F!"||v==="F"?y:null}if(y){Ye=on(y.nextSibling),u=y.data==="F!";break e}}fi(u)}u=!1}u&&(s=l[0])}}return l=At(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jh,lastRenderedState:s},l.queue=u,l=um.bind(null,ve,u),u.dispatch=l,u=tc(!1),v=rc.bind(null,ve,!1,u.queue),u=At(),y={state:s,dispatch:null,action:n,pending:null},u.queue=y,l=TE.bind(null,ve,y,v,l),y.dispatch=l,u.memoizedState=n,[s,l,!1]}function Fh(n){var s=it();return Yh(s,He,n)}function Yh(n,s,l){if(s=Zu(n,s,jh)[0],n=Sa(On)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=$o(s)}catch(E){throw E===Us?da:E}else u=s;s=it();var y=s.queue,v=y.dispatch;return l!==s.memoizedState&&(ve.flags|=2048,zs(9,{destroy:void 0},SE.bind(null,y,l),null)),[u,v,n]}function SE(n,s){n.action=s}function Kh(n){var s=it(),l=He;if(l!==null)return Yh(s,l,n);it(),s=s.memoizedState,l=it();var u=l.queue.dispatch;return l.memoizedState=n,[s,u,!1]}function zs(n,s,l,u){return n={tag:n,create:l,deps:u,inst:s,next:null},s=ve.updateQueue,s===null&&(s=va(),ve.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=n.next=n:(u=l.next,l.next=n,n.next=u,s.lastEffect=n),n}function Jh(){return it().memoizedState}function Ea(n,s,l,u){var y=At();ve.flags|=n,y.memoizedState=zs(1|s,{destroy:void 0},l,u===void 0?null:u)}function ba(n,s,l,u){var y=it();u=u===void 0?null:u;var v=y.memoizedState.inst;He!==null&&u!==null&&Ku(u,He.memoizedState.deps)?y.memoizedState=zs(s,v,l,u):(ve.flags|=n,y.memoizedState=zs(1|s,v,l,u))}function $h(n,s){Ea(8390656,8,n,s)}function ic(n,s){ba(2048,8,n,s)}function EE(n){ve.flags|=4;var s=ve.updateQueue;if(s===null)s=va(),ve.updateQueue=s,s.events=[n];else{var l=s.events;l===null?s.events=[n]:l.push(n)}}function Xh(n){var s=it().memoizedState;return EE({ref:s,nextImpl:n}),function(){if((Le&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}function Qh(n,s){return ba(4,2,n,s)}function Wh(n,s){return ba(4,4,n,s)}function Zh(n,s){if(typeof s=="function"){n=n();var l=s(n);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function em(n,s,l){l=l!=null?l.concat([n]):null,ba(4,4,Zh.bind(null,s,n),l)}function sc(){}function tm(n,s){var l=it();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&Ku(s,u[1])?u[0]:(l.memoizedState=[n,s],n)}function nm(n,s){var l=it();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&Ku(s,u[1]))return u[0];if(u=n(),Zi){ai(!0);try{n()}finally{ai(!1)}}return l.memoizedState=[u,s],u}function oc(n,s,l){return l===void 0||(Gn&1073741824)!==0&&(Re&261930)===0?n.memoizedState=s:(n.memoizedState=l,n=i0(),ve.lanes|=n,Si|=n,l)}function im(n,s,l,u){return jt(l,s)?l:Vs.current!==null?(n=oc(n,l,u),jt(n,s)||(at=!0),n):(Gn&42)===0||(Gn&1073741824)!==0&&(Re&261930)===0?(at=!0,n.memoizedState=l):(n=i0(),ve.lanes|=n,Si|=n,s)}function sm(n,s,l,u,y){var v=Q.p;Q.p=v!==0&&8>v?v:8;var E=H.T,C={};H.T=C,rc(n,!1,s,l);try{var R=y(),V=H.S;if(V!==null&&V(C,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=yE(R,u);Xo(n,s,F,$t(n))}else Xo(n,s,u,$t(n))}catch(J){Xo(n,s,{then:function(){},status:"rejected",reason:J},$t())}finally{Q.p=v,E!==null&&C.types!==null&&(E.types=C.types),H.T=E}}function bE(){}function lc(n,s,l,u){if(n.tag!==5)throw Error(o(476));var y=om(n).queue;sm(n,y,s,ne,l===null?bE:function(){return lm(n),l(u)})}function om(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:ne},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:l},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function lm(n){var s=om(n);s.next===null&&(s=n.alternate.memoizedState),Xo(n,s.next.queue,{},$t())}function ac(){return vt(pl)}function am(){return it().memoizedState}function rm(){return it().memoizedState}function CE(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var l=$t();n=mi(l);var u=gi(s,n,l);u!==null&&(Bt(u,s,l),Fo(u,s,l)),s={cache:Pu()},n.payload=s;return}s=s.return}}function _E(n,s,l){var u=$t();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ca(n)?cm(s,l):(l=_u(n,s,l,u),l!==null&&(Bt(l,n,u),dm(l,s,u)))}function um(n,s,l){var u=$t();Xo(n,s,l,u)}function Xo(n,s,l,u){var y={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ca(n))cm(s,y);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var E=s.lastRenderedState,C=v(E,l);if(y.hasEagerState=!0,y.eagerState=C,jt(C,E))return sa(n,s,y,0),je===null&&ia(),!1}catch{}finally{}if(l=_u(n,s,y,u),l!==null)return Bt(l,n,u),dm(l,s,u),!0}return!1}function rc(n,s,l,u){if(u={lane:2,revertLane:zc(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ca(n)){if(s)throw Error(o(479))}else s=_u(n,l,u,2),s!==null&&Bt(s,n,2)}function Ca(n){var s=n.alternate;return n===ve||s!==null&&s===ve}function cm(n,s){Bs=ya=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function dm(n,s,l){if((l&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,l|=u,s.lanes=l,gp(n,l)}}var Qo={readContext:vt,use:Ta,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useLayoutEffect:We,useInsertionEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useSyncExternalStore:We,useId:We,useHostTransitionStatus:We,useFormState:We,useActionState:We,useOptimistic:We,useMemoCache:We,useCacheRefresh:We};Qo.useEffectEvent=We;var fm={readContext:vt,use:Ta,useCallback:function(n,s){return At().memoizedState=[n,s===void 0?null:s],n},useContext:vt,useEffect:$h,useImperativeHandle:function(n,s,l){l=l!=null?l.concat([n]):null,Ea(4194308,4,Zh.bind(null,s,n),l)},useLayoutEffect:function(n,s){return Ea(4194308,4,n,s)},useInsertionEffect:function(n,s){Ea(4,2,n,s)},useMemo:function(n,s){var l=At();s=s===void 0?null:s;var u=n();if(Zi){ai(!0);try{n()}finally{ai(!1)}}return l.memoizedState=[u,s],u},useReducer:function(n,s,l){var u=At();if(l!==void 0){var y=l(s);if(Zi){ai(!0);try{l(s)}finally{ai(!1)}}}else y=s;return u.memoizedState=u.baseState=y,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:y},u.queue=n,n=n.dispatch=_E.bind(null,ve,n),[u.memoizedState,n]},useRef:function(n){var s=At();return n={current:n},s.memoizedState=n},useState:function(n){n=tc(n);var s=n.queue,l=um.bind(null,ve,s);return s.dispatch=l,[n.memoizedState,l]},useDebugValue:sc,useDeferredValue:function(n,s){var l=At();return oc(l,n,s)},useTransition:function(){var n=tc(!1);return n=sm.bind(null,ve,n.queue,!0,!1),At().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,l){var u=ve,y=At();if(Me){if(l===void 0)throw Error(o(407));l=l()}else{if(l=s(),je===null)throw Error(o(349));(Re&127)!==0||kh(u,s,l)}y.memoizedState=l;var v={value:l,getSnapshot:s};return y.queue=v,$h(Uh.bind(null,u,v,n),[n]),u.flags|=2048,zs(9,{destroy:void 0},Lh.bind(null,u,v,l,s),null),l},useId:function(){var n=At(),s=je.identifierPrefix;if(Me){var l=Cn,u=bn;l=(u&~(1<<32-Ot(u)-1)).toString(32)+l,s="_"+s+"R_"+l,l=xa++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=xE++,s="_"+s+"r_"+l.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:ac,useFormState:qh,useActionState:qh,useOptimistic:function(n){var s=At();s.memoizedState=s.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=rc.bind(null,ve,!0,l),l.dispatch=s,[n,s]},useMemoCache:Wu,useCacheRefresh:function(){return At().memoizedState=CE.bind(null,ve)},useEffectEvent:function(n){var s=At(),l={impl:n};return s.memoizedState=l,function(){if((Le&2)!==0)throw Error(o(440));return l.impl.apply(void 0,arguments)}}},uc={readContext:vt,use:Ta,useCallback:tm,useContext:vt,useEffect:ic,useImperativeHandle:em,useInsertionEffect:Qh,useLayoutEffect:Wh,useMemo:nm,useReducer:Sa,useRef:Jh,useState:function(){return Sa(On)},useDebugValue:sc,useDeferredValue:function(n,s){var l=it();return im(l,He.memoizedState,n,s)},useTransition:function(){var n=Sa(On)[0],s=it().memoizedState;return[typeof n=="boolean"?n:$o(n),s]},useSyncExternalStore:Dh,useId:am,useHostTransitionStatus:ac,useFormState:Fh,useActionState:Fh,useOptimistic:function(n,s){var l=it();return Bh(l,He,n,s)},useMemoCache:Wu,useCacheRefresh:rm};uc.useEffectEvent=Xh;var pm={readContext:vt,use:Ta,useCallback:tm,useContext:vt,useEffect:ic,useImperativeHandle:em,useInsertionEffect:Qh,useLayoutEffect:Wh,useMemo:nm,useReducer:ec,useRef:Jh,useState:function(){return ec(On)},useDebugValue:sc,useDeferredValue:function(n,s){var l=it();return He===null?oc(l,n,s):im(l,He.memoizedState,n,s)},useTransition:function(){var n=ec(On)[0],s=it().memoizedState;return[typeof n=="boolean"?n:$o(n),s]},useSyncExternalStore:Dh,useId:am,useHostTransitionStatus:ac,useFormState:Kh,useActionState:Kh,useOptimistic:function(n,s){var l=it();return He!==null?Bh(l,He,n,s):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:Wu,useCacheRefresh:rm};pm.useEffectEvent=Xh;function cc(n,s,l,u){s=n.memoizedState,l=l(u,s),l=l==null?s:T({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var dc={enqueueSetState:function(n,s,l){n=n._reactInternals;var u=$t(),y=mi(u);y.payload=s,l!=null&&(y.callback=l),s=gi(n,y,u),s!==null&&(Bt(s,n,u),Fo(s,n,u))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var u=$t(),y=mi(u);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=gi(n,y,u),s!==null&&(Bt(s,n,u),Fo(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=$t(),u=mi(l);u.tag=2,s!=null&&(u.callback=s),s=gi(n,u,l),s!==null&&(Bt(s,n,l),Fo(s,n,l))}};function hm(n,s,l,u,y,v,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,v,E):s.prototype&&s.prototype.isPureReactComponent?!Vo(l,u)||!Vo(y,v):!0}function mm(n,s,l,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==n&&dc.enqueueReplaceState(s,s.state,null)}function es(n,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(n=n.defaultProps){l===s&&(l=T({},l));for(var y in n)l[y]===void 0&&(l[y]=n[y])}return l}function gm(n){na(n)}function ym(n){console.error(n)}function xm(n){na(n)}function _a(n,s){try{var l=n.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function vm(n,s,l){try{var u=n.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function fc(n,s,l){return l=mi(l),l.tag=3,l.payload={element:null},l.callback=function(){_a(n,s)},l}function Tm(n){return n=mi(n),n.tag=3,n}function Sm(n,s,l,u){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var v=u.value;n.payload=function(){return y(v)},n.callback=function(){vm(s,l,u)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){vm(s,l,u),typeof y!="function"&&(Ei===null?Ei=new Set([this]):Ei.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function NE(n,s,l,u,y){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&Ds(s,l,y,!0),l=Ft.current,l!==null){switch(l.tag){case 31:case 13:return sn===null?Va():l.alternate===null&&Ze===0&&(Ze=3),l.flags&=-257,l.flags|=65536,l.lanes=y,u===fa?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),Vc(n,u,y)),!1;case 22:return l.flags|=65536,u===fa?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),Vc(n,u,y)),!1}throw Error(o(435,l.tag))}return Vc(n,u,y),Va(),!1}if(Me)return s=Ft.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=y,u!==Iu&&(n=Error(o(422),{cause:u}),zo(Zt(n,l)))):(u!==Iu&&(s=Error(o(423),{cause:u}),zo(Zt(s,l))),n=n.current.alternate,n.flags|=65536,y&=-y,n.lanes|=y,u=Zt(u,l),y=fc(n.stateNode,u,y),Ou(n,y),Ze!==4&&(Ze=2)),!1;var v=Error(o(520),{cause:u});if(v=Zt(v,l),ol===null?ol=[v]:ol.push(v),Ze!==4&&(Ze=2),s===null)return!0;u=Zt(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,n=y&-y,l.lanes|=n,n=fc(l.stateNode,u,n),Ou(l,n),!1;case 1:if(s=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ei===null||!Ei.has(v))))return l.flags|=65536,y&=-y,l.lanes|=y,y=Tm(y),Sm(y,n,l,u),Ou(l,y),!1}l=l.return}while(l!==null);return!1}var pc=Error(o(461)),at=!1;function Tt(n,s,l,u){s.child=n===null?_h(s,null,l,u):Wi(s,n.child,l,u)}function Em(n,s,l,u,y){l=l.render;var v=s.ref;if("ref"in u){var E={};for(var C in u)C!=="ref"&&(E[C]=u[C])}else E=u;return Ji(s),u=Ju(n,s,l,E,v,y),C=$u(),n!==null&&!at?(Xu(n,s,y),jn(n,s,y)):(Me&&C&&wu(s),s.flags|=1,Tt(n,s,u,y),s.child)}function bm(n,s,l,u,y){if(n===null){var v=l.type;return typeof v=="function"&&!Nu(v)&&v.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=v,Cm(n,s,v,u,y)):(n=la(l.type,null,u,s,s.mode,y),n.ref=s.ref,n.return=s,s.child=n)}if(v=n.child,!Sc(n,y)){var E=v.memoizedProps;if(l=l.compare,l=l!==null?l:Vo,l(E,u)&&n.ref===s.ref)return jn(n,s,y)}return s.flags|=1,n=Vn(v,u),n.ref=s.ref,n.return=s,s.child=n}function Cm(n,s,l,u,y){if(n!==null){var v=n.memoizedProps;if(Vo(v,u)&&n.ref===s.ref)if(at=!1,s.pendingProps=u=v,Sc(n,y))(n.flags&131072)!==0&&(at=!0);else return s.lanes=n.lanes,jn(n,s,y)}return hc(n,s,l,u,y)}function _m(n,s,l,u){var y=u.children,v=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(v=v!==null?v.baseLanes|l:l,n!==null){for(u=s.child=n.child,y=0;u!==null;)y=y|u.lanes|u.childLanes,u=u.sibling;u=y&~v}else u=0,s.child=null;return Nm(n,s,v,l,u)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&ca(s,v!==null?v.cachePool:null),v!==null?Rh(s,v):qu(),wh(s);else return u=s.lanes=536870912,Nm(n,s,v!==null?v.baseLanes|l:l,l,u)}else v!==null?(ca(s,v.cachePool),Rh(s,v),xi(),s.memoizedState=null):(n!==null&&ca(s,null),qu(),xi());return Tt(n,s,y,l),s.child}function Wo(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Nm(n,s,l,u,y){var v=Bu();return v=v===null?null:{parent:ot._currentValue,pool:v},s.memoizedState={baseLanes:l,cachePool:v},n!==null&&ca(s,null),qu(),wh(s),n!==null&&Ds(n,s,u,!0),s.childLanes=y,null}function Na(n,s){return s=Ra({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function Am(n,s,l){return Wi(s,n.child,null,l),n=Na(s,s.pendingProps),n.flags|=2,Yt(s),s.memoizedState=null,n}function AE(n,s,l){var u=s.pendingProps,y=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Me){if(u.mode==="hidden")return n=Na(s,u),s.lanes=536870912,Wo(null,n);if(Yu(s),(n=Ye)?(n=H0(n,nn),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:ci!==null?{id:bn,overflow:Cn}:null,retryLane:536870912,hydrationErrors:null},l=ch(n),l.return=s,s.child=l,xt=s,Ye=null)):n=null,n===null)throw fi(s);return s.lanes=536870912,null}return Na(s,u)}var v=n.memoizedState;if(v!==null){var E=v.dehydrated;if(Yu(s),y)if(s.flags&256)s.flags&=-257,s=Am(n,s,l);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(o(558));else if(at||Ds(n,s,l,!1),y=(l&n.childLanes)!==0,at||y){if(u=je,u!==null&&(E=yp(u,l),E!==0&&E!==v.retryLane))throw v.retryLane=E,qi(n,E),Bt(u,n,E),pc;Va(),s=Am(n,s,l)}else n=v.treeContext,Ye=on(E.nextSibling),xt=s,Me=!0,di=null,nn=!1,n!==null&&ph(s,n),s=Na(s,u),s.flags|=4096;return s}return n=Vn(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Aa(n,s){var l=s.ref;if(l===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(n===null||n.ref!==l)&&(s.flags|=4194816)}}function hc(n,s,l,u,y){return Ji(s),l=Ju(n,s,l,u,void 0,y),u=$u(),n!==null&&!at?(Xu(n,s,y),jn(n,s,y)):(Me&&u&&wu(s),s.flags|=1,Tt(n,s,l,y),s.child)}function Rm(n,s,l,u,y,v){return Ji(s),s.updateQueue=null,l=Ih(s,u,l,y),Mh(n),u=$u(),n!==null&&!at?(Xu(n,s,v),jn(n,s,v)):(Me&&u&&wu(s),s.flags|=1,Tt(n,s,l,v),s.child)}function wm(n,s,l,u,y){if(Ji(s),s.stateNode===null){var v=Rs,E=l.contextType;typeof E=="object"&&E!==null&&(v=vt(E)),v=new l(u,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=dc,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=u,v.state=s.memoizedState,v.refs={},zu(s),E=l.contextType,v.context=typeof E=="object"&&E!==null?vt(E):Rs,v.state=s.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(cc(s,l,E,u),v.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(E=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),E!==v.state&&dc.enqueueReplaceState(v,v.state,null),Ko(s,u,v,y),Yo(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){v=s.stateNode;var C=s.memoizedProps,R=es(l,C);v.props=R;var V=v.context,F=l.contextType;E=Rs,typeof F=="object"&&F!==null&&(E=vt(F));var J=l.getDerivedStateFromProps;F=typeof J=="function"||typeof v.getSnapshotBeforeUpdate=="function",C=s.pendingProps!==C,F||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C||V!==E)&&mm(s,v,u,E),hi=!1;var B=s.memoizedState;v.state=B,Ko(s,u,v,y),Yo(),V=s.memoizedState,C||B!==V||hi?(typeof J=="function"&&(cc(s,l,J,u),V=s.memoizedState),(R=hi||hm(s,l,R,u,B,V,E))?(F||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=V),v.props=u,v.state=V,v.context=E,u=R):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{v=s.stateNode,Gu(n,s),E=s.memoizedProps,F=es(l,E),v.props=F,J=s.pendingProps,B=v.context,V=l.contextType,R=Rs,typeof V=="object"&&V!==null&&(R=vt(V)),C=l.getDerivedStateFromProps,(V=typeof C=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(E!==J||B!==R)&&mm(s,v,u,R),hi=!1,B=s.memoizedState,v.state=B,Ko(s,u,v,y),Yo();var z=s.memoizedState;E!==J||B!==z||hi||n!==null&&n.dependencies!==null&&ra(n.dependencies)?(typeof C=="function"&&(cc(s,l,C,u),z=s.memoizedState),(F=hi||hm(s,l,F,u,B,z,R)||n!==null&&n.dependencies!==null&&ra(n.dependencies))?(V||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,z,R),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,z,R)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||E===n.memoizedProps&&B===n.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&B===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=z),v.props=u,v.state=z,v.context=R,u=F):(typeof v.componentDidUpdate!="function"||E===n.memoizedProps&&B===n.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&B===n.memoizedState||(s.flags|=1024),u=!1)}return v=u,Aa(n,s),u=(s.flags&128)!==0,v||u?(v=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,n!==null&&u?(s.child=Wi(s,n.child,null,y),s.child=Wi(s,null,l,y)):Tt(n,s,l,y),s.memoizedState=v.state,n=s.child):n=jn(n,s,y),n}function Mm(n,s,l,u){return Yi(),s.flags|=256,Tt(n,s,l,u),s.child}var mc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gc(n){return{baseLanes:n,cachePool:vh()}}function yc(n,s,l){return n=n!==null?n.childLanes&~l:0,s&&(n|=Jt),n}function Im(n,s,l){var u=s.pendingProps,y=!1,v=(s.flags&128)!==0,E;if((E=v)||(E=n!==null&&n.memoizedState===null?!1:(nt.current&2)!==0),E&&(y=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,n===null){if(Me){if(y?yi(s):xi(),(n=Ye)?(n=H0(n,nn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:ci!==null?{id:bn,overflow:Cn}:null,retryLane:536870912,hydrationErrors:null},l=ch(n),l.return=s,s.child=l,xt=s,Ye=null)):n=null,n===null)throw fi(s);return Zc(n)?s.lanes=32:s.lanes=536870912,null}var C=u.children;return u=u.fallback,y?(xi(),y=s.mode,C=Ra({mode:"hidden",children:C},y),u=Fi(u,y,l,null),C.return=s,u.return=s,C.sibling=u,s.child=C,u=s.child,u.memoizedState=gc(l),u.childLanes=yc(n,E,l),s.memoizedState=mc,Wo(null,u)):(yi(s),xc(s,C))}var R=n.memoizedState;if(R!==null&&(C=R.dehydrated,C!==null)){if(v)s.flags&256?(yi(s),s.flags&=-257,s=vc(n,s,l)):s.memoizedState!==null?(xi(),s.child=n.child,s.flags|=128,s=null):(xi(),C=u.fallback,y=s.mode,u=Ra({mode:"visible",children:u.children},y),C=Fi(C,y,l,null),C.flags|=2,u.return=s,C.return=s,u.sibling=C,s.child=u,Wi(s,n.child,null,l),u=s.child,u.memoizedState=gc(l),u.childLanes=yc(n,E,l),s.memoizedState=mc,s=Wo(null,u));else if(yi(s),Zc(C)){if(E=C.nextSibling&&C.nextSibling.dataset,E)var V=E.dgst;E=V,u=Error(o(419)),u.stack="",u.digest=E,zo({value:u,source:null,stack:null}),s=vc(n,s,l)}else if(at||Ds(n,s,l,!1),E=(l&n.childLanes)!==0,at||E){if(E=je,E!==null&&(u=yp(E,l),u!==0&&u!==R.retryLane))throw R.retryLane=u,qi(n,u),Bt(E,n,u),pc;Wc(C)||Va(),s=vc(n,s,l)}else Wc(C)?(s.flags|=192,s.child=n.child,s=null):(n=R.treeContext,Ye=on(C.nextSibling),xt=s,Me=!0,di=null,nn=!1,n!==null&&ph(s,n),s=xc(s,u.children),s.flags|=4096);return s}return y?(xi(),C=u.fallback,y=s.mode,R=n.child,V=R.sibling,u=Vn(R,{mode:"hidden",children:u.children}),u.subtreeFlags=R.subtreeFlags&65011712,V!==null?C=Vn(V,C):(C=Fi(C,y,l,null),C.flags|=2),C.return=s,u.return=s,u.sibling=C,s.child=u,Wo(null,u),u=s.child,C=n.child.memoizedState,C===null?C=gc(l):(y=C.cachePool,y!==null?(R=ot._currentValue,y=y.parent!==R?{parent:R,pool:R}:y):y=vh(),C={baseLanes:C.baseLanes|l,cachePool:y}),u.memoizedState=C,u.childLanes=yc(n,E,l),s.memoizedState=mc,Wo(n.child,u)):(yi(s),l=n.child,n=l.sibling,l=Vn(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,n!==null&&(E=s.deletions,E===null?(s.deletions=[n],s.flags|=16):E.push(n)),s.child=l,s.memoizedState=null,l)}function xc(n,s){return s=Ra({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Ra(n,s){return n=qt(22,n,null,s),n.lanes=0,n}function vc(n,s,l){return Wi(s,n.child,null,l),n=xc(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Dm(n,s,l){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),Lu(n.return,s,l)}function Tc(n,s,l,u,y,v){var E=n.memoizedState;E===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:y,treeForkCount:v}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=l,E.tailMode=y,E.treeForkCount=v)}function km(n,s,l){var u=s.pendingProps,y=u.revealOrder,v=u.tail;u=u.children;var E=nt.current,C=(E&2)!==0;if(C?(E=E&1|2,s.flags|=128):E&=1,Z(nt,E),Tt(n,s,u,l),u=Me?Ho:0,!C&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Dm(n,l,s);else if(n.tag===19)Dm(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(y){case"forwards":for(l=s.child,y=null;l!==null;)n=l.alternate,n!==null&&ga(n)===null&&(y=l),l=l.sibling;l=y,l===null?(y=s.child,s.child=null):(y=l.sibling,l.sibling=null),Tc(s,!1,y,l,v,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,y=s.child,s.child=null;y!==null;){if(n=y.alternate,n!==null&&ga(n)===null){s.child=y;break}n=y.sibling,y.sibling=l,l=y,y=n}Tc(s,!0,l,null,v,u);break;case"together":Tc(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function jn(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),Si|=s.lanes,(l&s.childLanes)===0)if(n!==null){if(Ds(n,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(o(153));if(s.child!==null){for(n=s.child,l=Vn(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=Vn(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function Sc(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&ra(n)))}function RE(n,s,l){switch(s.tag){case 3:st(s,s.stateNode.containerInfo),pi(s,ot,n.memoizedState.cache),Yi();break;case 27:case 5:hn(s);break;case 4:st(s,s.stateNode.containerInfo);break;case 10:pi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Yu(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(yi(s),s.flags|=128,null):(l&s.child.childLanes)!==0?Im(n,s,l):(yi(s),n=jn(n,s,l),n!==null?n.sibling:null);yi(s);break;case 19:var y=(n.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(Ds(n,s,l,!1),u=(l&s.childLanes)!==0),y){if(u)return km(n,s,l);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Z(nt,nt.current),u)break;return null;case 22:return s.lanes=0,_m(n,s,l,s.pendingProps);case 24:pi(s,ot,n.memoizedState.cache)}return jn(n,s,l)}function Lm(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps)at=!0;else{if(!Sc(n,l)&&(s.flags&128)===0)return at=!1,RE(n,s,l);at=(n.flags&131072)!==0}else at=!1,Me&&(s.flags&1048576)!==0&&fh(s,Ho,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=Xi(s.elementType),s.type=n,typeof n=="function")Nu(n)?(u=es(n,u),s.tag=1,s=wm(null,s,n,u,l)):(s.tag=0,s=hc(null,s,n,u,l));else{if(n!=null){var y=n.$$typeof;if(y===G){s.tag=11,s=Em(null,s,n,u,l);break e}else if(y===O){s.tag=14,s=bm(null,s,n,u,l);break e}}throw s=Pe(n)||n,Error(o(306,s,""))}}return s;case 0:return hc(n,s,s.type,s.pendingProps,l);case 1:return u=s.type,y=es(u,s.pendingProps),wm(n,s,u,y,l);case 3:e:{if(st(s,s.stateNode.containerInfo),n===null)throw Error(o(387));u=s.pendingProps;var v=s.memoizedState;y=v.element,Gu(n,s),Ko(s,u,null,l);var E=s.memoizedState;if(u=E.cache,pi(s,ot,u),u!==v.cache&&Uu(s,[ot],l,!0),Yo(),u=E.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=Mm(n,s,u,l);break e}else if(u!==y){y=Zt(Error(o(424)),s),zo(y),s=Mm(n,s,u,l);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ye=on(n.firstChild),xt=s,Me=!0,di=null,nn=!0,l=_h(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Yi(),u===y){s=jn(n,s,l);break e}Tt(n,s,u,l)}s=s.child}return s;case 26:return Aa(n,s),n===null?(l=F0(s.type,null,s.pendingProps,null))?s.memoizedState=l:Me||(l=s.type,n=s.pendingProps,u=qa(ye.current).createElement(l),u[yt]=s,u[Dt]=n,St(u,l,n),ht(u),s.stateNode=u):s.memoizedState=F0(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return hn(s),n===null&&Me&&(u=s.stateNode=O0(s.type,s.pendingProps,ye.current),xt=s,nn=!0,y=Ye,Ni(s.type)?(ed=y,Ye=on(u.firstChild)):Ye=y),Tt(n,s,s.pendingProps.children,l),Aa(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Me&&((y=u=Ye)&&(u=sb(u,s.type,s.pendingProps,nn),u!==null?(s.stateNode=u,xt=s,Ye=on(u.firstChild),nn=!1,y=!0):y=!1),y||fi(s)),hn(s),y=s.type,v=s.pendingProps,E=n!==null?n.memoizedProps:null,u=v.children,$c(y,v)?u=null:E!==null&&$c(y,E)&&(s.flags|=32),s.memoizedState!==null&&(y=Ju(n,s,vE,null,null,l),pl._currentValue=y),Aa(n,s),Tt(n,s,u,l),s.child;case 6:return n===null&&Me&&((n=l=Ye)&&(l=ob(l,s.pendingProps,nn),l!==null?(s.stateNode=l,xt=s,Ye=null,n=!0):n=!1),n||fi(s)),null;case 13:return Im(n,s,l);case 4:return st(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=Wi(s,null,u,l):Tt(n,s,u,l),s.child;case 11:return Em(n,s,s.type,s.pendingProps,l);case 7:return Tt(n,s,s.pendingProps,l),s.child;case 8:return Tt(n,s,s.pendingProps.children,l),s.child;case 12:return Tt(n,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,pi(s,s.type,u.value),Tt(n,s,u.children,l),s.child;case 9:return y=s.type._context,u=s.pendingProps.children,Ji(s),y=vt(y),u=u(y),s.flags|=1,Tt(n,s,u,l),s.child;case 14:return bm(n,s,s.type,s.pendingProps,l);case 15:return Cm(n,s,s.type,s.pendingProps,l);case 19:return km(n,s,l);case 31:return AE(n,s,l);case 22:return _m(n,s,l,s.pendingProps);case 24:return Ji(s),u=vt(ot),n===null?(y=Bu(),y===null&&(y=je,v=Pu(),y.pooledCache=v,v.refCount++,v!==null&&(y.pooledCacheLanes|=l),y=v),s.memoizedState={parent:u,cache:y},zu(s),pi(s,ot,y)):((n.lanes&l)!==0&&(Gu(n,s),Ko(s,null,null,l),Yo()),y=n.memoizedState,v=s.memoizedState,y.parent!==u?(y={parent:u,cache:u},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),pi(s,ot,u)):(u=v.cache,pi(s,ot,u),u!==y.cache&&Uu(s,[ot],l,!0))),Tt(n,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(o(156,s.tag))}function qn(n){n.flags|=4}function Ec(n,s,l,u,y){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(y&335544128)===y)if(n.stateNode.complete)n.flags|=8192;else if(a0())n.flags|=8192;else throw Qi=fa,Hu}else n.flags&=-16777217}function Um(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!X0(s))if(a0())n.flags|=8192;else throw Qi=fa,Hu}function wa(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?hp():536870912,n.lanes|=s,qs|=s)}function Zo(n,s){if(!Me)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Ke(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,u=0;if(s)for(var y=n.child;y!==null;)l|=y.lanes|y.childLanes,u|=y.subtreeFlags&65011712,u|=y.flags&65011712,y.return=n,y=y.sibling;else for(y=n.child;y!==null;)l|=y.lanes|y.childLanes,u|=y.subtreeFlags,u|=y.flags,y.return=n,y=y.sibling;return n.subtreeFlags|=u,n.childLanes=l,s}function wE(n,s,l){var u=s.pendingProps;switch(Mu(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(s),null;case 1:return Ke(s),null;case 3:return l=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),zn(ot),Fe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(Is(s)?qn(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Du())),Ke(s),null;case 26:var y=s.type,v=s.memoizedState;return n===null?(qn(s),v!==null?(Ke(s),Um(s,v)):(Ke(s),Ec(s,y,null,u,l))):v?v!==n.memoizedState?(qn(s),Ke(s),Um(s,v)):(Ke(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&qn(s),Ke(s),Ec(s,y,n,u,l)),null;case 27:if(Dn(s),l=ye.current,y=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&qn(s);else{if(!u){if(s.stateNode===null)throw Error(o(166));return Ke(s),null}n=te.current,Is(s)?hh(s):(n=O0(y,u,l),s.stateNode=n,qn(s))}return Ke(s),null;case 5:if(Dn(s),y=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&qn(s);else{if(!u){if(s.stateNode===null)throw Error(o(166));return Ke(s),null}if(v=te.current,Is(s))hh(s);else{var E=qa(ye.current);switch(v){case 1:v=E.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:v=E.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":v=E.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":v=E.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":v=E.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?v.multiple=!0:u.size&&(v.size=u.size);break;default:v=typeof u.is=="string"?E.createElement(y,{is:u.is}):E.createElement(y)}}v[yt]=s,v[Dt]=u;e:for(E=s.child;E!==null;){if(E.tag===5||E.tag===6)v.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break e;for(;E.sibling===null;){if(E.return===null||E.return===s)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}s.stateNode=v;e:switch(St(v,y,u),y){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&qn(s)}}return Ke(s),Ec(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,l),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&qn(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(o(166));if(n=ye.current,Is(s)){if(n=s.stateNode,l=s.memoizedProps,u=null,y=xt,y!==null)switch(y.tag){case 27:case 5:u=y.memoizedProps}n[yt]=s,n=!!(n.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||I0(n.nodeValue,l)),n||fi(s,!0)}else n=qa(n).createTextNode(u),n[yt]=s,s.stateNode=n}return Ke(s),null;case 31:if(l=s.memoizedState,n===null||n.memoizedState!==null){if(u=Is(s),l!==null){if(n===null){if(!u)throw Error(o(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(557));n[yt]=s}else Yi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ke(s),n=!1}else l=Du(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),n=!0;if(!n)return s.flags&256?(Yt(s),s):(Yt(s),null);if((s.flags&128)!==0)throw Error(o(558))}return Ke(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(y=Is(s),u!==null&&u.dehydrated!==null){if(n===null){if(!y)throw Error(o(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(o(317));y[yt]=s}else Yi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ke(s),y=!1}else y=Du(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=y),y=!0;if(!y)return s.flags&256?(Yt(s),s):(Yt(s),null)}return Yt(s),(s.flags&128)!==0?(s.lanes=l,s):(l=u!==null,n=n!==null&&n.memoizedState!==null,l&&(u=s.child,y=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(y=u.alternate.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==y&&(u.flags|=2048)),l!==n&&l&&(s.child.flags|=8192),wa(s,s.updateQueue),Ke(s),null);case 4:return Fe(),n===null&&qc(s.stateNode.containerInfo),Ke(s),null;case 10:return zn(s.type),Ke(s),null;case 19:if($(nt),u=s.memoizedState,u===null)return Ke(s),null;if(y=(s.flags&128)!==0,v=u.rendering,v===null)if(y)Zo(u,!1);else{if(Ze!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(v=ga(n),v!==null){for(s.flags|=128,Zo(u,!1),n=v.updateQueue,s.updateQueue=n,wa(s,n),s.subtreeFlags=0,n=l,l=s.child;l!==null;)uh(l,n),l=l.sibling;return Z(nt,nt.current&1|2),Me&&Bn(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&qe()>La&&(s.flags|=128,y=!0,Zo(u,!1),s.lanes=4194304)}else{if(!y)if(n=ga(v),n!==null){if(s.flags|=128,y=!0,n=n.updateQueue,s.updateQueue=n,wa(s,n),Zo(u,!0),u.tail===null&&u.tailMode==="hidden"&&!v.alternate&&!Me)return Ke(s),null}else 2*qe()-u.renderingStartTime>La&&l!==536870912&&(s.flags|=128,y=!0,Zo(u,!1),s.lanes=4194304);u.isBackwards?(v.sibling=s.child,s.child=v):(n=u.last,n!==null?n.sibling=v:s.child=v,u.last=v)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=qe(),n.sibling=null,l=nt.current,Z(nt,y?l&1|2:l&1),Me&&Bn(s,u.treeForkCount),n):(Ke(s),null);case 22:case 23:return Yt(s),Fu(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(Ke(s),s.subtreeFlags&6&&(s.flags|=8192)):Ke(s),l=s.updateQueue,l!==null&&wa(s,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),n!==null&&$($i),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),zn(ot),Ke(s),null;case 25:return null;case 30:return null}throw Error(o(156,s.tag))}function ME(n,s){switch(Mu(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return zn(ot),Fe(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Dn(s),null;case 31:if(s.memoizedState!==null){if(Yt(s),s.alternate===null)throw Error(o(340));Yi()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Yt(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(o(340));Yi()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return $(nt),null;case 4:return Fe(),null;case 10:return zn(s.type),null;case 22:case 23:return Yt(s),Fu(),n!==null&&$($i),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return zn(ot),null;case 25:return null;default:return null}}function Pm(n,s){switch(Mu(s),s.tag){case 3:zn(ot),Fe();break;case 26:case 27:case 5:Dn(s);break;case 4:Fe();break;case 31:s.memoizedState!==null&&Yt(s);break;case 13:Yt(s);break;case 19:$(nt);break;case 10:zn(s.type);break;case 22:case 23:Yt(s),Fu(),n!==null&&$($i);break;case 24:zn(ot)}}function el(n,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var y=u.next;l=y;do{if((l.tag&n)===n){u=void 0;var v=l.create,E=l.inst;u=v(),E.destroy=u}l=l.next}while(l!==y)}}catch(C){Be(s,s.return,C)}}function vi(n,s,l){try{var u=s.updateQueue,y=u!==null?u.lastEffect:null;if(y!==null){var v=y.next;u=v;do{if((u.tag&n)===n){var E=u.inst,C=E.destroy;if(C!==void 0){E.destroy=void 0,y=s;var R=l,V=C;try{V()}catch(F){Be(y,R,F)}}}u=u.next}while(u!==v)}}catch(F){Be(s,s.return,F)}}function Vm(n){var s=n.updateQueue;if(s!==null){var l=n.stateNode;try{Ah(s,l)}catch(u){Be(n,n.return,u)}}}function Bm(n,s,l){l.props=es(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(u){Be(n,s,u)}}function tl(n,s){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof l=="function"?n.refCleanup=l(u):l.current=u}}catch(y){Be(n,s,y)}}function _n(n,s){var l=n.ref,u=n.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(y){Be(n,s,y)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){Be(n,s,y)}else l.current=null}function Hm(n){var s=n.type,l=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(y){Be(n,n.return,y)}}function bc(n,s,l){try{var u=n.stateNode;WE(u,n.type,l,s),u[Dt]=s}catch(y){Be(n,n.return,y)}}function zm(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ni(n.type)||n.tag===4}function Cc(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||zm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ni(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function _c(n,s,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(n),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Un));else if(u!==4&&(u===27&&Ni(n.type)&&(l=n.stateNode,s=null),n=n.child,n!==null))for(_c(n,s,l),n=n.sibling;n!==null;)_c(n,s,l),n=n.sibling}function Ma(n,s,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(u!==4&&(u===27&&Ni(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(Ma(n,s,l),n=n.sibling;n!==null;)Ma(n,s,l),n=n.sibling}function Gm(n){var s=n.stateNode,l=n.memoizedProps;try{for(var u=n.type,y=s.attributes;y.length;)s.removeAttributeNode(y[0]);St(s,u,l),s[yt]=n,s[Dt]=l}catch(v){Be(n,n.return,v)}}var Fn=!1,rt=!1,Nc=!1,Om=typeof WeakSet=="function"?WeakSet:Set,mt=null;function IE(n,s){if(n=n.containerInfo,Kc=Qa,n=eh(n),vu(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var y=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var E=0,C=-1,R=-1,V=0,F=0,J=n,B=null;t:for(;;){for(var z;J!==l||y!==0&&J.nodeType!==3||(C=E+y),J!==v||u!==0&&J.nodeType!==3||(R=E+u),J.nodeType===3&&(E+=J.nodeValue.length),(z=J.firstChild)!==null;)B=J,J=z;for(;;){if(J===n)break t;if(B===l&&++V===y&&(C=E),B===v&&++F===u&&(R=E),(z=J.nextSibling)!==null)break;J=B,B=J.parentNode}J=z}l=C===-1||R===-1?null:{start:C,end:R}}else l=null}l=l||{start:0,end:0}}else l=null;for(Jc={focusedElem:n,selectionRange:l},Qa=!1,mt=s;mt!==null;)if(s=mt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,mt=n;else for(;mt!==null;){switch(s=mt,v=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(l=0;l<n.length;l++)y=n[l],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&v!==null){n=void 0,l=s,y=v.memoizedProps,v=v.memoizedState,u=l.stateNode;try{var ie=es(l.type,y);n=u.getSnapshotBeforeUpdate(ie,v),u.__reactInternalSnapshotBeforeUpdate=n}catch(ue){Be(l,l.return,ue)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,l=n.nodeType,l===9)Qc(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Qc(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(o(163))}if(n=s.sibling,n!==null){n.return=s.return,mt=n;break}mt=s.return}}function jm(n,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Kn(n,l),u&4&&el(5,l);break;case 1:if(Kn(n,l),u&4)if(n=l.stateNode,s===null)try{n.componentDidMount()}catch(E){Be(l,l.return,E)}else{var y=es(l.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(y,s,n.__reactInternalSnapshotBeforeUpdate)}catch(E){Be(l,l.return,E)}}u&64&&Vm(l),u&512&&tl(l,l.return);break;case 3:if(Kn(n,l),u&64&&(n=l.updateQueue,n!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Ah(n,s)}catch(E){Be(l,l.return,E)}}break;case 27:s===null&&u&4&&Gm(l);case 26:case 5:Kn(n,l),s===null&&u&4&&Hm(l),u&512&&tl(l,l.return);break;case 12:Kn(n,l);break;case 31:Kn(n,l),u&4&&Ym(n,l);break;case 13:Kn(n,l),u&4&&Km(n,l),u&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=zE.bind(null,l),lb(n,l))));break;case 22:if(u=l.memoizedState!==null||Fn,!u){s=s!==null&&s.memoizedState!==null||rt,y=Fn;var v=rt;Fn=u,(rt=s)&&!v?Jn(n,l,(l.subtreeFlags&8772)!==0):Kn(n,l),Fn=y,rt=v}break;case 30:break;default:Kn(n,l)}}function qm(n){var s=n.alternate;s!==null&&(n.alternate=null,qm(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&nu(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var $e=null,Lt=!1;function Yn(n,s,l){for(l=l.child;l!==null;)Fm(n,s,l),l=l.sibling}function Fm(n,s,l){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(_o,l)}catch{}switch(l.tag){case 26:rt||_n(l,s),Yn(n,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:rt||_n(l,s);var u=$e,y=Lt;Ni(l.type)&&($e=l.stateNode,Lt=!1),Yn(n,s,l),cl(l.stateNode),$e=u,Lt=y;break;case 5:rt||_n(l,s);case 6:if(u=$e,y=Lt,$e=null,Yn(n,s,l),$e=u,Lt=y,$e!==null)if(Lt)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(l.stateNode)}catch(v){Be(l,s,v)}else try{$e.removeChild(l.stateNode)}catch(v){Be(l,s,v)}break;case 18:$e!==null&&(Lt?(n=$e,V0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),Ws(n)):V0($e,l.stateNode));break;case 4:u=$e,y=Lt,$e=l.stateNode.containerInfo,Lt=!0,Yn(n,s,l),$e=u,Lt=y;break;case 0:case 11:case 14:case 15:vi(2,l,s),rt||vi(4,l,s),Yn(n,s,l);break;case 1:rt||(_n(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Bm(l,s,u)),Yn(n,s,l);break;case 21:Yn(n,s,l);break;case 22:rt=(u=rt)||l.memoizedState!==null,Yn(n,s,l),rt=u;break;default:Yn(n,s,l)}}function Ym(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Ws(n)}catch(l){Be(s,s.return,l)}}}function Km(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ws(n)}catch(l){Be(s,s.return,l)}}function DE(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Om),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Om),s;default:throw Error(o(435,n.tag))}}function Ia(n,s){var l=DE(n);s.forEach(function(u){if(!l.has(u)){l.add(u);var y=GE.bind(null,n,u);u.then(y,y)}})}function Ut(n,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var y=l[u],v=n,E=s,C=E;e:for(;C!==null;){switch(C.tag){case 27:if(Ni(C.type)){$e=C.stateNode,Lt=!1;break e}break;case 5:$e=C.stateNode,Lt=!1;break e;case 3:case 4:$e=C.stateNode.containerInfo,Lt=!0;break e}C=C.return}if($e===null)throw Error(o(160));Fm(v,E,y),$e=null,Lt=!1,v=y.alternate,v!==null&&(v.return=null),y.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Jm(s,n),s=s.sibling}var gn=null;function Jm(n,s){var l=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Ut(s,n),Pt(n),u&4&&(vi(3,n,n.return),el(3,n),vi(5,n,n.return));break;case 1:Ut(s,n),Pt(n),u&512&&(rt||l===null||_n(l,l.return)),u&64&&Fn&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var y=gn;if(Ut(s,n),Pt(n),u&512&&(rt||l===null||_n(l,l.return)),u&4){var v=l!==null?l.memoizedState:null;if(u=n.memoizedState,l===null)if(u===null)if(n.stateNode===null){e:{u=n.type,l=n.memoizedProps,y=y.ownerDocument||y;t:switch(u){case"title":v=y.getElementsByTagName("title")[0],(!v||v[Ro]||v[yt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=y.createElement(u),y.head.insertBefore(v,y.querySelector("head > title"))),St(v,u,l),v[yt]=n,ht(v),u=v;break e;case"link":var E=J0("link","href",y).get(u+(l.href||""));if(E){for(var C=0;C<E.length;C++)if(v=E[C],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(C,1);break t}}v=y.createElement(u),St(v,u,l),y.head.appendChild(v);break;case"meta":if(E=J0("meta","content",y).get(u+(l.content||""))){for(C=0;C<E.length;C++)if(v=E[C],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(C,1);break t}}v=y.createElement(u),St(v,u,l),y.head.appendChild(v);break;default:throw Error(o(468,u))}v[yt]=n,ht(v),u=v}n.stateNode=u}else $0(y,n.type,n.stateNode);else n.stateNode=K0(y,u,n.memoizedProps);else v!==u?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,u===null?$0(y,n.type,n.stateNode):K0(y,u,n.memoizedProps)):u===null&&n.stateNode!==null&&bc(n,n.memoizedProps,l.memoizedProps)}break;case 27:Ut(s,n),Pt(n),u&512&&(rt||l===null||_n(l,l.return)),l!==null&&u&4&&bc(n,n.memoizedProps,l.memoizedProps);break;case 5:if(Ut(s,n),Pt(n),u&512&&(rt||l===null||_n(l,l.return)),n.flags&32){y=n.stateNode;try{Ss(y,"")}catch(ie){Be(n,n.return,ie)}}u&4&&n.stateNode!=null&&(y=n.memoizedProps,bc(n,y,l!==null?l.memoizedProps:y)),u&1024&&(Nc=!0);break;case 6:if(Ut(s,n),Pt(n),u&4){if(n.stateNode===null)throw Error(o(162));u=n.memoizedProps,l=n.stateNode;try{l.nodeValue=u}catch(ie){Be(n,n.return,ie)}}break;case 3:if(Ka=null,y=gn,gn=Fa(s.containerInfo),Ut(s,n),gn=y,Pt(n),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Ws(s.containerInfo)}catch(ie){Be(n,n.return,ie)}Nc&&(Nc=!1,$m(n));break;case 4:u=gn,gn=Fa(n.stateNode.containerInfo),Ut(s,n),Pt(n),gn=u;break;case 12:Ut(s,n),Pt(n);break;case 31:Ut(s,n),Pt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Ia(n,u)));break;case 13:Ut(s,n),Pt(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ka=qe()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Ia(n,u)));break;case 22:y=n.memoizedState!==null;var R=l!==null&&l.memoizedState!==null,V=Fn,F=rt;if(Fn=V||y,rt=F||R,Ut(s,n),rt=F,Fn=V,Pt(n),u&8192)e:for(s=n.stateNode,s._visibility=y?s._visibility&-2:s._visibility|1,y&&(l===null||R||Fn||rt||ts(n)),l=null,s=n;;){if(s.tag===5||s.tag===26){if(l===null){R=l=s;try{if(v=R.stateNode,y)E=v.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{C=R.stateNode;var J=R.memoizedProps.style,B=J!=null&&J.hasOwnProperty("display")?J.display:null;C.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ie){Be(R,R.return,ie)}}}else if(s.tag===6){if(l===null){R=s;try{R.stateNode.nodeValue=y?"":R.memoizedProps}catch(ie){Be(R,R.return,ie)}}}else if(s.tag===18){if(l===null){R=s;try{var z=R.stateNode;y?B0(z,!0):B0(R.stateNode,!1)}catch(ie){Be(R,R.return,ie)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Ia(n,l))));break;case 19:Ut(s,n),Pt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Ia(n,u)));break;case 30:break;case 21:break;default:Ut(s,n),Pt(n)}}function Pt(n){var s=n.flags;if(s&2){try{for(var l,u=n.return;u!==null;){if(zm(u)){l=u;break}u=u.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var y=l.stateNode,v=Cc(n);Ma(n,v,y);break;case 5:var E=l.stateNode;l.flags&32&&(Ss(E,""),l.flags&=-33);var C=Cc(n);Ma(n,C,E);break;case 3:case 4:var R=l.stateNode.containerInfo,V=Cc(n);_c(n,V,R);break;default:throw Error(o(161))}}catch(F){Be(n,n.return,F)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function $m(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;$m(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Kn(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)jm(n,s.alternate,s),s=s.sibling}function ts(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:vi(4,s,s.return),ts(s);break;case 1:_n(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&Bm(s,s.return,l),ts(s);break;case 27:cl(s.stateNode);case 26:case 5:_n(s,s.return),ts(s);break;case 22:s.memoizedState===null&&ts(s);break;case 30:ts(s);break;default:ts(s)}n=n.sibling}}function Jn(n,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,y=n,v=s,E=v.flags;switch(v.tag){case 0:case 11:case 15:Jn(y,v,l),el(4,v);break;case 1:if(Jn(y,v,l),u=v,y=u.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(V){Be(u,u.return,V)}if(u=v,y=u.updateQueue,y!==null){var C=u.stateNode;try{var R=y.shared.hiddenCallbacks;if(R!==null)for(y.shared.hiddenCallbacks=null,y=0;y<R.length;y++)Nh(R[y],C)}catch(V){Be(u,u.return,V)}}l&&E&64&&Vm(v),tl(v,v.return);break;case 27:Gm(v);case 26:case 5:Jn(y,v,l),l&&u===null&&E&4&&Hm(v),tl(v,v.return);break;case 12:Jn(y,v,l);break;case 31:Jn(y,v,l),l&&E&4&&Ym(y,v);break;case 13:Jn(y,v,l),l&&E&4&&Km(y,v);break;case 22:v.memoizedState===null&&Jn(y,v,l),tl(v,v.return);break;case 30:break;default:Jn(y,v,l)}s=s.sibling}}function Ac(n,s){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&Go(l))}function Rc(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Go(n))}function yn(n,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Xm(n,s,l,u),s=s.sibling}function Xm(n,s,l,u){var y=s.flags;switch(s.tag){case 0:case 11:case 15:yn(n,s,l,u),y&2048&&el(9,s);break;case 1:yn(n,s,l,u);break;case 3:yn(n,s,l,u),y&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Go(n)));break;case 12:if(y&2048){yn(n,s,l,u),n=s.stateNode;try{var v=s.memoizedProps,E=v.id,C=v.onPostCommit;typeof C=="function"&&C(E,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(R){Be(s,s.return,R)}}else yn(n,s,l,u);break;case 31:yn(n,s,l,u);break;case 13:yn(n,s,l,u);break;case 23:break;case 22:v=s.stateNode,E=s.alternate,s.memoizedState!==null?v._visibility&2?yn(n,s,l,u):nl(n,s):v._visibility&2?yn(n,s,l,u):(v._visibility|=2,Gs(n,s,l,u,(s.subtreeFlags&10256)!==0||!1)),y&2048&&Ac(E,s);break;case 24:yn(n,s,l,u),y&2048&&Rc(s.alternate,s);break;default:yn(n,s,l,u)}}function Gs(n,s,l,u,y){for(y=y&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var v=n,E=s,C=l,R=u,V=E.flags;switch(E.tag){case 0:case 11:case 15:Gs(v,E,C,R,y),el(8,E);break;case 23:break;case 22:var F=E.stateNode;E.memoizedState!==null?F._visibility&2?Gs(v,E,C,R,y):nl(v,E):(F._visibility|=2,Gs(v,E,C,R,y)),y&&V&2048&&Ac(E.alternate,E);break;case 24:Gs(v,E,C,R,y),y&&V&2048&&Rc(E.alternate,E);break;default:Gs(v,E,C,R,y)}s=s.sibling}}function nl(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=n,u=s,y=u.flags;switch(u.tag){case 22:nl(l,u),y&2048&&Ac(u.alternate,u);break;case 24:nl(l,u),y&2048&&Rc(u.alternate,u);break;default:nl(l,u)}s=s.sibling}}var il=8192;function Os(n,s,l){if(n.subtreeFlags&il)for(n=n.child;n!==null;)Qm(n,s,l),n=n.sibling}function Qm(n,s,l){switch(n.tag){case 26:Os(n,s,l),n.flags&il&&n.memoizedState!==null&&xb(l,gn,n.memoizedState,n.memoizedProps);break;case 5:Os(n,s,l);break;case 3:case 4:var u=gn;gn=Fa(n.stateNode.containerInfo),Os(n,s,l),gn=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=il,il=16777216,Os(n,s,l),il=u):Os(n,s,l));break;default:Os(n,s,l)}}function Wm(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function sl(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];mt=u,e0(u,n)}Wm(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Zm(n),n=n.sibling}function Zm(n){switch(n.tag){case 0:case 11:case 15:sl(n),n.flags&2048&&vi(9,n,n.return);break;case 3:sl(n);break;case 12:sl(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Da(n)):sl(n);break;default:sl(n)}}function Da(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];mt=u,e0(u,n)}Wm(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:vi(8,s,s.return),Da(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Da(s));break;default:Da(s)}n=n.sibling}}function e0(n,s){for(;mt!==null;){var l=mt;switch(l.tag){case 0:case 11:case 15:vi(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Go(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,mt=u;else e:for(l=n;mt!==null;){u=mt;var y=u.sibling,v=u.return;if(qm(u),u===l){mt=null;break e}if(y!==null){y.return=v,mt=y;break e}mt=v}}}var kE={getCacheForType:function(n){var s=vt(ot),l=s.data.get(n);return l===void 0&&(l=n(),s.data.set(n,l)),l},cacheSignal:function(){return vt(ot).controller.signal}},LE=typeof WeakMap=="function"?WeakMap:Map,Le=0,je=null,Ne=null,Re=0,Ve=0,Kt=null,Ti=!1,js=!1,wc=!1,$n=0,Ze=0,Si=0,ns=0,Mc=0,Jt=0,qs=0,ol=null,Vt=null,Ic=!1,ka=0,t0=0,La=1/0,Ua=null,Ei=null,ft=0,bi=null,Fs=null,Xn=0,Dc=0,kc=null,n0=null,ll=0,Lc=null;function $t(){return(Le&2)!==0&&Re!==0?Re&-Re:H.T!==null?zc():xp()}function i0(){if(Jt===0)if((Re&536870912)===0||Me){var n=jl;jl<<=1,(jl&3932160)===0&&(jl=262144),Jt=n}else Jt=536870912;return n=Ft.current,n!==null&&(n.flags|=32),Jt}function Bt(n,s,l){(n===je&&(Ve===2||Ve===9)||n.cancelPendingCommit!==null)&&(Ys(n,0),Ci(n,Re,Jt,!1)),Ao(n,l),((Le&2)===0||n!==je)&&(n===je&&((Le&2)===0&&(ns|=l),Ze===4&&Ci(n,Re,Jt,!1)),Nn(n))}function s0(n,s,l){if((Le&6)!==0)throw Error(o(327));var u=!l&&(s&127)===0&&(s&n.expiredLanes)===0||No(n,s),y=u?VE(n,s):Pc(n,s,!0),v=u;do{if(y===0){js&&!u&&Ci(n,s,0,!1);break}else{if(l=n.current.alternate,v&&!UE(l)){y=Pc(n,s,!1),v=!1;continue}if(y===2){if(v=s,n.errorRecoveryDisabledLanes&v)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var C=n;y=ol;var R=C.current.memoizedState.isDehydrated;if(R&&(Ys(C,E).flags|=256),E=Pc(C,E,!1),E!==2){if(wc&&!R){C.errorRecoveryDisabledLanes|=v,ns|=v,y=4;break e}v=Vt,Vt=y,v!==null&&(Vt===null?Vt=v:Vt.push.apply(Vt,v))}y=E}if(v=!1,y!==2)continue}}if(y===1){Ys(n,0),Ci(n,s,0,!0);break}e:{switch(u=n,v=y,v){case 0:case 1:throw Error(o(345));case 4:if((s&4194048)!==s)break;case 6:Ci(u,s,Jt,!Ti);break e;case 2:Vt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((s&62914560)===s&&(y=ka+300-qe(),10<y)){if(Ci(u,s,Jt,!Ti),Fl(u,0,!0)!==0)break e;Xn=s,u.timeoutHandle=U0(o0.bind(null,u,l,Vt,Ua,Ic,s,Jt,ns,qs,Ti,v,"Throttled",-0,0),y);break e}o0(u,l,Vt,Ua,Ic,s,Jt,ns,qs,Ti,v,null,-0,0)}}break}while(!0);Nn(n)}function o0(n,s,l,u,y,v,E,C,R,V,F,J,B,z){if(n.timeoutHandle=-1,J=s.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Un},Qm(s,v,J);var ie=(v&62914560)===v?ka-qe():(v&4194048)===v?t0-qe():0;if(ie=vb(J,ie),ie!==null){Xn=v,n.cancelPendingCommit=ie(p0.bind(null,n,s,v,l,u,y,E,C,R,F,J,null,B,z)),Ci(n,v,E,!V);return}}p0(n,s,v,l,u,y,E,C,R)}function UE(n){for(var s=n;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var y=l[u],v=y.getSnapshot;y=y.value;try{if(!jt(v(),y))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ci(n,s,l,u){s&=~Mc,s&=~ns,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var y=s;0<y;){var v=31-Ot(y),E=1<<v;u[v]=-1,y&=~E}l!==0&&mp(n,l,s)}function Pa(){return(Le&6)===0?(al(0),!1):!0}function Uc(){if(Ne!==null){if(Ve===0)var n=Ne.return;else n=Ne,Hn=Ki=null,Qu(n),Ps=null,jo=0,n=Ne;for(;n!==null;)Pm(n.alternate,n),n=n.return;Ne=null}}function Ys(n,s){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,tb(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),Xn=0,Uc(),je=n,Ne=l=Vn(n.current,null),Re=s,Ve=0,Kt=null,Ti=!1,js=No(n,s),wc=!1,qs=Jt=Mc=ns=Si=Ze=0,Vt=ol=null,Ic=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var y=31-Ot(u),v=1<<y;s|=n[y],u&=~v}return $n=s,ia(),l}function l0(n,s){ve=null,H.H=Qo,s===Us||s===da?(s=Eh(),Ve=3):s===Hu?(s=Eh(),Ve=4):Ve=s===pc?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Kt=s,Ne===null&&(Ze=1,_a(n,Zt(s,n.current)))}function a0(){var n=Ft.current;return n===null?!0:(Re&4194048)===Re?sn===null:(Re&62914560)===Re||(Re&536870912)!==0?n===sn:!1}function r0(){var n=H.H;return H.H=Qo,n===null?Qo:n}function u0(){var n=H.A;return H.A=kE,n}function Va(){Ze=4,Ti||(Re&4194048)!==Re&&Ft.current!==null||(js=!0),(Si&134217727)===0&&(ns&134217727)===0||je===null||Ci(je,Re,Jt,!1)}function Pc(n,s,l){var u=Le;Le|=2;var y=r0(),v=u0();(je!==n||Re!==s)&&(Ua=null,Ys(n,s)),s=!1;var E=Ze;e:do try{if(Ve!==0&&Ne!==null){var C=Ne,R=Kt;switch(Ve){case 8:Uc(),E=6;break e;case 3:case 2:case 9:case 6:Ft.current===null&&(s=!0);var V=Ve;if(Ve=0,Kt=null,Ks(n,C,R,V),l&&js){E=0;break e}break;default:V=Ve,Ve=0,Kt=null,Ks(n,C,R,V)}}PE(),E=Ze;break}catch(F){l0(n,F)}while(!0);return s&&n.shellSuspendCounter++,Hn=Ki=null,Le=u,H.H=y,H.A=v,Ne===null&&(je=null,Re=0,ia()),E}function PE(){for(;Ne!==null;)c0(Ne)}function VE(n,s){var l=Le;Le|=2;var u=r0(),y=u0();je!==n||Re!==s?(Ua=null,La=qe()+500,Ys(n,s)):js=No(n,s);e:do try{if(Ve!==0&&Ne!==null){s=Ne;var v=Kt;t:switch(Ve){case 1:Ve=0,Kt=null,Ks(n,s,v,1);break;case 2:case 9:if(Th(v)){Ve=0,Kt=null,d0(s);break}s=function(){Ve!==2&&Ve!==9||je!==n||(Ve=7),Nn(n)},v.then(s,s);break e;case 3:Ve=7;break e;case 4:Ve=5;break e;case 7:Th(v)?(Ve=0,Kt=null,d0(s)):(Ve=0,Kt=null,Ks(n,s,v,7));break;case 5:var E=null;switch(Ne.tag){case 26:E=Ne.memoizedState;case 5:case 27:var C=Ne;if(E?X0(E):C.stateNode.complete){Ve=0,Kt=null;var R=C.sibling;if(R!==null)Ne=R;else{var V=C.return;V!==null?(Ne=V,Ba(V)):Ne=null}break t}}Ve=0,Kt=null,Ks(n,s,v,5);break;case 6:Ve=0,Kt=null,Ks(n,s,v,6);break;case 8:Uc(),Ze=6;break e;default:throw Error(o(462))}}BE();break}catch(F){l0(n,F)}while(!0);return Hn=Ki=null,H.H=u,H.A=y,Le=l,Ne!==null?0:(je=null,Re=0,ia(),Ze)}function BE(){for(;Ne!==null&&!Te();)c0(Ne)}function c0(n){var s=Lm(n.alternate,n,$n);n.memoizedProps=n.pendingProps,s===null?Ba(n):Ne=s}function d0(n){var s=n,l=s.alternate;switch(s.tag){case 15:case 0:s=Rm(l,s,s.pendingProps,s.type,void 0,Re);break;case 11:s=Rm(l,s,s.pendingProps,s.type.render,s.ref,Re);break;case 5:Qu(s);default:Pm(l,s),s=Ne=uh(s,$n),s=Lm(l,s,$n)}n.memoizedProps=n.pendingProps,s===null?Ba(n):Ne=s}function Ks(n,s,l,u){Hn=Ki=null,Qu(s),Ps=null,jo=0;var y=s.return;try{if(NE(n,y,s,l,Re)){Ze=1,_a(n,Zt(l,n.current)),Ne=null;return}}catch(v){if(y!==null)throw Ne=y,v;Ze=1,_a(n,Zt(l,n.current)),Ne=null;return}s.flags&32768?(Me||u===1?n=!0:js||(Re&536870912)!==0?n=!1:(Ti=n=!0,(u===2||u===9||u===3||u===6)&&(u=Ft.current,u!==null&&u.tag===13&&(u.flags|=16384))),f0(s,n)):Ba(s)}function Ba(n){var s=n;do{if((s.flags&32768)!==0){f0(s,Ti);return}n=s.return;var l=wE(s.alternate,s,$n);if(l!==null){Ne=l;return}if(s=s.sibling,s!==null){Ne=s;return}Ne=s=n}while(s!==null);Ze===0&&(Ze=5)}function f0(n,s){do{var l=ME(n.alternate,n);if(l!==null){l.flags&=32767,Ne=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(n=n.sibling,n!==null)){Ne=n;return}Ne=n=l}while(n!==null);Ze=6,Ne=null}function p0(n,s,l,u,y,v,E,C,R){n.cancelPendingCommit=null;do Ha();while(ft!==0);if((Le&6)!==0)throw Error(o(327));if(s!==null){if(s===n.current)throw Error(o(177));if(v=s.lanes|s.childLanes,v|=Cu,yS(n,l,v,E,C,R),n===je&&(Ne=je=null,Re=0),Fs=s,bi=n,Xn=l,Dc=v,kc=y,n0=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,OE(tt,function(){return x0(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=H.T,H.T=null,y=Q.p,Q.p=2,E=Le,Le|=4;try{IE(n,s,l)}finally{Le=E,Q.p=y,H.T=u}}ft=1,h0(),m0(),g0()}}function h0(){if(ft===1){ft=0;var n=bi,s=Fs,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=H.T,H.T=null;var u=Q.p;Q.p=2;var y=Le;Le|=4;try{Jm(s,n);var v=Jc,E=eh(n.containerInfo),C=v.focusedElem,R=v.selectionRange;if(E!==C&&C&&C.ownerDocument&&Zp(C.ownerDocument.documentElement,C)){if(R!==null&&vu(C)){var V=R.start,F=R.end;if(F===void 0&&(F=V),"selectionStart"in C)C.selectionStart=V,C.selectionEnd=Math.min(F,C.value.length);else{var J=C.ownerDocument||document,B=J&&J.defaultView||window;if(B.getSelection){var z=B.getSelection(),ie=C.textContent.length,ue=Math.min(R.start,ie),Ge=R.end===void 0?ue:Math.min(R.end,ie);!z.extend&&ue>Ge&&(E=Ge,Ge=ue,ue=E);var L=Wp(C,ue),M=Wp(C,Ge);if(L&&M&&(z.rangeCount!==1||z.anchorNode!==L.node||z.anchorOffset!==L.offset||z.focusNode!==M.node||z.focusOffset!==M.offset)){var P=J.createRange();P.setStart(L.node,L.offset),z.removeAllRanges(),ue>Ge?(z.addRange(P),z.extend(M.node,M.offset)):(P.setEnd(M.node,M.offset),z.addRange(P))}}}}for(J=[],z=C;z=z.parentNode;)z.nodeType===1&&J.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<J.length;C++){var K=J[C];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Qa=!!Kc,Jc=Kc=null}finally{Le=y,Q.p=u,H.T=l}}n.current=s,ft=2}}function m0(){if(ft===2){ft=0;var n=bi,s=Fs,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=H.T,H.T=null;var u=Q.p;Q.p=2;var y=Le;Le|=4;try{jm(n,s.alternate,s)}finally{Le=y,Q.p=u,H.T=l}}ft=3}}function g0(){if(ft===4||ft===3){ft=0,xe();var n=bi,s=Fs,l=Xn,u=n0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ft=5:(ft=0,Fs=bi=null,y0(n,n.pendingLanes));var y=n.pendingLanes;if(y===0&&(Ei=null),eu(l),s=s.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(_o,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=H.T,y=Q.p,Q.p=2,H.T=null;try{for(var v=n.onRecoverableError,E=0;E<u.length;E++){var C=u[E];v(C.value,{componentStack:C.stack})}}finally{H.T=s,Q.p=y}}(Xn&3)!==0&&Ha(),Nn(n),y=n.pendingLanes,(l&261930)!==0&&(y&42)!==0?n===Lc?ll++:(ll=0,Lc=n):ll=0,al(0)}}function y0(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Go(s)))}function Ha(){return h0(),m0(),g0(),x0()}function x0(){if(ft!==5)return!1;var n=bi,s=Dc;Dc=0;var l=eu(Xn),u=H.T,y=Q.p;try{Q.p=32>l?32:l,H.T=null,l=kc,kc=null;var v=bi,E=Xn;if(ft=0,Fs=bi=null,Xn=0,(Le&6)!==0)throw Error(o(331));var C=Le;if(Le|=4,Zm(v.current),Xm(v,v.current,E,l),Le=C,al(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(_o,v)}catch{}return!0}finally{Q.p=y,H.T=u,y0(n,s)}}function v0(n,s,l){s=Zt(l,s),s=fc(n.stateNode,s,2),n=gi(n,s,2),n!==null&&(Ao(n,2),Nn(n))}function Be(n,s,l){if(n.tag===3)v0(n,n,l);else for(;s!==null;){if(s.tag===3){v0(s,n,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ei===null||!Ei.has(u))){n=Zt(l,n),l=Tm(2),u=gi(s,l,2),u!==null&&(Sm(l,u,s,n),Ao(u,2),Nn(u));break}}s=s.return}}function Vc(n,s,l){var u=n.pingCache;if(u===null){u=n.pingCache=new LE;var y=new Set;u.set(s,y)}else y=u.get(s),y===void 0&&(y=new Set,u.set(s,y));y.has(l)||(wc=!0,y.add(l),n=HE.bind(null,n,s,l),s.then(n,n))}function HE(n,s,l){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,je===n&&(Re&l)===l&&(Ze===4||Ze===3&&(Re&62914560)===Re&&300>qe()-ka?(Le&2)===0&&Ys(n,0):Mc|=l,qs===Re&&(qs=0)),Nn(n)}function T0(n,s){s===0&&(s=hp()),n=qi(n,s),n!==null&&(Ao(n,s),Nn(n))}function zE(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),T0(n,l)}function GE(n,s){var l=0;switch(n.tag){case 31:case 13:var u=n.stateNode,y=n.memoizedState;y!==null&&(l=y.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(o(314))}u!==null&&u.delete(s),T0(n,l)}function OE(n,s){return Ue(n,s)}var za=null,Js=null,Bc=!1,Ga=!1,Hc=!1,_i=0;function Nn(n){n!==Js&&n.next===null&&(Js===null?za=Js=n:Js=Js.next=n),Ga=!0,Bc||(Bc=!0,qE())}function al(n,s){if(!Hc&&Ga){Hc=!0;do for(var l=!1,u=za;u!==null;){if(n!==0){var y=u.pendingLanes;if(y===0)var v=0;else{var E=u.suspendedLanes,C=u.pingedLanes;v=(1<<31-Ot(42|n)+1)-1,v&=y&~(E&~C),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,C0(u,v))}else v=Re,v=Fl(u,u===je?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||No(u,v)||(l=!0,C0(u,v));u=u.next}while(l);Hc=!1}}function jE(){S0()}function S0(){Ga=Bc=!1;var n=0;_i!==0&&eb()&&(n=_i);for(var s=qe(),l=null,u=za;u!==null;){var y=u.next,v=E0(u,s);v===0?(u.next=null,l===null?za=y:l.next=y,y===null&&(Js=l)):(l=u,(n!==0||(v&3)!==0)&&(Ga=!0)),u=y}ft!==0&&ft!==5||al(n),_i!==0&&(_i=0)}function E0(n,s){for(var l=n.suspendedLanes,u=n.pingedLanes,y=n.expirationTimes,v=n.pendingLanes&-62914561;0<v;){var E=31-Ot(v),C=1<<E,R=y[E];R===-1?((C&l)===0||(C&u)!==0)&&(y[E]=gS(C,s)):R<=s&&(n.expiredLanes|=C),v&=~C}if(s=je,l=Re,l=Fl(n,n===s?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,l===0||n===s&&(Ve===2||Ve===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&_e(u),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||No(n,l)){if(s=l&-l,s===n.callbackPriority)return s;switch(u!==null&&_e(u),eu(l)){case 2:case 8:l=zt;break;case 32:l=tt;break;case 268435456:l=pp;break;default:l=tt}return u=b0.bind(null,n),l=Ue(l,u),n.callbackPriority=s,n.callbackNode=l,s}return u!==null&&u!==null&&_e(u),n.callbackPriority=2,n.callbackNode=null,2}function b0(n,s){if(ft!==0&&ft!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(Ha()&&n.callbackNode!==l)return null;var u=Re;return u=Fl(n,n===je?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(s0(n,u,s),E0(n,qe()),n.callbackNode!=null&&n.callbackNode===l?b0.bind(null,n):null)}function C0(n,s){if(Ha())return null;s0(n,s,!0)}function qE(){nb(function(){(Le&6)!==0?Ue(dt,jE):S0()})}function zc(){if(_i===0){var n=ks;n===0&&(n=Ol,Ol<<=1,(Ol&261888)===0&&(Ol=256)),_i=n}return _i}function _0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:$l(""+n)}function N0(n,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,n.id&&l.setAttribute("form",n.id),s.parentNode.insertBefore(l,s),n=new FormData(n),l.parentNode.removeChild(l),n}function FE(n,s,l,u,y){if(s==="submit"&&l&&l.stateNode===y){var v=_0((y[Dt]||null).action),E=u.submitter;E&&(s=(s=E[Dt]||null)?_0(s.formAction):E.getAttribute("formAction"),s!==null&&(v=s,E=null));var C=new Zl("action","action",null,u,y);n.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(_i!==0){var R=E?N0(y,E):new FormData(y);lc(l,{pending:!0,data:R,method:y.method,action:v},null,R)}}else typeof v=="function"&&(C.preventDefault(),R=E?N0(y,E):new FormData(y),lc(l,{pending:!0,data:R,method:y.method,action:v},v,R))},currentTarget:y}]})}}for(var Gc=0;Gc<bu.length;Gc++){var Oc=bu[Gc],YE=Oc.toLowerCase(),KE=Oc[0].toUpperCase()+Oc.slice(1);mn(YE,"on"+KE)}mn(ih,"onAnimationEnd"),mn(sh,"onAnimationIteration"),mn(oh,"onAnimationStart"),mn("dblclick","onDoubleClick"),mn("focusin","onFocus"),mn("focusout","onBlur"),mn(uE,"onTransitionRun"),mn(cE,"onTransitionStart"),mn(dE,"onTransitionCancel"),mn(lh,"onTransitionEnd"),vs("onMouseEnter",["mouseout","mouseover"]),vs("onMouseLeave",["mouseout","mouseover"]),vs("onPointerEnter",["pointerout","pointerover"]),vs("onPointerLeave",["pointerout","pointerover"]),zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zi("onBeforeInput",["compositionend","keypress","textInput","paste"]),zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rl));function A0(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var u=n[l],y=u.event;u=u.listeners;e:{var v=void 0;if(s)for(var E=u.length-1;0<=E;E--){var C=u[E],R=C.instance,V=C.currentTarget;if(C=C.listener,R!==v&&y.isPropagationStopped())break e;v=C,y.currentTarget=V;try{v(y)}catch(F){na(F)}y.currentTarget=null,v=R}else for(E=0;E<u.length;E++){if(C=u[E],R=C.instance,V=C.currentTarget,C=C.listener,R!==v&&y.isPropagationStopped())break e;v=C,y.currentTarget=V;try{v(y)}catch(F){na(F)}y.currentTarget=null,v=R}}}}function Ae(n,s){var l=s[tu];l===void 0&&(l=s[tu]=new Set);var u=n+"__bubble";l.has(u)||(R0(s,n,2,!1),l.add(u))}function jc(n,s,l){var u=0;s&&(u|=4),R0(l,n,u,s)}var Oa="_reactListening"+Math.random().toString(36).slice(2);function qc(n){if(!n[Oa]){n[Oa]=!0,Sp.forEach(function(l){l!=="selectionchange"&&(JE.has(l)||jc(l,!1,n),jc(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Oa]||(s[Oa]=!0,jc("selectionchange",!1,s))}}function R0(n,s,l,u){switch(ig(s)){case 2:var y=Eb;break;case 8:y=bb;break;default:y=od}l=y.bind(null,s,l,n),y=void 0,!cu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),u?y!==void 0?n.addEventListener(s,l,{capture:!0,passive:y}):n.addEventListener(s,l,!0):y!==void 0?n.addEventListener(s,l,{passive:y}):n.addEventListener(s,l,!1)}function Fc(n,s,l,u,y){var v=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var C=u.stateNode.containerInfo;if(C===y)break;if(E===4)for(E=u.return;E!==null;){var R=E.tag;if((R===3||R===4)&&E.stateNode.containerInfo===y)return;E=E.return}for(;C!==null;){if(E=gs(C),E===null)return;if(R=E.tag,R===5||R===6||R===26||R===27){u=v=E;continue e}C=C.parentNode}}u=u.return}kp(function(){var V=v,F=ru(l),J=[];e:{var B=ah.get(n);if(B!==void 0){var z=Zl,ie=n;switch(n){case"keypress":if(Ql(l)===0)break e;case"keydown":case"keyup":z=GS;break;case"focusin":ie="focus",z=hu;break;case"focusout":ie="blur",z=hu;break;case"beforeblur":case"afterblur":z=hu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=Pp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=wS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=qS;break;case ih:case sh:case oh:z=DS;break;case lh:z=YS;break;case"scroll":case"scrollend":z=AS;break;case"wheel":z=JS;break;case"copy":case"cut":case"paste":z=LS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Bp;break;case"toggle":case"beforetoggle":z=XS}var ue=(s&4)!==0,Ge=!ue&&(n==="scroll"||n==="scrollend"),L=ue?B!==null?B+"Capture":null:B;ue=[];for(var M=V,P;M!==null;){var K=M;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||L===null||(K=Mo(M,L),K!=null&&ue.push(ul(M,K,P))),Ge)break;M=M.return}0<ue.length&&(B=new z(B,ie,null,l,F),J.push({event:B,listeners:ue}))}}if((s&7)===0){e:{if(B=n==="mouseover"||n==="pointerover",z=n==="mouseout"||n==="pointerout",B&&l!==au&&(ie=l.relatedTarget||l.fromElement)&&(gs(ie)||ie[ms]))break e;if((z||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,z?(ie=l.relatedTarget||l.toElement,z=V,ie=ie?gs(ie):null,ie!==null&&(Ge=r(ie),ue=ie.tag,ie!==Ge||ue!==5&&ue!==27&&ue!==6)&&(ie=null)):(z=null,ie=V),z!==ie)){if(ue=Pp,K="onMouseLeave",L="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(ue=Bp,K="onPointerLeave",L="onPointerEnter",M="pointer"),Ge=z==null?B:wo(z),P=ie==null?B:wo(ie),B=new ue(K,M+"leave",z,l,F),B.target=Ge,B.relatedTarget=P,K=null,gs(F)===V&&(ue=new ue(L,M+"enter",ie,l,F),ue.target=P,ue.relatedTarget=Ge,K=ue),Ge=K,z&&ie)t:{for(ue=$E,L=z,M=ie,P=0,K=L;K;K=ue(K))P++;K=0;for(var re=M;re;re=ue(re))K++;for(;0<P-K;)L=ue(L),P--;for(;0<K-P;)M=ue(M),K--;for(;P--;){if(L===M||M!==null&&L===M.alternate){ue=L;break t}L=ue(L),M=ue(M)}ue=null}else ue=null;z!==null&&w0(J,B,z,ue,!1),ie!==null&&Ge!==null&&w0(J,Ge,ie,ue,!0)}}e:{if(B=V?wo(V):window,z=B.nodeName&&B.nodeName.toLowerCase(),z==="select"||z==="input"&&B.type==="file")var Ie=Yp;else if(qp(B))if(Kp)Ie=lE;else{Ie=sE;var se=iE}else z=B.nodeName,!z||z.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?V&&lu(V.elementType)&&(Ie=Yp):Ie=oE;if(Ie&&(Ie=Ie(n,V))){Fp(J,Ie,l,F);break e}se&&se(n,B,V),n==="focusout"&&V&&B.type==="number"&&V.memoizedProps.value!=null&&ou(B,"number",B.value)}switch(se=V?wo(V):window,n){case"focusin":(qp(se)||se.contentEditable==="true")&&(_s=se,Tu=V,Bo=null);break;case"focusout":Bo=Tu=_s=null;break;case"mousedown":Su=!0;break;case"contextmenu":case"mouseup":case"dragend":Su=!1,th(J,l,F);break;case"selectionchange":if(rE)break;case"keydown":case"keyup":th(J,l,F)}var Se;if(gu)e:{switch(n){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Cs?Op(n,l)&&(we="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(we="onCompositionStart");we&&(Hp&&l.locale!=="ko"&&(Cs||we!=="onCompositionStart"?we==="onCompositionEnd"&&Cs&&(Se=Lp()):(ui=F,du="value"in ui?ui.value:ui.textContent,Cs=!0)),se=ja(V,we),0<se.length&&(we=new Vp(we,n,null,l,F),J.push({event:we,listeners:se}),Se?we.data=Se:(Se=jp(l),Se!==null&&(we.data=Se)))),(Se=WS?ZS(n,l):eE(n,l))&&(we=ja(V,"onBeforeInput"),0<we.length&&(se=new Vp("onBeforeInput","beforeinput",null,l,F),J.push({event:se,listeners:we}),se.data=Se)),FE(J,n,V,l,F)}A0(J,s)})}function ul(n,s,l){return{instance:n,listener:s,currentTarget:l}}function ja(n,s){for(var l=s+"Capture",u=[];n!==null;){var y=n,v=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||v===null||(y=Mo(n,l),y!=null&&u.unshift(ul(n,y,v)),y=Mo(n,s),y!=null&&u.push(ul(n,y,v))),n.tag===3)return u;n=n.return}return[]}function $E(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function w0(n,s,l,u,y){for(var v=s._reactName,E=[];l!==null&&l!==u;){var C=l,R=C.alternate,V=C.stateNode;if(C=C.tag,R!==null&&R===u)break;C!==5&&C!==26&&C!==27||V===null||(R=V,y?(V=Mo(l,v),V!=null&&E.unshift(ul(l,V,R))):y||(V=Mo(l,v),V!=null&&E.push(ul(l,V,R)))),l=l.return}E.length!==0&&n.push({event:s,listeners:E})}var XE=/\r\n?/g,QE=/\u0000|\uFFFD/g;function M0(n){return(typeof n=="string"?n:""+n).replace(XE,`
`).replace(QE,"")}function I0(n,s){return s=M0(s),M0(n)===s}function ze(n,s,l,u,y,v){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Ss(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Ss(n,""+u);break;case"className":Kl(n,"class",u);break;case"tabIndex":Kl(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Kl(n,l,u);break;case"style":Ip(n,u,v);break;case"data":if(s!=="object"){Kl(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){n.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=$l(""+u),n.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(s!=="input"&&ze(n,s,"name",y.name,y,null),ze(n,s,"formEncType",y.formEncType,y,null),ze(n,s,"formMethod",y.formMethod,y,null),ze(n,s,"formTarget",y.formTarget,y,null)):(ze(n,s,"encType",y.encType,y,null),ze(n,s,"method",y.method,y,null),ze(n,s,"target",y.target,y,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=$l(""+u),n.setAttribute(l,u);break;case"onClick":u!=null&&(n.onclick=Un);break;case"onScroll":u!=null&&Ae("scroll",n);break;case"onScrollEnd":u!=null&&Ae("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(l=u.__html,l!=null){if(y.children!=null)throw Error(o(60));n.innerHTML=l}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}l=$l(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""+u):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":u===!0?n.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,u):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(l,u):n.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(l):n.setAttribute(l,u);break;case"popover":Ae("beforetoggle",n),Ae("toggle",n),Yl(n,"popover",u);break;case"xlinkActuate":Ln(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ln(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ln(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ln(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ln(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ln(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ln(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ln(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ln(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Yl(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=_S.get(l)||l,Yl(n,l,u))}}function Yc(n,s,l,u,y,v){switch(l){case"style":Ip(n,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(l=u.__html,l!=null){if(y.children!=null)throw Error(o(60));n.innerHTML=l}}break;case"children":typeof u=="string"?Ss(n,u):(typeof u=="number"||typeof u=="bigint")&&Ss(n,""+u);break;case"onScroll":u!=null&&Ae("scroll",n);break;case"onScrollEnd":u!=null&&Ae("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ep.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),s=l.slice(2,y?l.length-7:void 0),v=n[Dt]||null,v=v!=null?v[l]:null,typeof v=="function"&&n.removeEventListener(s,v,y),typeof u=="function")){typeof v!="function"&&v!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(s,u,y);break e}l in n?n[l]=u:u===!0?n.setAttribute(l,""):Yl(n,l,u)}}}function St(n,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",n),Ae("load",n);var u=!1,y=!1,v;for(v in l)if(l.hasOwnProperty(v)){var E=l[v];if(E!=null)switch(v){case"src":u=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:ze(n,s,v,E,l,null)}}y&&ze(n,s,"srcSet",l.srcSet,l,null),u&&ze(n,s,"src",l.src,l,null);return;case"input":Ae("invalid",n);var C=v=E=y=null,R=null,V=null;for(u in l)if(l.hasOwnProperty(u)){var F=l[u];if(F!=null)switch(u){case"name":y=F;break;case"type":E=F;break;case"checked":R=F;break;case"defaultChecked":V=F;break;case"value":v=F;break;case"defaultValue":C=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(o(137,s));break;default:ze(n,s,u,F,l,null)}}Ap(n,v,C,R,V,E,y,!1);return;case"select":Ae("invalid",n),u=E=v=null;for(y in l)if(l.hasOwnProperty(y)&&(C=l[y],C!=null))switch(y){case"value":v=C;break;case"defaultValue":E=C;break;case"multiple":u=C;default:ze(n,s,y,C,l,null)}s=v,l=E,n.multiple=!!u,s!=null?Ts(n,!!u,s,!1):l!=null&&Ts(n,!!u,l,!0);return;case"textarea":Ae("invalid",n),v=y=u=null;for(E in l)if(l.hasOwnProperty(E)&&(C=l[E],C!=null))switch(E){case"value":u=C;break;case"defaultValue":y=C;break;case"children":v=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(o(91));break;default:ze(n,s,E,C,l,null)}wp(n,u,y,v);return;case"option":for(R in l)if(l.hasOwnProperty(R)&&(u=l[R],u!=null))switch(R){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ze(n,s,R,u,l,null)}return;case"dialog":Ae("beforetoggle",n),Ae("toggle",n),Ae("cancel",n),Ae("close",n);break;case"iframe":case"object":Ae("load",n);break;case"video":case"audio":for(u=0;u<rl.length;u++)Ae(rl[u],n);break;case"image":Ae("error",n),Ae("load",n);break;case"details":Ae("toggle",n);break;case"embed":case"source":case"link":Ae("error",n),Ae("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in l)if(l.hasOwnProperty(V)&&(u=l[V],u!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:ze(n,s,V,u,l,null)}return;default:if(lu(s)){for(F in l)l.hasOwnProperty(F)&&(u=l[F],u!==void 0&&Yc(n,s,F,u,l,void 0));return}}for(C in l)l.hasOwnProperty(C)&&(u=l[C],u!=null&&ze(n,s,C,u,l,null))}function WE(n,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,v=null,E=null,C=null,R=null,V=null,F=null;for(z in l){var J=l[z];if(l.hasOwnProperty(z)&&J!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":R=J;default:u.hasOwnProperty(z)||ze(n,s,z,null,u,J)}}for(var B in u){var z=u[B];if(J=l[B],u.hasOwnProperty(B)&&(z!=null||J!=null))switch(B){case"type":v=z;break;case"name":y=z;break;case"checked":V=z;break;case"defaultChecked":F=z;break;case"value":E=z;break;case"defaultValue":C=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(o(137,s));break;default:z!==J&&ze(n,s,B,z,u,J)}}su(n,E,C,R,V,F,v,y);return;case"select":z=E=C=B=null;for(v in l)if(R=l[v],l.hasOwnProperty(v)&&R!=null)switch(v){case"value":break;case"multiple":z=R;default:u.hasOwnProperty(v)||ze(n,s,v,null,u,R)}for(y in u)if(v=u[y],R=l[y],u.hasOwnProperty(y)&&(v!=null||R!=null))switch(y){case"value":B=v;break;case"defaultValue":C=v;break;case"multiple":E=v;default:v!==R&&ze(n,s,y,v,u,R)}s=C,l=E,u=z,B!=null?Ts(n,!!l,B,!1):!!u!=!!l&&(s!=null?Ts(n,!!l,s,!0):Ts(n,!!l,l?[]:"",!1));return;case"textarea":z=B=null;for(C in l)if(y=l[C],l.hasOwnProperty(C)&&y!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ze(n,s,C,null,u,y)}for(E in u)if(y=u[E],v=l[E],u.hasOwnProperty(E)&&(y!=null||v!=null))switch(E){case"value":B=y;break;case"defaultValue":z=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(o(91));break;default:y!==v&&ze(n,s,E,y,u,v)}Rp(n,B,z);return;case"option":for(var ie in l)if(B=l[ie],l.hasOwnProperty(ie)&&B!=null&&!u.hasOwnProperty(ie))switch(ie){case"selected":n.selected=!1;break;default:ze(n,s,ie,null,u,B)}for(R in u)if(B=u[R],z=l[R],u.hasOwnProperty(R)&&B!==z&&(B!=null||z!=null))switch(R){case"selected":n.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:ze(n,s,R,B,u,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ue in l)B=l[ue],l.hasOwnProperty(ue)&&B!=null&&!u.hasOwnProperty(ue)&&ze(n,s,ue,null,u,B);for(V in u)if(B=u[V],z=l[V],u.hasOwnProperty(V)&&B!==z&&(B!=null||z!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(o(137,s));break;default:ze(n,s,V,B,u,z)}return;default:if(lu(s)){for(var Ge in l)B=l[Ge],l.hasOwnProperty(Ge)&&B!==void 0&&!u.hasOwnProperty(Ge)&&Yc(n,s,Ge,void 0,u,B);for(F in u)B=u[F],z=l[F],!u.hasOwnProperty(F)||B===z||B===void 0&&z===void 0||Yc(n,s,F,B,u,z);return}}for(var L in l)B=l[L],l.hasOwnProperty(L)&&B!=null&&!u.hasOwnProperty(L)&&ze(n,s,L,null,u,B);for(J in u)B=u[J],z=l[J],!u.hasOwnProperty(J)||B===z||B==null&&z==null||ze(n,s,J,B,u,z)}function D0(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ZE(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var y=l[u],v=y.transferSize,E=y.initiatorType,C=y.duration;if(v&&C&&D0(E)){for(E=0,C=y.responseEnd,u+=1;u<l.length;u++){var R=l[u],V=R.startTime;if(V>C)break;var F=R.transferSize,J=R.initiatorType;F&&D0(J)&&(R=R.responseEnd,E+=F*(R<C?1:(C-V)/(R-V)))}if(--u,s+=8*(v+E)/(y.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Kc=null,Jc=null;function qa(n){return n.nodeType===9?n:n.ownerDocument}function k0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function L0(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function $c(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Xc=null;function eb(){var n=window.event;return n&&n.type==="popstate"?n===Xc?!1:(Xc=n,!0):(Xc=null,!1)}var U0=typeof setTimeout=="function"?setTimeout:void 0,tb=typeof clearTimeout=="function"?clearTimeout:void 0,P0=typeof Promise=="function"?Promise:void 0,nb=typeof queueMicrotask=="function"?queueMicrotask:typeof P0<"u"?function(n){return P0.resolve(null).then(n).catch(ib)}:U0;function ib(n){setTimeout(function(){throw n})}function Ni(n){return n==="head"}function V0(n,s){var l=s,u=0;do{var y=l.nextSibling;if(n.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"||l==="/&"){if(u===0){n.removeChild(y),Ws(s);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")cl(n.ownerDocument.documentElement);else if(l==="head"){l=n.ownerDocument.head,cl(l);for(var v=l.firstChild;v;){var E=v.nextSibling,C=v.nodeName;v[Ro]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||l.removeChild(v),v=E}}else l==="body"&&cl(n.ownerDocument.body);l=y}while(l);Ws(s)}function B0(n,s){var l=n;n=0;do{var u=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(n===0)break;n--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||n++;l=u}while(l)}function Qc(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Qc(l),nu(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function sb(n,s,l,u){for(;n.nodeType===1;){var y=l;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ro])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(v=n.getAttribute("rel"),v==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(v!==y.rel||n.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||n.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||n.getAttribute("title")!==(y.title==null?null:y.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(v=n.getAttribute("src"),(v!==(y.src==null?null:y.src)||n.getAttribute("type")!==(y.type==null?null:y.type)||n.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&v&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var v=y.name==null?null:""+y.name;if(y.type==="hidden"&&n.getAttribute("name")===v)return n}else return n;if(n=on(n.nextSibling),n===null)break}return null}function ob(n,s,l){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=on(n.nextSibling),n===null))return null;return n}function H0(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=on(n.nextSibling),n===null))return null;return n}function Wc(n){return n.data==="$?"||n.data==="$~"}function Zc(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function lb(n,s){var l=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||l.readyState!=="loading")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function on(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var ed=null;function z0(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"||l==="/&"){if(s===0)return on(n.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}n=n.nextSibling}return null}function G0(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return n;s--}else l!=="/$"&&l!=="/&"||s++}n=n.previousSibling}return null}function O0(n,s,l){switch(s=qa(l),n){case"html":if(n=s.documentElement,!n)throw Error(o(452));return n;case"head":if(n=s.head,!n)throw Error(o(453));return n;case"body":if(n=s.body,!n)throw Error(o(454));return n;default:throw Error(o(451))}}function cl(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);nu(n)}var ln=new Map,j0=new Set;function Fa(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Qn=Q.d;Q.d={f:ab,r:rb,D:ub,C:cb,L:db,m:fb,X:hb,S:pb,M:mb};function ab(){var n=Qn.f(),s=Pa();return n||s}function rb(n){var s=ys(n);s!==null&&s.tag===5&&s.type==="form"?lm(s):Qn.r(n)}var $s=typeof document>"u"?null:document;function q0(n,s,l){var u=$s;if(u&&typeof s=="string"&&s){var y=Qt(s);y='link[rel="'+n+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),j0.has(y)||(j0.add(y),n={rel:n,crossOrigin:l,href:s},u.querySelector(y)===null&&(s=u.createElement("link"),St(s,"link",n),ht(s),u.head.appendChild(s)))}}function ub(n){Qn.D(n),q0("dns-prefetch",n,null)}function cb(n,s){Qn.C(n,s),q0("preconnect",n,s)}function db(n,s,l){Qn.L(n,s,l);var u=$s;if(u&&n&&s){var y='link[rel="preload"][as="'+Qt(s)+'"]';s==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+Qt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+Qt(l.imageSizes)+'"]')):y+='[href="'+Qt(n)+'"]';var v=y;switch(s){case"style":v=Xs(n);break;case"script":v=Qs(n)}ln.has(v)||(n=T({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:n,as:s},l),ln.set(v,n),u.querySelector(y)!==null||s==="style"&&u.querySelector(dl(v))||s==="script"&&u.querySelector(fl(v))||(s=u.createElement("link"),St(s,"link",n),ht(s),u.head.appendChild(s)))}}function fb(n,s){Qn.m(n,s);var l=$s;if(l&&n){var u=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+Qt(u)+'"][href="'+Qt(n)+'"]',v=y;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Qs(n)}if(!ln.has(v)&&(n=T({rel:"modulepreload",href:n},s),ln.set(v,n),l.querySelector(y)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(fl(v)))return}u=l.createElement("link"),St(u,"link",n),ht(u),l.head.appendChild(u)}}}function pb(n,s,l){Qn.S(n,s,l);var u=$s;if(u&&n){var y=xs(u).hoistableStyles,v=Xs(n);s=s||"default";var E=y.get(v);if(!E){var C={loading:0,preload:null};if(E=u.querySelector(dl(v)))C.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":s},l),(l=ln.get(v))&&td(n,l);var R=E=u.createElement("link");ht(R),St(R,"link",n),R._p=new Promise(function(V,F){R.onload=V,R.onerror=F}),R.addEventListener("load",function(){C.loading|=1}),R.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Ya(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:C},y.set(v,E)}}}function hb(n,s){Qn.X(n,s);var l=$s;if(l&&n){var u=xs(l).hoistableScripts,y=Qs(n),v=u.get(y);v||(v=l.querySelector(fl(y)),v||(n=T({src:n,async:!0},s),(s=ln.get(y))&&nd(n,s),v=l.createElement("script"),ht(v),St(v,"link",n),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(y,v))}}function mb(n,s){Qn.M(n,s);var l=$s;if(l&&n){var u=xs(l).hoistableScripts,y=Qs(n),v=u.get(y);v||(v=l.querySelector(fl(y)),v||(n=T({src:n,async:!0,type:"module"},s),(s=ln.get(y))&&nd(n,s),v=l.createElement("script"),ht(v),St(v,"link",n),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(y,v))}}function F0(n,s,l,u){var y=(y=ye.current)?Fa(y):null;if(!y)throw Error(o(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Xs(l.href),l=xs(y).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=Xs(l.href);var v=xs(y).hoistableStyles,E=v.get(n);if(E||(y=y.ownerDocument||y,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(n,E),(v=y.querySelector(dl(n)))&&!v._p&&(E.instance=v,E.state.loading=5),ln.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ln.set(n,l),v||gb(y,n,l,E.state))),s&&u===null)throw Error(o(528,""));return E}if(s&&u!==null)throw Error(o(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Qs(l),l=xs(y).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,n))}}function Xs(n){return'href="'+Qt(n)+'"'}function dl(n){return'link[rel="stylesheet"]['+n+"]"}function Y0(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function gb(n,s,l,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),St(s,"link",l),ht(s),n.head.appendChild(s))}function Qs(n){return'[src="'+Qt(n)+'"]'}function fl(n){return"script[async]"+n}function K0(n,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+Qt(l.href)+'"]');if(u)return s.instance=u,ht(u),u;var y=T({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),ht(u),St(u,"style",y),Ya(u,l.precedence,n),s.instance=u;case"stylesheet":y=Xs(l.href);var v=n.querySelector(dl(y));if(v)return s.state.loading|=4,s.instance=v,ht(v),v;u=Y0(l),(y=ln.get(y))&&td(u,y),v=(n.ownerDocument||n).createElement("link"),ht(v);var E=v;return E._p=new Promise(function(C,R){E.onload=C,E.onerror=R}),St(v,"link",u),s.state.loading|=4,Ya(v,l.precedence,n),s.instance=v;case"script":return v=Qs(l.src),(y=n.querySelector(fl(v)))?(s.instance=y,ht(y),y):(u=l,(y=ln.get(v))&&(u=T({},l),nd(u,y)),n=n.ownerDocument||n,y=n.createElement("script"),ht(y),St(y,"link",u),n.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(o(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Ya(u,l.precedence,n));return s.instance}function Ya(n,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=u.length?u[u.length-1]:null,v=y,E=0;E<u.length;E++){var C=u[E];if(C.dataset.precedence===s)v=C;else if(v!==y)break}v?v.parentNode.insertBefore(n,v.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(n,s.firstChild))}function td(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function nd(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Ka=null;function J0(n,s,l){if(Ka===null){var u=new Map,y=Ka=new Map;y.set(l,u)}else y=Ka,u=y.get(l),u||(u=new Map,y.set(l,u));if(u.has(n))return u;for(u.set(n,null),l=l.getElementsByTagName(n),y=0;y<l.length;y++){var v=l[y];if(!(v[Ro]||v[yt]||n==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var E=v.getAttribute(s)||"";E=n+E;var C=u.get(E);C?C.push(v):u.set(E,[v])}}return u}function $0(n,s,l){n=n.ownerDocument||n,n.head.insertBefore(l,s==="title"?n.querySelector("head > title"):null)}function yb(n,s,l){if(l===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function X0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function xb(n,s,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=Xs(u.href),v=s.querySelector(dl(y));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=Ja.bind(n),s.then(n,n)),l.state.loading|=4,l.instance=v,ht(v);return}v=s.ownerDocument||s,u=Y0(u),(y=ln.get(y))&&td(u,y),v=v.createElement("link"),ht(v);var E=v;E._p=new Promise(function(C,R){E.onload=C,E.onerror=R}),St(v,"link",u),l.instance=v}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(n.count++,l=Ja.bind(n),s.addEventListener("load",l),s.addEventListener("error",l))}}var id=0;function vb(n,s){return n.stylesheets&&n.count===0&&Xa(n,n.stylesheets),0<n.count||0<n.imgCount?function(l){var u=setTimeout(function(){if(n.stylesheets&&Xa(n,n.stylesheets),n.unsuspend){var v=n.unsuspend;n.unsuspend=null,v()}},6e4+s);0<n.imgBytes&&id===0&&(id=62500*ZE());var y=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Xa(n,n.stylesheets),n.unsuspend)){var v=n.unsuspend;n.unsuspend=null,v()}},(n.imgBytes>id?50:800)+s);return n.unsuspend=l,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(y)}}:null}function Ja(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xa(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var $a=null;function Xa(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,$a=new Map,s.forEach(Tb,n),$a=null,Ja.call(n))}function Tb(n,s){if(!(s.state.loading&4)){var l=$a.get(n);if(l)var u=l.get(null);else{l=new Map,$a.set(n,l);for(var y=n.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<y.length;v++){var E=y[v];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),u=E)}u&&l.set(null,u)}y=s.instance,E=y.getAttribute("data-precedence"),v=l.get(E)||u,v===u&&l.set(null,y),l.set(E,y),this.count++,u=Ja.bind(this),y.addEventListener("load",u),y.addEventListener("error",u),v?v.parentNode.insertBefore(y,v.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(y,n.firstChild)),s.state.loading|=4}}var pl={$$typeof:D,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function Sb(n,s,l,u,y,v,E,C,R){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wr(0),this.hiddenUpdates=Wr(null),this.identifierPrefix=u,this.onUncaughtError=y,this.onCaughtError=v,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Q0(n,s,l,u,y,v,E,C,R,V,F,J){return n=new Sb(n,s,l,E,R,V,F,J,C),s=1,v===!0&&(s|=24),v=qt(3,null,null,s),n.current=v,v.stateNode=n,s=Pu(),s.refCount++,n.pooledCache=s,s.refCount++,v.memoizedState={element:u,isDehydrated:l,cache:s},zu(v),n}function W0(n){return n?(n=Rs,n):Rs}function Z0(n,s,l,u,y,v){y=W0(y),u.context===null?u.context=y:u.pendingContext=y,u=mi(s),u.payload={element:l},v=v===void 0?null:v,v!==null&&(u.callback=v),l=gi(n,u,s),l!==null&&(Bt(l,n,s),Fo(l,n,s))}function eg(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function sd(n,s){eg(n,s),(n=n.alternate)&&eg(n,s)}function tg(n){if(n.tag===13||n.tag===31){var s=qi(n,67108864);s!==null&&Bt(s,n,67108864),sd(n,67108864)}}function ng(n){if(n.tag===13||n.tag===31){var s=$t();s=Zr(s);var l=qi(n,s);l!==null&&Bt(l,n,s),sd(n,s)}}var Qa=!0;function Eb(n,s,l,u){var y=H.T;H.T=null;var v=Q.p;try{Q.p=2,od(n,s,l,u)}finally{Q.p=v,H.T=y}}function bb(n,s,l,u){var y=H.T;H.T=null;var v=Q.p;try{Q.p=8,od(n,s,l,u)}finally{Q.p=v,H.T=y}}function od(n,s,l,u){if(Qa){var y=ld(u);if(y===null)Fc(n,s,u,Wa,l),sg(n,u);else if(_b(y,n,s,l,u))u.stopPropagation();else if(sg(n,u),s&4&&-1<Cb.indexOf(n)){for(;y!==null;){var v=ys(y);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var E=Hi(v.pendingLanes);if(E!==0){var C=v;for(C.pendingLanes|=2,C.entangledLanes|=2;E;){var R=1<<31-Ot(E);C.entanglements[1]|=R,E&=~R}Nn(v),(Le&6)===0&&(La=qe()+500,al(0))}}break;case 31:case 13:C=qi(v,2),C!==null&&Bt(C,v,2),Pa(),sd(v,2)}if(v=ld(u),v===null&&Fc(n,s,u,Wa,l),v===y)break;y=v}y!==null&&u.stopPropagation()}else Fc(n,s,u,null,l)}}function ld(n){return n=ru(n),ad(n)}var Wa=null;function ad(n){if(Wa=null,n=gs(n),n!==null){var s=r(n);if(s===null)n=null;else{var l=s.tag;if(l===13){if(n=c(s),n!==null)return n;n=null}else if(l===31){if(n=f(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Wa=n,null}function ig(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ct()){case dt:return 2;case zt:return 8;case tt:case Qr:return 32;case pp:return 268435456;default:return 32}default:return 32}}var rd=!1,Ai=null,Ri=null,wi=null,hl=new Map,ml=new Map,Mi=[],Cb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sg(n,s){switch(n){case"focusin":case"focusout":Ai=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":wi=null;break;case"pointerover":case"pointerout":hl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(s.pointerId)}}function gl(n,s,l,u,y,v){return n===null||n.nativeEvent!==v?(n={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:v,targetContainers:[y]},s!==null&&(s=ys(s),s!==null&&tg(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),n)}function _b(n,s,l,u,y){switch(s){case"focusin":return Ai=gl(Ai,n,s,l,u,y),!0;case"dragenter":return Ri=gl(Ri,n,s,l,u,y),!0;case"mouseover":return wi=gl(wi,n,s,l,u,y),!0;case"pointerover":var v=y.pointerId;return hl.set(v,gl(hl.get(v)||null,n,s,l,u,y)),!0;case"gotpointercapture":return v=y.pointerId,ml.set(v,gl(ml.get(v)||null,n,s,l,u,y)),!0}return!1}function og(n){var s=gs(n.target);if(s!==null){var l=r(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){n.blockedOn=s,vp(n.priority,function(){ng(l)});return}}else if(s===31){if(s=f(l),s!==null){n.blockedOn=s,vp(n.priority,function(){ng(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Za(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=ld(n.nativeEvent);if(l===null){l=n.nativeEvent;var u=new l.constructor(l.type,l);au=u,l.target.dispatchEvent(u),au=null}else return s=ys(l),s!==null&&tg(s),n.blockedOn=l,!1;s.shift()}return!0}function lg(n,s,l){Za(n)&&l.delete(s)}function Nb(){rd=!1,Ai!==null&&Za(Ai)&&(Ai=null),Ri!==null&&Za(Ri)&&(Ri=null),wi!==null&&Za(wi)&&(wi=null),hl.forEach(lg),ml.forEach(lg)}function er(n,s){n.blockedOn===s&&(n.blockedOn=null,rd||(rd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Nb)))}var tr=null;function ag(n){tr!==n&&(tr=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){tr===n&&(tr=null);for(var s=0;s<n.length;s+=3){var l=n[s],u=n[s+1],y=n[s+2];if(typeof u!="function"){if(ad(u||l)===null)continue;break}var v=ys(l);v!==null&&(n.splice(s,3),s-=3,lc(v,{pending:!0,data:y,method:l.method,action:u},u,y))}}))}function Ws(n){function s(R){return er(R,n)}Ai!==null&&er(Ai,n),Ri!==null&&er(Ri,n),wi!==null&&er(wi,n),hl.forEach(s),ml.forEach(s);for(var l=0;l<Mi.length;l++){var u=Mi[l];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Mi.length&&(l=Mi[0],l.blockedOn===null);)og(l),l.blockedOn===null&&Mi.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var y=l[u],v=l[u+1],E=y[Dt]||null;if(typeof v=="function")E||ag(l);else if(E){var C=null;if(v&&v.hasAttribute("formAction")){if(y=v,E=v[Dt]||null)C=E.formAction;else if(ad(y)!==null)continue}else C=E.action;typeof C=="function"?l[u+1]=C:(l.splice(u,3),u-=3),ag(l)}}}function rg(){function n(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(E){return y=E})},focusReset:"manual",scroll:"manual"})}function s(){y!==null&&(y(),y=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,y=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),y!==null&&(y(),y=null)}}}function ud(n){this._internalRoot=n}nr.prototype.render=ud.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(o(409));var l=s.current,u=$t();Z0(l,u,n,s,null,null)},nr.prototype.unmount=ud.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Z0(n.current,2,null,n,null,null),Pa(),s[ms]=null}};function nr(n){this._internalRoot=n}nr.prototype.unstable_scheduleHydration=function(n){if(n){var s=xp();n={blockedOn:null,target:n,priority:s};for(var l=0;l<Mi.length&&s!==0&&s<Mi[l].priority;l++);Mi.splice(l,0,n),l===0&&og(n)}};var ug=e.version;if(ug!=="19.2.3")throw Error(o(527,ug,"19.2.3"));Q.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(o(188)):(n=Object.keys(n).join(","),Error(o(268,n)));return n=h(s),n=n!==null?x(n):null,n=n===null?null:n.stateNode,n};var Ab={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ir=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ir.isDisabled&&ir.supportsFiber)try{_o=ir.inject(Ab),Gt=ir}catch{}}return xl.createRoot=function(n,s){if(!a(n))throw Error(o(299));var l=!1,u="",y=gm,v=ym,E=xm;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError)),s=Q0(n,1,!1,null,null,l,u,null,y,v,E,rg),n[ms]=s.current,qc(n),new ud(s)},xl.hydrateRoot=function(n,s,l){if(!a(n))throw Error(o(299));var u=!1,y="",v=gm,E=ym,C=xm,R=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.formState!==void 0&&(R=l.formState)),s=Q0(n,1,!0,s,l??null,u,y,R,v,E,C,rg),s.context=W0(null),l=s.current,u=$t(),u=Zr(u),y=mi(u),y.callback=null,gi(l,y,u),l=u,s.current.lanes=l,Ao(s,l),Nn(s),n[ms]=s.current,qc(n),new nr(s)},xl.version="19.2.3",xl}var vg;function Vb(){if(vg)return fd.exports;vg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fd.exports=Pb(),fd.exports}var Bb=Vb();const Hb=Tv(Bb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Gb=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,o)=>o?o.toUpperCase():i.toLowerCase()),Tg=t=>{const e=Gb(t);return e.charAt(0).toUpperCase()+e.slice(1)},Ev=(...t)=>t.filter((e,i,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===i).join(" ").trim(),Ob=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:r,iconNode:c,...f},g)=>k.createElement("svg",{ref:g,...jb,width:e,height:e,stroke:t,strokeWidth:o?Number(i)*24/Number(e):i,className:Ev("lucide",a),...!r&&!Ob(f)&&{"aria-hidden":"true"},...f},[...c.map(([h,x])=>k.createElement(h,x)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=(t,e)=>{const i=k.forwardRef(({className:o,...a},r)=>k.createElement(qb,{ref:r,iconNode:e,className:Ev(`lucide-${zb(Tg(t))}`,`lucide-${t}`,o),...a}));return i.displayName=Tg(t),i};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],wl=ae("activity",Fb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Kb=ae("archive",Yb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],bv=ae("arrow-down",Jb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Cv=ae("arrow-left",$b);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],Qb=ae("arrow-right-left",Xb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Sf=ae("arrow-right",Wb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],_v=ae("arrow-up",Zb);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],tC=ae("book-open",eC);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],iC=ae("bot",nC);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],oC=ae("box",sC);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],go=ae("bug",lC);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],rC=ae("chevron-down",aC);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Nv=ae("chevron-right",uC);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ho=ae("clock",cC);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],ps=ae("code-xml",dC);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],pC=ae("copy",fC);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=[["path",{d:"m15 10 5 5-5 5",key:"qqa56n"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]],mC=ae("corner-down-right",hC);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M4 20v-7a4 4 0 0 1 4-4h12",key:"1lu4f8"}]],yC=ae("corner-up-right",gC);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],cs=ae("cpu",xC);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],TC=ae("database",vC);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],EC=ae("download",SC);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],CC=ae("external-link",bC);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=[["path",{d:"M12 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 12 18z",key:"b19h5q"}],["path",{d:"M2 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 2 18z",key:"h7h5ge"}]],Sg=ae("fast-forward",_C);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],AC=ae("file-braces",NC);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],wC=ae("file-code",RC);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Av=ae("file-text",MC);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],DC=ae("gauge",IC);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]],LC=ae("git-merge",kC);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]],PC=ae("grip-horizontal",UC);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Ul=ae("grip-vertical",VC);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],HC=ae("hash",BC);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],GC=ae("key",zC);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],ds=ae("layers",OC);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Pd=ae("list",jC);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],FC=ae("loader-circle",qC);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],Rv=ae("lock-open",YC);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Rn=ae("lock",KC);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],$C=ae("menu",JC);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],QC=ae("message-square",XC);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 17h4",key:"pvmtpo"}],["path",{d:"M10 7h4",key:"1vgcok"}],["path",{d:"M18 12h2",key:"quuxs7"}],["path",{d:"M18 18h2",key:"4scel"}],["path",{d:"M18 6h2",key:"1ptzki"}],["path",{d:"M4 12h2",key:"1ltxp0"}],["path",{d:"M4 18h2",key:"1xrofg"}],["path",{d:"M4 6h2",key:"1cx33n"}],["rect",{x:"6",y:"2",width:"12",height:"20",rx:"2",key:"749fme"}]],ZC=ae("microchip",WC);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],wv=ae("pause",e_);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Mv=ae("play",t_);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],Iv=ae("power",n_);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],s_=ae("rotate-ccw",i_);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],Dv=ae("rotate-cw",o_);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],a_=ae("send",l_);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],u_=ae("settings",r_);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Pr=ae("shield-alert",c_);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],f_=ae("shield",d_);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],h_=ae("skip-forward",p_);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],Pl=ae("terminal",m_);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],y_=ae("ticket",g_);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],v_=ae("timer",x_);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],S_=ae("toggle-left",T_);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],b_=ae("toggle-right",E_);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Eg=ae("x",C_);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],wn=ae("zap",__),Ef=k.createContext({});function Ui(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const bf=typeof window<"u",Cf=bf?k.useLayoutEffect:k.useEffect,Vr=k.createContext(null);function _f(t,e){t.indexOf(e)===-1&&t.push(e)}function Nf(t,e){const i=t.indexOf(e);i>-1&&t.splice(i,1)}function N_([...t],e,i){const o=e<0?t.length+e:e;if(o>=0&&o<t.length){const a=i<0?t.length+i:i,[r]=t.splice(e,1);t.splice(a,0,r)}return t}const ti=(t,e,i)=>i>e?e:i<t?t:i;let Af=()=>{};const ni={},kv=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Lv(t){return typeof t=="object"&&t!==null}const Uv=t=>/^0[^.\s]+$/u.test(t);function Rf(t){let e;return()=>(e===void 0&&(e=t()),e)}const cn=t=>t,A_=(t,e)=>i=>e(t(i)),Vl=(...t)=>t.reduce(A_),Ml=(t,e,i)=>{const o=e-t;return o===0?1:(i-t)/o};class wf{constructor(){this.subscriptions=[]}add(e){return _f(this.subscriptions,e),()=>Nf(this.subscriptions,e)}notify(e,i,o){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,i,o);else for(let r=0;r<a;r++){const c=this.subscriptions[r];c&&c(e,i,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Mn=t=>t*1e3,rn=t=>t/1e3;function Pv(t,e){return e?t*(1e3/e):0}const Vv=(t,e,i)=>(((1-3*i+3*e)*t+(3*i-6*e))*t+3*e)*t,R_=1e-7,w_=12;function M_(t,e,i,o,a){let r,c,f=0;do c=e+(i-e)/2,r=Vv(c,o,a)-t,r>0?i=c:e=c;while(Math.abs(r)>R_&&++f<w_);return c}function Bl(t,e,i,o){if(t===e&&i===o)return cn;const a=r=>M_(r,0,1,t,i);return r=>r===0||r===1?r:Vv(a(r),e,o)}const Bv=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Hv=t=>e=>1-t(1-e),zv=Bl(.33,1.53,.69,.99),Mf=Hv(zv),Gv=Bv(Mf),Ov=t=>(t*=2)<1?.5*Mf(t):.5*(2-Math.pow(2,-10*(t-1))),If=t=>1-Math.sin(Math.acos(t)),jv=Hv(If),qv=Bv(If),I_=Bl(.42,0,1,1),D_=Bl(0,0,.58,1),Fv=Bl(.42,0,.58,1),k_=t=>Array.isArray(t)&&typeof t[0]!="number",Yv=t=>Array.isArray(t)&&typeof t[0]=="number",L_={linear:cn,easeIn:I_,easeInOut:Fv,easeOut:D_,circIn:If,circInOut:qv,circOut:jv,backIn:Mf,backInOut:Gv,backOut:zv,anticipate:Ov},U_=t=>typeof t=="string",bg=t=>{if(Yv(t)){Af(t.length===4);const[e,i,o,a]=t;return Bl(e,i,o,a)}else if(U_(t))return L_[t];return t},sr=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function P_(t,e){let i=new Set,o=new Set,a=!1,r=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function g(x){c.has(x)&&(h.schedule(x),t()),x(f)}const h={schedule:(x,T=!1,S=!1)=>{const _=S&&a?i:o;return T&&c.add(x),_.has(x)||_.add(x),x},cancel:x=>{o.delete(x),c.delete(x)},process:x=>{if(f=x,a){r=!0;return}a=!0,[i,o]=[o,i],i.forEach(g),i.clear(),a=!1,r&&(r=!1,h.process(x))}};return h}const V_=40;function Kv(t,e){let i=!1,o=!0;const a={delta:0,timestamp:0,isProcessing:!1},r=()=>i=!0,c=sr.reduce((D,G)=>(D[G]=P_(r),D),{}),{setup:f,read:g,resolveKeyframes:h,preUpdate:x,update:T,preRender:S,render:b,postRender:_}=c,N=()=>{const D=ni.useManualTiming?a.timestamp:performance.now();i=!1,ni.useManualTiming||(a.delta=o?1e3/60:Math.max(Math.min(D-a.timestamp,V_),1)),a.timestamp=D,a.isProcessing=!0,f.process(a),g.process(a),h.process(a),x.process(a),T.process(a),S.process(a),b.process(a),_.process(a),a.isProcessing=!1,i&&e&&(o=!1,t(N))},A=()=>{i=!0,o=!0,a.isProcessing||t(N)};return{schedule:sr.reduce((D,G)=>{const Y=c[G];return D[G]=(X,O=!1,j=!1)=>(i||A(),Y.schedule(X,O,j)),D},{}),cancel:D=>{for(let G=0;G<sr.length;G++)c[sr[G]].cancel(D)},state:a,steps:c}}const{schedule:Je,cancel:ii,state:Et,steps:gd}=Kv(typeof requestAnimationFrame<"u"?requestAnimationFrame:cn,!0);let yr;function B_(){yr=void 0}const Ht={now:()=>(yr===void 0&&Ht.set(Et.isProcessing||ni.useManualTiming?Et.timestamp:performance.now()),yr),set:t=>{yr=t,queueMicrotask(B_)}},Jv=t=>e=>typeof e=="string"&&e.startsWith(t),$v=Jv("--"),H_=Jv("var(--"),Df=t=>H_(t)?z_.test(t.split("/*")[0].trim()):!1,z_=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,yo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Il={...yo,transform:t=>ti(0,1,t)},or={...yo,default:1},Cl=t=>Math.round(t*1e5)/1e5,kf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function G_(t){return t==null}const O_=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Lf=(t,e)=>i=>!!(typeof i=="string"&&O_.test(i)&&i.startsWith(t)||e&&!G_(i)&&Object.prototype.hasOwnProperty.call(i,e)),Xv=(t,e,i)=>o=>{if(typeof o!="string")return o;const[a,r,c,f]=o.match(kf);return{[t]:parseFloat(a),[e]:parseFloat(r),[i]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},j_=t=>ti(0,255,t),yd={...yo,transform:t=>Math.round(j_(t))},ls={test:Lf("rgb","red"),parse:Xv("red","green","blue"),transform:({red:t,green:e,blue:i,alpha:o=1})=>"rgba("+yd.transform(t)+", "+yd.transform(e)+", "+yd.transform(i)+", "+Cl(Il.transform(o))+")"};function q_(t){let e="",i="",o="",a="";return t.length>5?(e=t.substring(1,3),i=t.substring(3,5),o=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),i=t.substring(2,3),o=t.substring(3,4),a=t.substring(4,5),e+=e,i+=i,o+=o,a+=a),{red:parseInt(e,16),green:parseInt(i,16),blue:parseInt(o,16),alpha:a?parseInt(a,16)/255:1}}const Vd={test:Lf("#"),parse:q_,transform:ls.transform},Hl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Di=Hl("deg"),In=Hl("%"),ce=Hl("px"),F_=Hl("vh"),Y_=Hl("vw"),Cg={...In,parse:t=>In.parse(t)/100,transform:t=>In.transform(t*100)},io={test:Lf("hsl","hue"),parse:Xv("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:i,alpha:o=1})=>"hsla("+Math.round(t)+", "+In.transform(Cl(e))+", "+In.transform(Cl(i))+", "+Cl(Il.transform(o))+")"},ut={test:t=>ls.test(t)||Vd.test(t)||io.test(t),parse:t=>ls.test(t)?ls.parse(t):io.test(t)?io.parse(t):Vd.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ls.transform(t):io.transform(t),getAnimatableNone:t=>{const e=ut.parse(t);return e.alpha=0,ut.transform(e)}},K_=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function J_(t){var e,i;return isNaN(t)&&typeof t=="string"&&(((e=t.match(kf))==null?void 0:e.length)||0)+(((i=t.match(K_))==null?void 0:i.length)||0)>0}const Qv="number",Wv="color",$_="var",X_="var(",_g="${}",Q_=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Dl(t){const e=t.toString(),i=[],o={color:[],number:[],var:[]},a=[];let r=0;const f=e.replace(Q_,g=>(ut.test(g)?(o.color.push(r),a.push(Wv),i.push(ut.parse(g))):g.startsWith(X_)?(o.var.push(r),a.push($_),i.push(g)):(o.number.push(r),a.push(Qv),i.push(parseFloat(g))),++r,_g)).split(_g);return{values:i,split:f,indexes:o,types:a}}function Zv(t){return Dl(t).values}function eT(t){const{split:e,types:i}=Dl(t),o=e.length;return a=>{let r="";for(let c=0;c<o;c++)if(r+=e[c],a[c]!==void 0){const f=i[c];f===Qv?r+=Cl(a[c]):f===Wv?r+=ut.transform(a[c]):r+=a[c]}return r}}const W_=t=>typeof t=="number"?0:ut.test(t)?ut.getAnimatableNone(t):t;function Z_(t){const e=Zv(t);return eT(t)(e.map(W_))}const Li={test:J_,parse:Zv,createTransformer:eT,getAnimatableNone:Z_};function xd(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*6*i:i<1/2?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function eN({hue:t,saturation:e,lightness:i,alpha:o}){t/=360,e/=100,i/=100;let a=0,r=0,c=0;if(!e)a=r=c=i;else{const f=i<.5?i*(1+e):i+e-i*e,g=2*i-f;a=xd(g,f,t+1/3),r=xd(g,f,t),c=xd(g,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(r*255),blue:Math.round(c*255),alpha:o}}function Cr(t,e){return i=>i>0?e:t}const Xe=(t,e,i)=>t+(e-t)*i,vd=(t,e,i)=>{const o=t*t,a=i*(e*e-o)+o;return a<0?0:Math.sqrt(a)},tN=[Vd,ls,io],nN=t=>tN.find(e=>e.test(t));function Ng(t){const e=nN(t);if(!e)return!1;let i=e.parse(t);return e===io&&(i=eN(i)),i}const Ag=(t,e)=>{const i=Ng(t),o=Ng(e);if(!i||!o)return Cr(t,e);const a={...i};return r=>(a.red=vd(i.red,o.red,r),a.green=vd(i.green,o.green,r),a.blue=vd(i.blue,o.blue,r),a.alpha=Xe(i.alpha,o.alpha,r),ls.transform(a))},Bd=new Set(["none","hidden"]);function iN(t,e){return Bd.has(t)?i=>i<=0?t:e:i=>i>=1?e:t}function sN(t,e){return i=>Xe(t,e,i)}function Uf(t){return typeof t=="number"?sN:typeof t=="string"?Df(t)?Cr:ut.test(t)?Ag:aN:Array.isArray(t)?tT:typeof t=="object"?ut.test(t)?Ag:oN:Cr}function tT(t,e){const i=[...t],o=i.length,a=t.map((r,c)=>Uf(r)(r,e[c]));return r=>{for(let c=0;c<o;c++)i[c]=a[c](r);return i}}function oN(t,e){const i={...t,...e},o={};for(const a in i)t[a]!==void 0&&e[a]!==void 0&&(o[a]=Uf(t[a])(t[a],e[a]));return a=>{for(const r in o)i[r]=o[r](a);return i}}function lN(t,e){const i=[],o={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const r=e.types[a],c=t.indexes[r][o[r]],f=t.values[c]??0;i[a]=f,o[r]++}return i}const aN=(t,e)=>{const i=Li.createTransformer(e),o=Dl(t),a=Dl(e);return o.indexes.var.length===a.indexes.var.length&&o.indexes.color.length===a.indexes.color.length&&o.indexes.number.length>=a.indexes.number.length?Bd.has(t)&&!a.values.length||Bd.has(e)&&!o.values.length?iN(t,e):Vl(tT(lN(o,a),a.values),i):Cr(t,e)};function nT(t,e,i){return typeof t=="number"&&typeof e=="number"&&typeof i=="number"?Xe(t,e,i):Uf(t)(t,e)}const rN=t=>{const e=({timestamp:i})=>t(i);return{start:(i=!0)=>Je.update(e,i),stop:()=>ii(e),now:()=>Et.isProcessing?Et.timestamp:Ht.now()}},iT=(t,e,i=10)=>{let o="";const a=Math.max(Math.round(e/i),2);for(let r=0;r<a;r++)o+=Math.round(t(r/(a-1))*1e4)/1e4+", ";return`linear(${o.substring(0,o.length-2)})`},_r=2e4;function Pf(t){let e=0;const i=50;let o=t.next(e);for(;!o.done&&e<_r;)e+=i,o=t.next(e);return e>=_r?1/0:e}function uN(t,e=100,i){const o=i({...t,keyframes:[0,e]}),a=Math.min(Pf(o),_r);return{type:"keyframes",ease:r=>o.next(a*r).value/e,duration:rn(a)}}const cN=5;function sT(t,e,i){const o=Math.max(e-cN,0);return Pv(i-t(o),e-o)}const et={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Td=.001;function dN({duration:t=et.duration,bounce:e=et.bounce,velocity:i=et.velocity,mass:o=et.mass}){let a,r,c=1-e;c=ti(et.minDamping,et.maxDamping,c),t=ti(et.minDuration,et.maxDuration,rn(t)),c<1?(a=h=>{const x=h*c,T=x*t,S=x-i,b=Hd(h,c),_=Math.exp(-T);return Td-S/b*_},r=h=>{const T=h*c*t,S=T*i+i,b=Math.pow(c,2)*Math.pow(h,2)*t,_=Math.exp(-T),N=Hd(Math.pow(h,2),c);return(-a(h)+Td>0?-1:1)*((S-b)*_)/N}):(a=h=>{const x=Math.exp(-h*t),T=(h-i)*t+1;return-Td+x*T},r=h=>{const x=Math.exp(-h*t),T=(i-h)*(t*t);return x*T});const f=5/t,g=pN(a,r,f);if(t=Mn(t),isNaN(g))return{stiffness:et.stiffness,damping:et.damping,duration:t};{const h=Math.pow(g,2)*o;return{stiffness:h,damping:c*2*Math.sqrt(o*h),duration:t}}}const fN=12;function pN(t,e,i){let o=i;for(let a=1;a<fN;a++)o=o-t(o)/e(o);return o}function Hd(t,e){return t*Math.sqrt(1-e*e)}const hN=["duration","bounce"],mN=["stiffness","damping","mass"];function Rg(t,e){return e.some(i=>t[i]!==void 0)}function gN(t){let e={velocity:et.velocity,stiffness:et.stiffness,damping:et.damping,mass:et.mass,isResolvedFromDuration:!1,...t};if(!Rg(t,mN)&&Rg(t,hN))if(t.visualDuration){const i=t.visualDuration,o=2*Math.PI/(i*1.2),a=o*o,r=2*ti(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:et.mass,stiffness:a,damping:r}}else{const i=dN(t);e={...e,...i,mass:et.mass},e.isResolvedFromDuration=!0}return e}function Nr(t=et.visualDuration,e=et.bounce){const i=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:o,restDelta:a}=i;const r=i.keyframes[0],c=i.keyframes[i.keyframes.length-1],f={done:!1,value:r},{stiffness:g,damping:h,mass:x,duration:T,velocity:S,isResolvedFromDuration:b}=gN({...i,velocity:-rn(i.velocity||0)}),_=S||0,N=h/(2*Math.sqrt(g*x)),A=c-r,w=rn(Math.sqrt(g/x)),U=Math.abs(A)<5;o||(o=U?et.restSpeed.granular:et.restSpeed.default),a||(a=U?et.restDelta.granular:et.restDelta.default);let D;if(N<1){const Y=Hd(w,N);D=X=>{const O=Math.exp(-N*w*X);return c-O*((_+N*w*A)/Y*Math.sin(Y*X)+A*Math.cos(Y*X))}}else if(N===1)D=Y=>c-Math.exp(-w*Y)*(A+(_+w*A)*Y);else{const Y=w*Math.sqrt(N*N-1);D=X=>{const O=Math.exp(-N*w*X),j=Math.min(Y*X,300);return c-O*((_+N*w*A)*Math.sinh(j)+Y*A*Math.cosh(j))/Y}}const G={calculatedDuration:b&&T||null,next:Y=>{const X=D(Y);if(b)f.done=Y>=T;else{let O=Y===0?_:0;N<1&&(O=Y===0?Mn(_):sT(D,Y,X));const j=Math.abs(O)<=o,q=Math.abs(c-X)<=a;f.done=j&&q}return f.value=f.done?c:X,f},toString:()=>{const Y=Math.min(Pf(G),_r),X=iT(O=>G.next(Y*O).value,Y,30);return Y+"ms "+X},toTransition:()=>{}};return G}Nr.applyToOptions=t=>{const e=uN(t,100,Nr);return t.ease=e.ease,t.duration=Mn(e.duration),t.type="keyframes",t};function zd({keyframes:t,velocity:e=0,power:i=.8,timeConstant:o=325,bounceDamping:a=10,bounceStiffness:r=500,modifyTarget:c,min:f,max:g,restDelta:h=.5,restSpeed:x}){const T=t[0],S={done:!1,value:T},b=j=>f!==void 0&&j<f||g!==void 0&&j>g,_=j=>f===void 0?g:g===void 0||Math.abs(f-j)<Math.abs(g-j)?f:g;let N=i*e;const A=T+N,w=c===void 0?A:c(A);w!==A&&(N=w-T);const U=j=>-N*Math.exp(-j/o),D=j=>w+U(j),G=j=>{const q=U(j),W=D(j);S.done=Math.abs(q)<=h,S.value=S.done?w:W};let Y,X;const O=j=>{b(S.value)&&(Y=j,X=Nr({keyframes:[S.value,_(S.value)],velocity:sT(D,j,S.value),damping:a,stiffness:r,restDelta:h,restSpeed:x}))};return O(0),{calculatedDuration:null,next:j=>{let q=!1;return!X&&Y===void 0&&(q=!0,G(j),O(j)),Y!==void 0&&j>=Y?X.next(j-Y):(!q&&G(j),S)}}}function yN(t,e,i){const o=[],a=i||ni.mix||nT,r=t.length-1;for(let c=0;c<r;c++){let f=a(t[c],t[c+1]);if(e){const g=Array.isArray(e)?e[c]||cn:e;f=Vl(g,f)}o.push(f)}return o}function oT(t,e,{clamp:i=!0,ease:o,mixer:a}={}){const r=t.length;if(Af(r===e.length),r===1)return()=>e[0];if(r===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[r-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=yN(e,o,a),g=f.length,h=x=>{if(c&&x<t[0])return e[0];let T=0;if(g>1)for(;T<t.length-2&&!(x<t[T+1]);T++);const S=Ml(t[T],t[T+1],x);return f[T](S)};return i?x=>h(ti(t[0],t[r-1],x)):h}function xN(t,e){const i=t[t.length-1];for(let o=1;o<=e;o++){const a=Ml(0,e,o);t.push(Xe(i,1,a))}}function vN(t){const e=[0];return xN(e,t.length-1),e}function TN(t,e){return t.map(i=>i*e)}function SN(t,e){return t.map(()=>e||Fv).splice(0,t.length-1)}function _l({duration:t=300,keyframes:e,times:i,ease:o="easeInOut"}){const a=k_(o)?o.map(bg):bg(o),r={done:!1,value:e[0]},c=TN(i&&i.length===e.length?i:vN(e),t),f=oT(c,e,{ease:Array.isArray(a)?a:SN(e,a)});return{calculatedDuration:t,next:g=>(r.value=f(g),r.done=g>=t,r)}}const EN=t=>t!==null;function Vf(t,{repeat:e,repeatType:i="loop"},o,a=1){const r=t.filter(EN),f=a<0||e&&i!=="loop"&&e%2===1?0:r.length-1;return!f||o===void 0?r[f]:o}const bN={decay:zd,inertia:zd,tween:_l,keyframes:_l,spring:Nr};function lT(t){typeof t.type=="string"&&(t.type=bN[t.type])}class Bf{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,i){return this.finished.then(e,i)}}const CN=t=>t/100;class Hf extends Bf{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var o,a;const{motionValue:i}=this.options;i&&i.updatedAt!==Ht.now()&&this.tick(Ht.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(o=this.options).onStop)==null||a.call(o))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;lT(e);const{type:i=_l,repeat:o=0,repeatDelay:a=0,repeatType:r,velocity:c=0}=e;let{keyframes:f}=e;const g=i||_l;g!==_l&&typeof f[0]!="number"&&(this.mixKeyframes=Vl(CN,nT(f[0],f[1])),f=[0,100]);const h=g({...e,keyframes:f});r==="mirror"&&(this.mirroredGenerator=g({...e,keyframes:[...f].reverse(),velocity:-c})),h.calculatedDuration===null&&(h.calculatedDuration=Pf(h));const{calculatedDuration:x}=h;this.calculatedDuration=x,this.resolvedDuration=x+a,this.totalDuration=this.resolvedDuration*(o+1)-a,this.generator=h}updateTime(e){const i=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(e,i=!1){const{generator:o,totalDuration:a,mixKeyframes:r,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:g}=this;if(this.startTime===null)return o.next(0);const{delay:h=0,keyframes:x,repeat:T,repeatType:S,repeatDelay:b,type:_,onUpdate:N,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),i?this.currentTime=e:this.updateTime(e);const w=this.currentTime-h*(this.playbackSpeed>=0?1:-1),U=this.playbackSpeed>=0?w<0:w>a;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let D=this.currentTime,G=o;if(T){const j=Math.min(this.currentTime,a)/f;let q=Math.floor(j),W=j%1;!W&&j>=1&&(W=1),W===1&&q--,q=Math.min(q,T+1),!!(q%2)&&(S==="reverse"?(W=1-W,b&&(W-=b/f)):S==="mirror"&&(G=c)),D=ti(0,1,W)*f}const Y=U?{done:!1,value:x[0]}:G.next(D);r&&(Y.value=r(Y.value));let{done:X}=Y;!U&&g!==null&&(X=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return O&&_!==zd&&(Y.value=Vf(x,this.options,A,this.speed)),N&&N(Y.value),O&&this.finish(),Y}then(e,i){return this.finished.then(e,i)}get duration(){return rn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+rn(e)}get time(){return rn(this.currentTime)}set time(e){var i;e=Mn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(i=this.driver)==null||i.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ht.now());const i=this.playbackSpeed!==e;this.playbackSpeed=e,i&&(this.time=rn(this.currentTime))}play(){var a,r;if(this.isStopped)return;const{driver:e=rN,startTime:i}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(r=(a=this.options).onPlay)==null||r.call(a);const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=i??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ht.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,i;this.notifyFinished(),this.teardown(),this.state="finished",(i=(e=this.options).onComplete)==null||i.call(e)}cancel(){var e,i;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(i=(e=this.options).onCancel)==null||i.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var i;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(i=this.driver)==null||i.stop(),e.observe(this)}}function _N(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const as=t=>t*180/Math.PI,Gd=t=>{const e=as(Math.atan2(t[1],t[0]));return Od(e)},NN={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Gd,rotateZ:Gd,skewX:t=>as(Math.atan(t[1])),skewY:t=>as(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Od=t=>(t=t%360,t<0&&(t+=360),t),wg=Gd,Mg=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Ig=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),AN={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Mg,scaleY:Ig,scale:t=>(Mg(t)+Ig(t))/2,rotateX:t=>Od(as(Math.atan2(t[6],t[5]))),rotateY:t=>Od(as(Math.atan2(-t[2],t[0]))),rotateZ:wg,rotate:wg,skewX:t=>as(Math.atan(t[4])),skewY:t=>as(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function jd(t){return t.includes("scale")?1:0}function qd(t,e){if(!t||t==="none")return jd(e);const i=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let o,a;if(i)o=AN,a=i;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);o=NN,a=f}if(!a)return jd(e);const r=o[e],c=a[1].split(",").map(wN);return typeof r=="function"?r(c):c[r]}const RN=(t,e)=>{const{transform:i="none"}=getComputedStyle(t);return qd(i,e)};function wN(t){return parseFloat(t.trim())}const xo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vo=new Set(xo),Dg=t=>t===yo||t===ce,MN=new Set(["x","y","z"]),IN=xo.filter(t=>!MN.has(t));function DN(t){const e=[];return IN.forEach(i=>{const o=t.getValue(i);o!==void 0&&(e.push([i,o.get()]),o.set(i.startsWith("scale")?1:0))}),e}const rs={width:({x:t},{paddingLeft:e="0",paddingRight:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),height:({y:t},{paddingTop:e="0",paddingBottom:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>qd(e,"x"),y:(t,{transform:e})=>qd(e,"y")};rs.translateX=rs.x;rs.translateY=rs.y;const us=new Set;let Fd=!1,Yd=!1,Kd=!1;function aT(){if(Yd){const t=Array.from(us).filter(o=>o.needsMeasurement),e=new Set(t.map(o=>o.element)),i=new Map;e.forEach(o=>{const a=DN(o);a.length&&(i.set(o,a),o.render())}),t.forEach(o=>o.measureInitialState()),e.forEach(o=>{o.render();const a=i.get(o);a&&a.forEach(([r,c])=>{var f;(f=o.getValue(r))==null||f.set(c)})}),t.forEach(o=>o.measureEndState()),t.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}Yd=!1,Fd=!1,us.forEach(t=>t.complete(Kd)),us.clear()}function rT(){us.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Yd=!0)})}function kN(){Kd=!0,rT(),aT(),Kd=!1}class zf{constructor(e,i,o,a,r,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=i,this.name=o,this.motionValue=a,this.element=r,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(us.add(this),Fd||(Fd=!0,Je.read(rT),Je.resolveKeyframes(aT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:i,element:o,motionValue:a}=this;if(e[0]===null){const r=a==null?void 0:a.get(),c=e[e.length-1];if(r!==void 0)e[0]=r;else if(o&&i){const f=o.readValue(i,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),a&&r===void 0&&a.set(e[0])}_N(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),us.delete(this)}cancel(){this.state==="scheduled"&&(us.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const LN=t=>t.startsWith("--");function UN(t,e,i){LN(e)?t.style.setProperty(e,i):t.style[e]=i}const PN=Rf(()=>window.ScrollTimeline!==void 0),VN={};function BN(t,e){const i=Rf(t);return()=>VN[e]??i()}const uT=BN(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),El=([t,e,i,o])=>`cubic-bezier(${t}, ${e}, ${i}, ${o})`,kg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:El([0,.65,.55,1]),circOut:El([.55,0,1,.45]),backIn:El([.31,.01,.66,-.59]),backOut:El([.33,1.53,.69,.99])};function cT(t,e){if(t)return typeof t=="function"?uT()?iT(t,e):"ease-out":Yv(t)?El(t):Array.isArray(t)?t.map(i=>cT(i,e)||kg.easeOut):kg[t]}function HN(t,e,i,{delay:o=0,duration:a=300,repeat:r=0,repeatType:c="loop",ease:f="easeOut",times:g}={},h=void 0){const x={[e]:i};g&&(x.offset=g);const T=cT(f,a);Array.isArray(T)&&(x.easing=T);const S={delay:o,duration:a,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:r+1,direction:c==="reverse"?"alternate":"normal"};return h&&(S.pseudoElement=h),t.animate(x,S)}function dT(t){return typeof t=="function"&&"applyToOptions"in t}function zN({type:t,...e}){return dT(t)&&uT()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class GN extends Bf{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:i,name:o,keyframes:a,pseudoElement:r,allowFlatten:c=!1,finalKeyframe:f,onComplete:g}=e;this.isPseudoElement=!!r,this.allowFlatten=c,this.options=e,Af(typeof e.type!="string");const h=zN(e);this.animation=HN(i,o,a,h,r),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const x=Vf(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(x):UN(i,o,x),this.animation.cancel()}g==null||g(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,i;(i=(e=this.animation).finish)==null||i.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,i;this.isPseudoElement||(i=(e=this.animation).commitStyles)==null||i.call(e)}get duration(){var i,o;const e=((o=(i=this.animation.effect)==null?void 0:i.getComputedTiming)==null?void 0:o.call(i).duration)||0;return rn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+rn(e)}get time(){return rn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Mn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:i}){var o;return this.allowFlatten&&((o=this.animation.effect)==null||o.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&PN()?(this.animation.timeline=e,cn):i(this)}}const fT={anticipate:Ov,backInOut:Gv,circInOut:qv};function ON(t){return t in fT}function jN(t){typeof t.ease=="string"&&ON(t.ease)&&(t.ease=fT[t.ease])}const Lg=10;class qN extends GN{constructor(e){jN(e),lT(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:i,onUpdate:o,onComplete:a,element:r,...c}=this.options;if(!i)return;if(e!==void 0){i.set(e);return}const f=new Hf({...c,autoplay:!1}),g=Mn(this.finishedTime??this.time);i.setWithVelocity(f.sample(g-Lg).value,f.sample(g).value,Lg),f.stop()}}const Ug=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Li.test(t)||t==="0")&&!t.startsWith("url("));function FN(t){const e=t[0];if(t.length===1)return!0;for(let i=0;i<t.length;i++)if(t[i]!==e)return!0}function YN(t,e,i,o){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const r=t[t.length-1],c=Ug(a,e),f=Ug(r,e);return!c||!f?!1:FN(t)||(i==="spring"||dT(i))&&o}function Jd(t){t.duration=0,t.type="keyframes"}const KN=new Set(["opacity","clipPath","filter","transform"]),JN=Rf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function $N(t){var x;const{motionValue:e,name:i,repeatDelay:o,repeatType:a,damping:r,type:c}=t;if(!(((x=e==null?void 0:e.owner)==null?void 0:x.current)instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:h}=e.owner.getProps();return JN()&&i&&KN.has(i)&&(i!=="transform"||!h)&&!g&&!o&&a!=="mirror"&&r!==0&&c!=="inertia"}const XN=40;class QN extends Bf{constructor({autoplay:e=!0,delay:i=0,type:o="keyframes",repeat:a=0,repeatDelay:r=0,repeatType:c="loop",keyframes:f,name:g,motionValue:h,element:x,...T}){var _;super(),this.stop=()=>{var N,A;this._animation&&(this._animation.stop(),(N=this.stopTimeline)==null||N.call(this)),(A=this.keyframeResolver)==null||A.cancel()},this.createdAt=Ht.now();const S={autoplay:e,delay:i,type:o,repeat:a,repeatDelay:r,repeatType:c,name:g,motionValue:h,element:x,...T},b=(x==null?void 0:x.KeyframeResolver)||zf;this.keyframeResolver=new b(f,(N,A,w)=>this.onKeyframesResolved(N,A,S,!w),g,h,x),(_=this.keyframeResolver)==null||_.scheduleResolve()}onKeyframesResolved(e,i,o,a){this.keyframeResolver=void 0;const{name:r,type:c,velocity:f,delay:g,isHandoff:h,onUpdate:x}=o;this.resolvedAt=Ht.now(),YN(e,r,c,f)||((ni.instantAnimations||!g)&&(x==null||x(Vf(e,o,i))),e[0]=e[e.length-1],Jd(o),o.repeat=0);const S={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>XN?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...o,keyframes:e},b=!h&&$N(S)?new qN({...S,element:S.motionValue.owner.current}):new Hf(S);b.finished.then(()=>this.notifyFinished()).catch(cn),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,i){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),kN()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const WN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ZN(t){const e=WN.exec(t);if(!e)return[,];const[,i,o,a]=e;return[`--${i??o}`,a]}function pT(t,e,i=1){const[o,a]=ZN(t);if(!o)return;const r=window.getComputedStyle(e).getPropertyValue(o);if(r){const c=r.trim();return kv(c)?parseFloat(c):c}return Df(a)?pT(a,e,i+1):a}function Gf(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const hT=new Set(["width","height","top","left","right","bottom",...xo]),eA={test:t=>t==="auto",parse:t=>t},mT=t=>e=>e.test(t),gT=[yo,ce,In,Di,Y_,F_,eA],Pg=t=>gT.find(mT(t));function tA(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Uv(t):!0}const nA=new Set(["brightness","contrast","saturate","opacity"]);function iA(t){const[e,i]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[o]=i.match(kf)||[];if(!o)return t;const a=i.replace(o,"");let r=nA.has(e)?1:0;return o!==i&&(r*=100),e+"("+r+a+")"}const sA=/\b([a-z-]*)\(.*?\)/gu,$d={...Li,getAnimatableNone:t=>{const e=t.match(sA);return e?e.map(iA).join(" "):t}},Vg={...yo,transform:Math.round},oA={rotate:Di,rotateX:Di,rotateY:Di,rotateZ:Di,scale:or,scaleX:or,scaleY:or,scaleZ:or,skew:Di,skewX:Di,skewY:Di,distance:ce,translateX:ce,translateY:ce,translateZ:ce,x:ce,y:ce,z:ce,perspective:ce,transformPerspective:ce,opacity:Il,originX:Cg,originY:Cg,originZ:ce},Of={borderWidth:ce,borderTopWidth:ce,borderRightWidth:ce,borderBottomWidth:ce,borderLeftWidth:ce,borderRadius:ce,radius:ce,borderTopLeftRadius:ce,borderTopRightRadius:ce,borderBottomRightRadius:ce,borderBottomLeftRadius:ce,width:ce,maxWidth:ce,height:ce,maxHeight:ce,top:ce,right:ce,bottom:ce,left:ce,padding:ce,paddingTop:ce,paddingRight:ce,paddingBottom:ce,paddingLeft:ce,margin:ce,marginTop:ce,marginRight:ce,marginBottom:ce,marginLeft:ce,backgroundPositionX:ce,backgroundPositionY:ce,...oA,zIndex:Vg,fillOpacity:Il,strokeOpacity:Il,numOctaves:Vg},lA={...Of,color:ut,backgroundColor:ut,outlineColor:ut,fill:ut,stroke:ut,borderColor:ut,borderTopColor:ut,borderRightColor:ut,borderBottomColor:ut,borderLeftColor:ut,filter:$d,WebkitFilter:$d},yT=t=>lA[t];function xT(t,e){let i=yT(t);return i!==$d&&(i=Li),i.getAnimatableNone?i.getAnimatableNone(e):void 0}const aA=new Set(["auto","none","0"]);function rA(t,e,i){let o=0,a;for(;o<t.length&&!a;){const r=t[o];typeof r=="string"&&!aA.has(r)&&Dl(r).values.length&&(a=t[o]),o++}if(a&&i)for(const r of e)t[r]=xT(i,a)}class uA extends zf{constructor(e,i,o,a,r){super(e,i,o,a,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:i,name:o}=this;if(!i||!i.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let h=e[g];if(typeof h=="string"&&(h=h.trim(),Df(h))){const x=pT(h,i.current);x!==void 0&&(e[g]=x),g===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!hT.has(o)||e.length!==2)return;const[a,r]=e,c=Pg(a),f=Pg(r);if(c!==f)if(Dg(c)&&Dg(f))for(let g=0;g<e.length;g++){const h=e[g];typeof h=="string"&&(e[g]=parseFloat(h))}else rs[o]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:i}=this,o=[];for(let a=0;a<e.length;a++)(e[a]===null||tA(e[a]))&&o.push(a);o.length&&rA(e,o,i)}measureInitialState(){const{element:e,unresolvedKeyframes:i,name:o}=this;if(!e||!e.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=rs[o](e.measureViewportBox(),window.getComputedStyle(e.current)),i[0]=this.measuredOrigin;const a=i[i.length-1];a!==void 0&&e.getValue(o,a).jump(a,!1)}measureEndState(){var f;const{element:e,name:i,unresolvedKeyframes:o}=this;if(!e||!e.current)return;const a=e.getValue(i);a&&a.jump(this.measuredOrigin,!1);const r=o.length-1,c=o[r];o[r]=rs[i](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([g,h])=>{e.getValue(g).set(h)}),this.resolveNoneKeyframes()}}function cA(t,e,i){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let o=document;const a=(i==null?void 0:i[t])??o.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const vT=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function TT(t){return Lv(t)&&"offsetHeight"in t}const Bg=30,dA=t=>!isNaN(parseFloat(t)),Nl={current:void 0};class fA{constructor(e,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=o=>{var r;const a=Ht.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&((r=this.events.change)==null||r.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=i.owner}setCurrent(e){this.current=e,this.updatedAt=Ht.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=dA(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,i){this.events[e]||(this.events[e]=new wf);const o=this.events[e].add(i);return e==="change"?()=>{o(),Je.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,i){this.passiveEffect=e,this.stopPassiveEffect=i}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,i,o){this.set(i),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-o}jump(e,i=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Nl.current&&Nl.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Ht.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Bg)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,Bg);return Pv(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(e){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=e(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,i;(e=this.dependents)==null||e.clear(),(i=this.events.destroy)==null||i.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fs(t,e){return new fA(t,e)}const{schedule:jf}=Kv(queueMicrotask,!1),vn={x:!1,y:!1};function ST(){return vn.x||vn.y}function pA(t){return t==="x"||t==="y"?vn[t]?null:(vn[t]=!0,()=>{vn[t]=!1}):vn.x||vn.y?null:(vn.x=vn.y=!0,()=>{vn.x=vn.y=!1})}function ET(t,e){const i=cA(t),o=new AbortController,a={passive:!0,...e,signal:o.signal};return[i,a,()=>o.abort()]}function Hg(t){return!(t.pointerType==="touch"||ST())}function hA(t,e,i={}){const[o,a,r]=ET(t,i),c=f=>{if(!Hg(f))return;const{target:g}=f,h=e(g,f);if(typeof h!="function"||!g)return;const x=T=>{Hg(T)&&(h(T),g.removeEventListener("pointerleave",x))};g.addEventListener("pointerleave",x,a)};return o.forEach(f=>{f.addEventListener("pointerenter",c,a)}),r}const bT=(t,e)=>e?t===e?!0:bT(t,e.parentElement):!1,qf=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,mA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gA(t){return mA.has(t.tagName)||t.tabIndex!==-1}const xr=new WeakSet;function zg(t){return e=>{e.key==="Enter"&&t(e)}}function Sd(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const yA=(t,e)=>{const i=t.currentTarget;if(!i)return;const o=zg(()=>{if(xr.has(i))return;Sd(i,"down");const a=zg(()=>{Sd(i,"up")}),r=()=>Sd(i,"cancel");i.addEventListener("keyup",a,e),i.addEventListener("blur",r,e)});i.addEventListener("keydown",o,e),i.addEventListener("blur",()=>i.removeEventListener("keydown",o),e)};function Gg(t){return qf(t)&&!ST()}function xA(t,e,i={}){const[o,a,r]=ET(t,i),c=f=>{const g=f.currentTarget;if(!Gg(f))return;xr.add(g);const h=e(g,f),x=(b,_)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",S),xr.has(g)&&xr.delete(g),Gg(b)&&typeof h=="function"&&h(b,{success:_})},T=b=>{x(b,g===window||g===document||i.useGlobalTarget||bT(g,b.target))},S=b=>{x(b,!1)};window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",S,a)};return o.forEach(f=>{(i.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),TT(f)&&(f.addEventListener("focus",h=>yA(h,a)),!gA(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),r}function CT(t){return Lv(t)&&"ownerSVGElement"in t}function vA(t){return CT(t)&&t.tagName==="svg"}function TA(...t){const e=!Array.isArray(t[0]),i=e?0:-1,o=t[0+i],a=t[1+i],r=t[2+i],c=t[3+i],f=oT(a,r,c);return e?f(o):f}const bt=t=>!!(t&&t.getVelocity),SA=[...gT,ut,Li],EA=t=>SA.find(mT(t)),Br=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Og(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function bA(...t){return e=>{let i=!1;const o=t.map(a=>{const r=Og(a,e);return!i&&typeof r=="function"&&(i=!0),r});if(i)return()=>{for(let a=0;a<o.length;a++){const r=o[a];typeof r=="function"?r():Og(t[a],null)}}}}function CA(...t){return k.useCallback(bA(...t),t)}class _A extends k.Component{getSnapshotBeforeUpdate(e){const i=this.props.childRef.current;if(i&&e.isPresent&&!this.props.isPresent){const o=i.offsetParent,a=TT(o)&&o.offsetWidth||0,r=this.props.sizeRef.current;r.height=i.offsetHeight||0,r.width=i.offsetWidth||0,r.top=i.offsetTop,r.left=i.offsetLeft,r.right=a-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function NA({children:t,isPresent:e,anchorX:i,root:o}){const a=k.useId(),r=k.useRef(null),c=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=k.useContext(Br),g=CA(r,t==null?void 0:t.ref);return k.useInsertionEffect(()=>{const{width:h,height:x,top:T,left:S,right:b}=c.current;if(e||!r.current||!h||!x)return;const _=i==="left"?`left: ${S}`:`right: ${b}`;r.current.dataset.motionPopId=a;const N=document.createElement("style");f&&(N.nonce=f);const A=o??document.head;return A.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${x}px !important;
            ${_}px !important;
            top: ${T}px !important;
          }
        `),()=>{A.contains(N)&&A.removeChild(N)}},[e]),p.jsx(_A,{isPresent:e,childRef:r,sizeRef:c,children:k.cloneElement(t,{ref:g})})}const AA=({children:t,initial:e,isPresent:i,onExitComplete:o,custom:a,presenceAffectsLayout:r,mode:c,anchorX:f,root:g})=>{const h=Ui(RA),x=k.useId();let T=!0,S=k.useMemo(()=>(T=!1,{id:x,initial:e,isPresent:i,custom:a,onExitComplete:b=>{h.set(b,!0);for(const _ of h.values())if(!_)return;o&&o()},register:b=>(h.set(b,!1),()=>h.delete(b))}),[i,h,o]);return r&&T&&(S={...S}),k.useMemo(()=>{h.forEach((b,_)=>h.set(_,!1))},[i]),k.useEffect(()=>{!i&&!h.size&&o&&o()},[i]),c==="popLayout"&&(t=p.jsx(NA,{isPresent:i,anchorX:f,root:g,children:t})),p.jsx(Vr.Provider,{value:S,children:t})};function RA(){return new Map}function _T(t=!0){const e=k.useContext(Vr);if(e===null)return[!0,null];const{isPresent:i,onExitComplete:o,register:a}=e,r=k.useId();k.useEffect(()=>{if(t)return a(r)},[t]);const c=k.useCallback(()=>t&&o&&o(r),[r,o,t]);return!i&&o?[!1,c]:[!0]}const lr=t=>t.key||"";function jg(t){const e=[];return k.Children.forEach(t,i=>{k.isValidElement(i)&&e.push(i)}),e}const ei=({children:t,custom:e,initial:i=!0,onExitComplete:o,presenceAffectsLayout:a=!0,mode:r="sync",propagate:c=!1,anchorX:f="left",root:g})=>{const[h,x]=_T(c),T=k.useMemo(()=>jg(t),[t]),S=c&&!h?[]:T.map(lr),b=k.useRef(!0),_=k.useRef(T),N=Ui(()=>new Map),[A,w]=k.useState(T),[U,D]=k.useState(T);Cf(()=>{b.current=!1,_.current=T;for(let X=0;X<U.length;X++){const O=lr(U[X]);S.includes(O)?N.delete(O):N.get(O)!==!0&&N.set(O,!1)}},[U,S.length,S.join("-")]);const G=[];if(T!==A){let X=[...T];for(let O=0;O<U.length;O++){const j=U[O],q=lr(j);S.includes(q)||(X.splice(O,0,j),G.push(j))}return r==="wait"&&G.length&&(X=G),D(jg(X)),w(T),null}const{forceRender:Y}=k.useContext(Ef);return p.jsx(p.Fragment,{children:U.map(X=>{const O=lr(X),j=c&&!h?!1:T===U||S.includes(O),q=()=>{if(N.has(O))N.set(O,!0);else return;let W=!0;N.forEach(le=>{le||(W=!1)}),W&&(Y==null||Y(),D(_.current),c&&(x==null||x()),o&&o())};return p.jsx(AA,{isPresent:j,initial:!b.current||i?void 0:!1,custom:e,presenceAffectsLayout:a,mode:r,root:g,onExitComplete:j?void 0:q,anchorX:f,children:X},O)})})},NT=k.createContext({strict:!1}),qg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},mo={};for(const t in qg)mo[t]={isEnabled:e=>qg[t].some(i=>!!e[i])};function wA(t){for(const e in t)mo[e]={...mo[e],...t[e]}}const MA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ar(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||MA.has(t)}let AT=t=>!Ar(t);function IA(t){typeof t=="function"&&(AT=e=>e.startsWith("on")?!Ar(e):t(e))}try{IA(require("@emotion/is-prop-valid").default)}catch{}function DA(t,e,i){const o={};for(const a in t)a==="values"&&typeof t.values=="object"||(AT(a)||i===!0&&Ar(a)||!e&&!Ar(a)||t.draggable&&a.startsWith("onDrag"))&&(o[a]=t[a]);return o}const Hr=k.createContext({});function zr(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function kl(t){return typeof t=="string"||Array.isArray(t)}const Ff=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Yf=["initial",...Ff];function Gr(t){return zr(t.animate)||Yf.some(e=>kl(t[e]))}function RT(t){return!!(Gr(t)||t.variants)}function kA(t,e){if(Gr(t)){const{initial:i,animate:o}=t;return{initial:i===!1||kl(i)?i:void 0,animate:kl(o)?o:void 0}}return t.inherit!==!1?e:{}}function LA(t){const{initial:e,animate:i}=kA(t,k.useContext(Hr));return k.useMemo(()=>({initial:e,animate:i}),[Fg(e),Fg(i)])}function Fg(t){return Array.isArray(t)?t.join(" "):t}function Yg(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const vl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ce.test(t))t=parseFloat(t);else return t;const i=Yg(t,e.target.x),o=Yg(t,e.target.y);return`${i}% ${o}%`}},UA={correct:(t,{treeScale:e,projectionDelta:i})=>{const o=t,a=Li.parse(t);if(a.length>5)return o;const r=Li.createTransformer(t),c=typeof a[0]!="number"?1:0,f=i.x.scale*e.x,g=i.y.scale*e.y;a[0+c]/=f,a[1+c]/=g;const h=Xe(f,g,.5);return typeof a[2+c]=="number"&&(a[2+c]/=h),typeof a[3+c]=="number"&&(a[3+c]/=h),r(a)}},Xd={borderRadius:{...vl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vl,borderTopRightRadius:vl,borderBottomLeftRadius:vl,borderBottomRightRadius:vl,boxShadow:UA};function wT(t,{layout:e,layoutId:i}){return vo.has(t)||t.startsWith("origin")||(e||i!==void 0)&&(!!Xd[t]||t==="opacity")}const PA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},VA=xo.length;function BA(t,e,i){let o="",a=!0;for(let r=0;r<VA;r++){const c=xo[r],f=t[c];if(f===void 0)continue;let g=!0;if(typeof f=="number"?g=f===(c.startsWith("scale")?1:0):g=parseFloat(f)===0,!g||i){const h=vT(f,Of[c]);if(!g){a=!1;const x=PA[c]||c;o+=`${x}(${h}) `}i&&(e[c]=h)}}return o=o.trim(),i?o=i(e,a?"":o):a&&(o="none"),o}function Kf(t,e,i){const{style:o,vars:a,transformOrigin:r}=t;let c=!1,f=!1;for(const g in e){const h=e[g];if(vo.has(g)){c=!0;continue}else if($v(g)){a[g]=h;continue}else{const x=vT(h,Of[g]);g.startsWith("origin")?(f=!0,r[g]=x):o[g]=x}}if(e.transform||(c||i?o.transform=BA(e,t.transform,i):o.transform&&(o.transform="none")),f){const{originX:g="50%",originY:h="50%",originZ:x=0}=r;o.transformOrigin=`${g} ${h} ${x}`}}const Jf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function MT(t,e,i){for(const o in e)!bt(e[o])&&!wT(o,i)&&(t[o]=e[o])}function HA({transformTemplate:t},e){return k.useMemo(()=>{const i=Jf();return Kf(i,e,t),Object.assign({},i.vars,i.style)},[e])}function zA(t,e){const i=t.style||{},o={};return MT(o,i,t),Object.assign(o,HA(t,e)),o}function GA(t,e){const i={},o=zA(t,e);return t.drag&&t.dragListener!==!1&&(i.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=o,i}const OA={offset:"stroke-dashoffset",array:"stroke-dasharray"},jA={offset:"strokeDashoffset",array:"strokeDasharray"};function qA(t,e,i=1,o=0,a=!0){t.pathLength=1;const r=a?OA:jA;t[r.offset]=ce.transform(-o);const c=ce.transform(e),f=ce.transform(i);t[r.array]=`${c} ${f}`}function IT(t,{attrX:e,attrY:i,attrScale:o,pathLength:a,pathSpacing:r=1,pathOffset:c=0,...f},g,h,x){if(Kf(t,f,h),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:T,style:S}=t;T.transform&&(S.transform=T.transform,delete T.transform),(S.transform||T.transformOrigin)&&(S.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),S.transform&&(S.transformBox=(x==null?void 0:x.transformBox)??"fill-box",delete T.transformBox),e!==void 0&&(T.x=e),i!==void 0&&(T.y=i),o!==void 0&&(T.scale=o),a!==void 0&&qA(T,a,r,c,!1)}const DT=()=>({...Jf(),attrs:{}}),kT=t=>typeof t=="string"&&t.toLowerCase()==="svg";function FA(t,e,i,o){const a=k.useMemo(()=>{const r=DT();return IT(r,e,kT(o),t.transformTemplate,t.style),{...r.attrs,style:{...r.style}}},[e]);if(t.style){const r={};MT(r,t.style,t),a.style={...r,...a.style}}return a}const YA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $f(t){return typeof t!="string"||t.includes("-")?!1:!!(YA.indexOf(t)>-1||/[A-Z]/u.test(t))}function KA(t,e,i,{latestValues:o},a,r=!1){const f=($f(t)?FA:GA)(e,o,a,t),g=DA(e,typeof t=="string",r),h=t!==k.Fragment?{...g,...f,ref:i}:{},{children:x}=e,T=k.useMemo(()=>bt(x)?x.get():x,[x]);return k.createElement(t,{...h,children:T})}function Kg(t){const e=[{},{}];return t==null||t.values.forEach((i,o)=>{e[0][o]=i.get(),e[1][o]=i.getVelocity()}),e}function Xf(t,e,i,o){if(typeof e=="function"){const[a,r]=Kg(o);e=e(i!==void 0?i:t.custom,a,r)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,r]=Kg(o);e=e(i!==void 0?i:t.custom,a,r)}return e}function vr(t){return bt(t)?t.get():t}function JA({scrapeMotionValuesFromProps:t,createRenderState:e},i,o,a){return{latestValues:$A(i,o,a,t),renderState:e()}}function $A(t,e,i,o){const a={},r=o(t,{});for(const S in r)a[S]=vr(r[S]);let{initial:c,animate:f}=t;const g=Gr(t),h=RT(t);e&&h&&!g&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let x=i?i.initial===!1:!1;x=x||c===!1;const T=x?f:c;if(T&&typeof T!="boolean"&&!zr(T)){const S=Array.isArray(T)?T:[T];for(let b=0;b<S.length;b++){const _=Xf(t,S[b]);if(_){const{transitionEnd:N,transition:A,...w}=_;for(const U in w){let D=w[U];if(Array.isArray(D)){const G=x?D.length-1:0;D=D[G]}D!==null&&(a[U]=D)}for(const U in N)a[U]=N[U]}}}return a}const LT=t=>(e,i)=>{const o=k.useContext(Hr),a=k.useContext(Vr),r=()=>JA(t,e,o,a);return i?r():Ui(r)};function Qf(t,e,i){var r;const{style:o}=t,a={};for(const c in o)(bt(o[c])||e.style&&bt(e.style[c])||wT(c,t)||((r=i==null?void 0:i.getValue(c))==null?void 0:r.liveStyle)!==void 0)&&(a[c]=o[c]);return a}const XA=LT({scrapeMotionValuesFromProps:Qf,createRenderState:Jf});function UT(t,e,i){const o=Qf(t,e,i);for(const a in t)if(bt(t[a])||bt(e[a])){const r=xo.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;o[r]=t[a]}return o}const QA=LT({scrapeMotionValuesFromProps:UT,createRenderState:DT}),WA=Symbol.for("motionComponentSymbol");function so(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ZA(t,e,i){return k.useCallback(o=>{o&&t.onMount&&t.onMount(o),e&&(o?e.mount(o):e.unmount()),i&&(typeof i=="function"?i(o):so(i)&&(i.current=o))},[e])}const Wf=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),eR="framerAppearId",PT="data-"+Wf(eR),VT=k.createContext({});function tR(t,e,i,o,a){var N,A;const{visualElement:r}=k.useContext(Hr),c=k.useContext(NT),f=k.useContext(Vr),g=k.useContext(Br).reducedMotion,h=k.useRef(null);o=o||c.renderer,!h.current&&o&&(h.current=o(t,{visualState:e,parent:r,props:i,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:g}));const x=h.current,T=k.useContext(VT);x&&!x.projection&&a&&(x.type==="html"||x.type==="svg")&&nR(h.current,i,a,T);const S=k.useRef(!1);k.useInsertionEffect(()=>{x&&S.current&&x.update(i,f)});const b=i[PT],_=k.useRef(!!b&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,b))&&((A=window.MotionHasOptimisedAnimation)==null?void 0:A.call(window,b)));return Cf(()=>{x&&(S.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),_.current&&x.animationState&&x.animationState.animateChanges())}),k.useEffect(()=>{x&&(!_.current&&x.animationState&&x.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,b)}),_.current=!1),x.enteringChildren=void 0)}),x}function nR(t,e,i,o){const{layoutId:a,layout:r,drag:c,dragConstraints:f,layoutScroll:g,layoutRoot:h,layoutCrossfade:x}=e;t.projection=new i(t.latestValues,e["data-framer-portal-id"]?void 0:BT(t.parent)),t.projection.setOptions({layoutId:a,layout:r,alwaysMeasureLayout:!!c||f&&so(f),visualElement:t,animationType:typeof r=="string"?r:"both",initialPromotionConfig:o,crossfade:x,layoutScroll:g,layoutRoot:h})}function BT(t){if(t)return t.options.allowProjection!==!1?t.projection:BT(t.parent)}function Ed(t,{forwardMotionProps:e=!1}={},i,o){i&&wA(i);const a=$f(t)?QA:XA;function r(f,g){let h;const x={...k.useContext(Br),...f,layoutId:iR(f)},{isStatic:T}=x,S=LA(f),b=a(f,T);if(!T&&bf){sR();const _=oR(x);h=_.MeasureLayout,S.visualElement=tR(t,b,x,o,_.ProjectionNode)}return p.jsxs(Hr.Provider,{value:S,children:[h&&S.visualElement?p.jsx(h,{visualElement:S.visualElement,...x}):null,KA(t,f,ZA(b,S.visualElement,g),b,T,e)]})}r.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=k.forwardRef(r);return c[WA]=t,c}function iR({layoutId:t}){const e=k.useContext(Ef).id;return e&&t!==void 0?e+"-"+t:t}function sR(t,e){k.useContext(NT).strict}function oR(t){const{drag:e,layout:i}=mo;if(!e&&!i)return{};const o={...e,...i};return{MeasureLayout:e!=null&&e.isEnabled(t)||i!=null&&i.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function lR(t,e){if(typeof Proxy>"u")return Ed;const i=new Map,o=(r,c)=>Ed(r,c,t,e),a=(r,c)=>o(r,c);return new Proxy(a,{get:(r,c)=>c==="create"?o:(i.has(c)||i.set(c,Ed(c,void 0,t,e)),i.get(c))})}function HT({top:t,left:e,right:i,bottom:o}){return{x:{min:e,max:i},y:{min:t,max:o}}}function aR({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function rR(t,e){if(!e)return t;const i=e({x:t.left,y:t.top}),o=e({x:t.right,y:t.bottom});return{top:i.y,left:i.x,bottom:o.y,right:o.x}}function bd(t){return t===void 0||t===1}function Qd({scale:t,scaleX:e,scaleY:i}){return!bd(t)||!bd(e)||!bd(i)}function ss(t){return Qd(t)||zT(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function zT(t){return Jg(t.x)||Jg(t.y)}function Jg(t){return t&&t!=="0%"}function Rr(t,e,i){const o=t-i,a=e*o;return i+a}function $g(t,e,i,o,a){return a!==void 0&&(t=Rr(t,a,o)),Rr(t,i,o)+e}function Wd(t,e=0,i=1,o,a){t.min=$g(t.min,e,i,o,a),t.max=$g(t.max,e,i,o,a)}function GT(t,{x:e,y:i}){Wd(t.x,e.translate,e.scale,e.originPoint),Wd(t.y,i.translate,i.scale,i.originPoint)}const Xg=.999999999999,Qg=1.0000000000001;function uR(t,e,i,o=!1){const a=i.length;if(!a)return;e.x=e.y=1;let r,c;for(let f=0;f<a;f++){r=i[f],c=r.projectionDelta;const{visualElement:g}=r.options;g&&g.props.style&&g.props.style.display==="contents"||(o&&r.options.layoutScroll&&r.scroll&&r!==r.root&&lo(t,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,GT(t,c)),o&&ss(r.latestValues)&&lo(t,r.latestValues))}e.x<Qg&&e.x>Xg&&(e.x=1),e.y<Qg&&e.y>Xg&&(e.y=1)}function oo(t,e){t.min=t.min+e,t.max=t.max+e}function Wg(t,e,i,o,a=.5){const r=Xe(t.min,t.max,a);Wd(t,e,i,r,o)}function lo(t,e){Wg(t.x,e.x,e.scaleX,e.scale,e.originX),Wg(t.y,e.y,e.scaleY,e.scale,e.originY)}function OT(t,e){return HT(rR(t.getBoundingClientRect(),e))}function cR(t,e,i){const o=OT(t,i),{scroll:a}=e;return a&&(oo(o.x,a.offset.x),oo(o.y,a.offset.y)),o}const Zg=()=>({translate:0,scale:1,origin:0,originPoint:0}),ao=()=>({x:Zg(),y:Zg()}),ey=()=>({min:0,max:0}),pt=()=>({x:ey(),y:ey()}),Zd={current:null},jT={current:!1};function dR(){if(jT.current=!0,!!bf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Zd.current=t.matches;t.addEventListener("change",e),e()}else Zd.current=!1}const fR=new WeakMap;function pR(t,e,i){for(const o in e){const a=e[o],r=i[o];if(bt(a))t.addValue(o,a);else if(bt(r))t.addValue(o,fs(a,{owner:t}));else if(r!==a)if(t.hasValue(o)){const c=t.getValue(o);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(o);t.addValue(o,fs(c!==void 0?c:a,{owner:t}))}}for(const o in i)e[o]===void 0&&t.removeValue(o);return e}const ty=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class hR{scrapeMotionValuesFromProps(e,i,o){return{}}constructor({parent:e,props:i,presenceContext:o,reducedMotionConfig:a,blockInitialAnimation:r,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=zf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Ht.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,Je.render(this.render,!1,!0))};const{latestValues:g,renderState:h}=c;this.latestValues=g,this.baseTarget={...g},this.initialValues=i.initial?{...g}:{},this.renderState=h,this.parent=e,this.props=i,this.presenceContext=o,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!r,this.isControllingVariants=Gr(i),this.isVariantNode=RT(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:x,...T}=this.scrapeMotionValuesFromProps(i,{},this);for(const S in T){const b=T[S];g[S]!==void 0&&bt(b)&&b.set(g[S])}}mount(e){var i;this.current=e,fR.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((o,a)=>this.bindToMotionValue(a,o)),jT.current||dR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Zd.current,(i=this.parent)==null||i.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ii(this.notifyUpdate),ii(this.render),this.valueSubscriptions.forEach(i=>i()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const i in this.events)this.events[i].clear();for(const i in this.features){const o=this.features[i];o&&(o.unmount(),o.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,i){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const o=vo.has(e);o&&this.onBindTransform&&this.onBindTransform();const a=i.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Je.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,e,i)),this.valueSubscriptions.set(e,()=>{a(),r&&r(),i.owner&&i.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in mo){const i=mo[e];if(!i)continue;const{isEnabled:o,Feature:a}=i;if(!this.features[e]&&a&&o(this.props)&&(this.features[e]=new a(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,i){this.latestValues[e]=i}update(e,i){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let o=0;o<ty.length;o++){const a=ty[o];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const r="on"+a,c=e[r];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=pR(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(e),()=>i.variantChildren.delete(e)}addValue(e,i){const o=this.values.get(e);i!==o&&(o&&this.removeValue(e),this.bindToMotionValue(e,i),this.values.set(e,i),this.latestValues[e]=i.get())}removeValue(e){this.values.delete(e);const i=this.valueSubscriptions.get(e);i&&(i(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,i){if(this.props.values&&this.props.values[e])return this.props.values[e];let o=this.values.get(e);return o===void 0&&i!==void 0&&(o=fs(i===null?void 0:i,{owner:this}),this.addValue(e,o)),o}readValue(e,i){let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(kv(o)||Uv(o))?o=parseFloat(o):!EA(o)&&Li.test(i)&&(o=xT(e,i)),this.setBaseTarget(e,bt(o)?o.get():o)),bt(o)?o.get():o}setBaseTarget(e,i){this.baseTarget[e]=i}getBaseTarget(e){var r;const{initial:i}=this.props;let o;if(typeof i=="string"||typeof i=="object"){const c=Xf(this.props,i,(r=this.presenceContext)==null?void 0:r.custom);c&&(o=c[e])}if(i&&o!==void 0)return o;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!bt(a)?a:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,i){return this.events[e]||(this.events[e]=new wf),this.events[e].add(i)}notify(e,...i){this.events[e]&&this.events[e].notify(...i)}scheduleRenderMicrotask(){jf.render(this.render)}}class qT extends hR{constructor(){super(...arguments),this.KeyframeResolver=uA}sortInstanceNodePosition(e,i){return e.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(e,i){return e.style?e.style[i]:void 0}removeValueFromRenderState(e,{vars:i,style:o}){delete i[e],delete o[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;bt(e)&&(this.childSubscription=e.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function FT(t,{style:e,vars:i},o,a){const r=t.style;let c;for(c in e)r[c]=e[c];a==null||a.applyProjectionStyles(r,o);for(c in i)r.setProperty(c,i[c])}function mR(t){return window.getComputedStyle(t)}class gR extends qT{constructor(){super(...arguments),this.type="html",this.renderInstance=FT}readValueFromInstance(e,i){var o;if(vo.has(i))return(o=this.projection)!=null&&o.isProjecting?jd(i):RN(e,i);{const a=mR(e),r=($v(i)?a.getPropertyValue(i):a[i])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:i}){return OT(e,i)}build(e,i,o){Kf(e,i,o.transformTemplate)}scrapeMotionValuesFromProps(e,i,o){return Qf(e,i,o)}}const YT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function yR(t,e,i,o){FT(t,e,void 0,o);for(const a in e.attrs)t.setAttribute(YT.has(a)?a:Wf(a),e.attrs[a])}class xR extends qT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pt}getBaseTargetFromProps(e,i){return e[i]}readValueFromInstance(e,i){if(vo.has(i)){const o=yT(i);return o&&o.default||0}return i=YT.has(i)?i:Wf(i),e.getAttribute(i)}scrapeMotionValuesFromProps(e,i,o){return UT(e,i,o)}build(e,i,o){IT(e,i,this.isSVGTag,o.transformTemplate,o.style)}renderInstance(e,i,o,a){yR(e,i,o,a)}mount(e){this.isSVGTag=kT(e.tagName),super.mount(e)}}const vR=(t,e)=>$f(t)?new xR(e):new gR(e,{allowProjection:t!==k.Fragment});function co(t,e,i){const o=t.getProps();return Xf(o,e,i!==void 0?i:o.custom,t)}const ef=t=>Array.isArray(t);function TR(t,e,i){t.hasValue(e)?t.getValue(e).set(i):t.addValue(e,fs(i))}function SR(t){return ef(t)?t[t.length-1]||0:t}function ER(t,e){const i=co(t,e);let{transitionEnd:o={},transition:a={},...r}=i||{};r={...r,...o};for(const c in r){const f=SR(r[c]);TR(t,c,f)}}function bR(t){return!!(bt(t)&&t.add)}function tf(t,e){const i=t.getValue("willChange");if(bR(i))return i.add(e);if(!i&&ni.WillChange){const o=new ni.WillChange("auto");t.addValue("willChange",o),o.add(e)}}function KT(t){return t.props[PT]}const CR=t=>t!==null;function _R(t,{repeat:e,repeatType:i="loop"},o){const a=t.filter(CR),r=e&&i!=="loop"&&e%2===1?0:a.length-1;return a[r]}const NR={type:"spring",stiffness:500,damping:25,restSpeed:10},AR=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),RR={type:"keyframes",duration:.8},wR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},MR=(t,{keyframes:e})=>e.length>2?RR:vo.has(t)?t.startsWith("scale")?AR(e[1]):NR:wR;function IR({when:t,delay:e,delayChildren:i,staggerChildren:o,staggerDirection:a,repeat:r,repeatType:c,repeatDelay:f,from:g,elapsed:h,...x}){return!!Object.keys(x).length}const Zf=(t,e,i,o={},a,r)=>c=>{const f=Gf(o,t)||{},g=f.delay||o.delay||0;let{elapsed:h=0}=o;h=h-Mn(g);const x={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-h,onUpdate:S=>{e.set(S),f.onUpdate&&f.onUpdate(S)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:r?void 0:a};IR(f)||Object.assign(x,MR(t,x)),x.duration&&(x.duration=Mn(x.duration)),x.repeatDelay&&(x.repeatDelay=Mn(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let T=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(Jd(x),x.delay===0&&(T=!0)),(ni.instantAnimations||ni.skipAnimations)&&(T=!0,Jd(x),x.delay=0),x.allowFlatten=!f.type&&!f.ease,T&&!r&&e.get()!==void 0){const S=_R(x.keyframes,f);if(S!==void 0){Je.update(()=>{x.onUpdate(S),x.onComplete()});return}}return f.isSync?new Hf(x):new QN(x)};function DR({protectedKeys:t,needsAnimating:e},i){const o=t.hasOwnProperty(i)&&e[i]!==!0;return e[i]=!1,o}function JT(t,e,{delay:i=0,transitionOverride:o,type:a}={}){let{transition:r=t.getDefaultTransition(),transitionEnd:c,...f}=e;o&&(r=o);const g=[],h=a&&t.animationState&&t.animationState.getState()[a];for(const x in f){const T=t.getValue(x,t.latestValues[x]??null),S=f[x];if(S===void 0||h&&DR(h,x))continue;const b={delay:i,...Gf(r||{},x)},_=T.get();if(_!==void 0&&!T.isAnimating&&!Array.isArray(S)&&S===_&&!b.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const w=KT(t);if(w){const U=window.MotionHandoffAnimation(w,x,Je);U!==null&&(b.startTime=U,N=!0)}}tf(t,x),T.start(Zf(x,T,S,t.shouldReduceMotion&&hT.has(x)?{type:!1}:b,t,N));const A=T.animation;A&&g.push(A)}return c&&Promise.all(g).then(()=>{Je.update(()=>{c&&ER(t,c)})}),g}function $T(t,e,i,o=0,a=1){const r=Array.from(t).sort((h,x)=>h.sortNodePosition(x)).indexOf(e),c=t.size,f=(c-1)*o;return typeof i=="function"?i(r,c):a===1?r*o:f-r*o}function nf(t,e,i={}){var g;const o=co(t,e,i.type==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=o||{};i.transitionOverride&&(a=i.transitionOverride);const r=o?()=>Promise.all(JT(t,o,i)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:x=0,staggerChildren:T,staggerDirection:S}=a;return kR(t,e,h,x,T,S,i)}:()=>Promise.resolve(),{when:f}=a;if(f){const[h,x]=f==="beforeChildren"?[r,c]:[c,r];return h().then(()=>x())}else return Promise.all([r(),c(i.delay)])}function kR(t,e,i=0,o=0,a=0,r=1,c){const f=[];for(const g of t.variantChildren)g.notify("AnimationStart",e),f.push(nf(g,e,{...c,delay:i+(typeof o=="function"?0:o)+$T(t.variantChildren,g,o,a,r)}).then(()=>g.notify("AnimationComplete",e)));return Promise.all(f)}function LR(t,e,i={}){t.notify("AnimationStart",e);let o;if(Array.isArray(e)){const a=e.map(r=>nf(t,r,i));o=Promise.all(a)}else if(typeof e=="string")o=nf(t,e,i);else{const a=typeof e=="function"?co(t,e,i.custom):e;o=Promise.all(JT(t,a,i))}return o.then(()=>{t.notify("AnimationComplete",e)})}function XT(t,e){if(!Array.isArray(e))return!1;const i=e.length;if(i!==t.length)return!1;for(let o=0;o<i;o++)if(e[o]!==t[o])return!1;return!0}const UR=Yf.length;function QT(t){if(!t)return;if(!t.isControllingVariants){const i=t.parent?QT(t.parent)||{}:{};return t.props.initial!==void 0&&(i.initial=t.props.initial),i}const e={};for(let i=0;i<UR;i++){const o=Yf[i],a=t.props[o];(kl(a)||a===!1)&&(e[o]=a)}return e}const PR=[...Ff].reverse(),VR=Ff.length;function BR(t){return e=>Promise.all(e.map(({animation:i,options:o})=>LR(t,i,o)))}function HR(t){let e=BR(t),i=ny(),o=!0;const a=g=>(h,x)=>{var S;const T=co(t,x,g==="exit"?(S=t.presenceContext)==null?void 0:S.custom:void 0);if(T){const{transition:b,transitionEnd:_,...N}=T;h={...h,...N,..._}}return h};function r(g){e=g(t)}function c(g){const{props:h}=t,x=QT(t.parent)||{},T=[],S=new Set;let b={},_=1/0;for(let A=0;A<VR;A++){const w=PR[A],U=i[w],D=h[w]!==void 0?h[w]:x[w],G=kl(D),Y=w===g?U.isActive:null;Y===!1&&(_=A);let X=D===x[w]&&D!==h[w]&&G;if(X&&o&&t.manuallyAnimateOnMount&&(X=!1),U.protectedKeys={...b},!U.isActive&&Y===null||!D&&!U.prevProp||zr(D)||typeof D=="boolean")continue;const O=zR(U.prevProp,D);let j=O||w===g&&U.isActive&&!X&&G||A>_&&G,q=!1;const W=Array.isArray(D)?D:[D];let le=W.reduce(a(w),{});Y===!1&&(le={});const{prevResolvedValues:de={}}=U,ge={...de,...le},Pe=Q=>{j=!0,S.has(Q)&&(q=!0,S.delete(Q)),U.needsAnimating[Q]=!0;const ne=t.getValue(Q);ne&&(ne.liveStyle=!1)};for(const Q in ge){const ne=le[Q],he=de[Q];if(b.hasOwnProperty(Q))continue;let Ce=!1;ef(ne)&&ef(he)?Ce=!XT(ne,he):Ce=ne!==he,Ce?ne!=null?Pe(Q):S.add(Q):ne!==void 0&&S.has(Q)?Pe(Q):U.protectedKeys[Q]=!0}U.prevProp=D,U.prevResolvedValues=le,U.isActive&&(b={...b,...le}),o&&t.blockInitialAnimation&&(j=!1);const Oe=X&&O;j&&(!Oe||q)&&T.push(...W.map(Q=>{const ne={type:w};if(typeof Q=="string"&&o&&!Oe&&t.manuallyAnimateOnMount&&t.parent){const{parent:he}=t,Ce=co(he,Q);if(he.enteringChildren&&Ce){const{delayChildren:I}=Ce.transition||{};ne.delay=$T(he.enteringChildren,t,I)}}return{animation:Q,options:ne}}))}if(S.size){const A={};if(typeof h.initial!="boolean"){const w=co(t,Array.isArray(h.initial)?h.initial[0]:h.initial);w&&w.transition&&(A.transition=w.transition)}S.forEach(w=>{const U=t.getBaseTarget(w),D=t.getValue(w);D&&(D.liveStyle=!0),A[w]=U??null}),T.push({animation:A})}let N=!!T.length;return o&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(N=!1),o=!1,N?e(T):Promise.resolve()}function f(g,h){var T;if(i[g].isActive===h)return Promise.resolve();(T=t.variantChildren)==null||T.forEach(S=>{var b;return(b=S.animationState)==null?void 0:b.setActive(g,h)}),i[g].isActive=h;const x=c(g);for(const S in i)i[S].protectedKeys={};return x}return{animateChanges:c,setActive:f,setAnimateFunction:r,getState:()=>i,reset:()=>{i=ny()}}}function zR(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!XT(e,t):!1}function is(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ny(){return{animate:is(!0),whileInView:is(),whileHover:is(),whileTap:is(),whileDrag:is(),whileFocus:is(),exit:is()}}class Pi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class GR extends Pi{constructor(e){super(e),e.animationState||(e.animationState=HR(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();zr(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:i}=this.node.prevProps||{};e!==i&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let OR=0;class jR extends Pi{constructor(){super(...arguments),this.id=OR++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:i}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===o)return;const a=this.node.animationState.setActive("exit",!e);i&&!e&&a.then(()=>{i(this.id)})}mount(){const{register:e,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const qR={animation:{Feature:GR},exit:{Feature:jR}};function Ll(t,e,i,o={passive:!0}){return t.addEventListener(e,i,o),()=>t.removeEventListener(e,i)}function zl(t){return{point:{x:t.pageX,y:t.pageY}}}const FR=t=>e=>qf(e)&&t(e,zl(e));function Al(t,e,i,o){return Ll(t,e,FR(i),o)}const WT=1e-4,YR=1-WT,KR=1+WT,ZT=.01,JR=0-ZT,$R=0+ZT;function Mt(t){return t.max-t.min}function XR(t,e,i){return Math.abs(t-e)<=i}function iy(t,e,i,o=.5){t.origin=o,t.originPoint=Xe(e.min,e.max,t.origin),t.scale=Mt(i)/Mt(e),t.translate=Xe(i.min,i.max,t.origin)-t.originPoint,(t.scale>=YR&&t.scale<=KR||isNaN(t.scale))&&(t.scale=1),(t.translate>=JR&&t.translate<=$R||isNaN(t.translate))&&(t.translate=0)}function Rl(t,e,i,o){iy(t.x,e.x,i.x,o?o.originX:void 0),iy(t.y,e.y,i.y,o?o.originY:void 0)}function sy(t,e,i){t.min=i.min+e.min,t.max=t.min+Mt(e)}function QR(t,e,i){sy(t.x,e.x,i.x),sy(t.y,e.y,i.y)}function oy(t,e,i){t.min=e.min-i.min,t.max=t.min+Mt(e)}function wr(t,e,i){oy(t.x,e.x,i.x),oy(t.y,e.y,i.y)}function an(t){return[t("x"),t("y")]}const e1=({current:t})=>t?t.ownerDocument.defaultView:null,ly=(t,e)=>Math.abs(t-e);function WR(t,e){const i=ly(t.x,e.x),o=ly(t.y,e.y);return Math.sqrt(i**2+o**2)}class t1{constructor(e,i,{transformPagePoint:o,contextWindow:a=window,dragSnapToOrigin:r=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=_d(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,_=WR(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!_)return;const{point:N}=S,{timestamp:A}=Et;this.history.push({...N,timestamp:A});const{onStart:w,onMove:U}=this.handlers;b||(w&&w(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),U&&U(this.lastMoveEvent,S)},this.handlePointerMove=(S,b)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=Cd(b,this.transformPagePoint),Je.update(this.updatePoint,!0)},this.handlePointerUp=(S,b)=>{this.end();const{onEnd:_,onSessionEnd:N,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=_d(S.type==="pointercancel"?this.lastMoveEventInfo:Cd(b,this.transformPagePoint),this.history);this.startEvent&&_&&_(S,w),N&&N(S,w)},!qf(e))return;this.dragSnapToOrigin=r,this.handlers=i,this.transformPagePoint=o,this.distanceThreshold=c,this.contextWindow=a||window;const f=zl(e),g=Cd(f,this.transformPagePoint),{point:h}=g,{timestamp:x}=Et;this.history=[{...h,timestamp:x}];const{onSessionStart:T}=i;T&&T(e,_d(g,this.history)),this.removeListeners=Vl(Al(this.contextWindow,"pointermove",this.handlePointerMove),Al(this.contextWindow,"pointerup",this.handlePointerUp),Al(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ii(this.updatePoint)}}function Cd(t,e){return e?{point:e(t.point)}:t}function ay(t,e){return{x:t.x-e.x,y:t.y-e.y}}function _d({point:t},e){return{point:t,delta:ay(t,n1(e)),offset:ay(t,ZR(e)),velocity:e2(e,.1)}}function ZR(t){return t[0]}function n1(t){return t[t.length-1]}function e2(t,e){if(t.length<2)return{x:0,y:0};let i=t.length-1,o=null;const a=n1(t);for(;i>=0&&(o=t[i],!(a.timestamp-o.timestamp>Mn(e)));)i--;if(!o)return{x:0,y:0};const r=rn(a.timestamp-o.timestamp);if(r===0)return{x:0,y:0};const c={x:(a.x-o.x)/r,y:(a.y-o.y)/r};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function t2(t,{min:e,max:i},o){return e!==void 0&&t<e?t=o?Xe(e,t,o.min):Math.max(t,e):i!==void 0&&t>i&&(t=o?Xe(i,t,o.max):Math.min(t,i)),t}function ry(t,e,i){return{min:e!==void 0?t.min+e:void 0,max:i!==void 0?t.max+i-(t.max-t.min):void 0}}function n2(t,{top:e,left:i,bottom:o,right:a}){return{x:ry(t.x,i,a),y:ry(t.y,e,o)}}function uy(t,e){let i=e.min-t.min,o=e.max-t.max;return e.max-e.min<t.max-t.min&&([i,o]=[o,i]),{min:i,max:o}}function i2(t,e){return{x:uy(t.x,e.x),y:uy(t.y,e.y)}}function s2(t,e){let i=.5;const o=Mt(t),a=Mt(e);return a>o?i=Ml(e.min,e.max-o,t.min):o>a&&(i=Ml(t.min,t.max-a,e.min)),ti(0,1,i)}function o2(t,e){const i={};return e.min!==void 0&&(i.min=e.min-t.min),e.max!==void 0&&(i.max=e.max-t.min),i}const sf=.35;function l2(t=sf){return t===!1?t=0:t===!0&&(t=sf),{x:cy(t,"left","right"),y:cy(t,"top","bottom")}}function cy(t,e,i){return{min:dy(t,e),max:dy(t,i)}}function dy(t,e){return typeof t=="number"?t:t[e]||0}const a2=new WeakMap;class r2{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:i=!1,distanceThreshold:o}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const r=T=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(zl(T).point)},c=(T,S)=>{const{drag:b,dragPropagation:_,onDragStart:N}=this.getProps();if(b&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=pA(b),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),an(w=>{let U=this.getAxisMotionValue(w).get()||0;if(In.test(U)){const{projection:D}=this.visualElement;if(D&&D.layout){const G=D.layout.layoutBox[w];G&&(U=Mt(G)*(parseFloat(U)/100))}}this.originPoint[w]=U}),N&&Je.postRender(()=>N(T,S)),tf(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},f=(T,S)=>{this.latestPointerEvent=T,this.latestPanInfo=S;const{dragPropagation:b,dragDirectionLock:_,onDirectionLock:N,onDrag:A}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:w}=S;if(_&&this.currentDirection===null){this.currentDirection=u2(w),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",S.point,w),this.updateAxis("y",S.point,w),this.visualElement.render(),A&&A(T,S)},g=(T,S)=>{this.latestPointerEvent=T,this.latestPanInfo=S,this.stop(T,S),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>an(T=>{var S;return this.getAnimationState(T)==="paused"&&((S=this.getAxisMotionValue(T).animation)==null?void 0:S.play())}),{dragSnapToOrigin:x}=this.getProps();this.panSession=new t1(e,{onSessionStart:r,onStart:c,onMove:f,onSessionEnd:g,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:x,distanceThreshold:o,contextWindow:e1(this.visualElement)})}stop(e,i){const o=e||this.latestPointerEvent,a=i||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!a||!o)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&Je.postRender(()=>f(o,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:i}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(e,i,o){const{drag:a}=this.getProps();if(!o||!ar(e,a,this.currentDirection))return;const r=this.getAxisMotionValue(e);let c=this.originPoint[e]+o[e];this.constraints&&this.constraints[e]&&(c=t2(c,this.constraints[e],this.elastic[e])),r.set(c)}resolveConstraints(){var r;const{dragConstraints:e,dragElastic:i}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)==null?void 0:r.layout,a=this.constraints;e&&so(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&o?this.constraints=n2(o.layoutBox,e):this.constraints=!1,this.elastic=l2(i),a!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&an(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=o2(o.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:i}=this.getProps();if(!e||!so(e))return!1;const o=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const r=cR(o,a.root,this.visualElement.getTransformPagePoint());let c=i2(a.layout.layoutBox,r);if(i){const f=i(aR(c));this.hasMutatedConstraints=!!f,f&&(c=HT(f))}return c}startAnimation(e){const{drag:i,dragMomentum:o,dragElastic:a,dragTransition:r,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),g=this.constraints||{},h=an(x=>{if(!ar(x,i,this.currentDirection))return;let T=g&&g[x]||{};c&&(T={min:0,max:0});const S=a?200:1e6,b=a?40:1e7,_={type:"inertia",velocity:o?e[x]:0,bounceStiffness:S,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...r,...T};return this.startAxisValueAnimation(x,_)});return Promise.all(h).then(f)}startAxisValueAnimation(e,i){const o=this.getAxisMotionValue(e);return tf(this.visualElement,e),o.start(Zf(e,o,0,i,this.visualElement,!1))}stopAnimation(){an(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){an(e=>{var i;return(i=this.getAxisMotionValue(e).animation)==null?void 0:i.pause()})}getAnimationState(e){var i;return(i=this.getAxisMotionValue(e).animation)==null?void 0:i.state}getAxisMotionValue(e){const i=`_drag${e.toUpperCase()}`,o=this.visualElement.getProps(),a=o[i];return a||this.visualElement.getValue(e,(o.initial?o.initial[e]:void 0)||0)}snapToCursor(e){an(i=>{const{drag:o}=this.getProps();if(!ar(i,o,this.currentDirection))return;const{projection:a}=this.visualElement,r=this.getAxisMotionValue(i);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[i];r.set(e[i]-Xe(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:i}=this.getProps(),{projection:o}=this.visualElement;if(!so(i)||!o||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};an(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const g=f.get();a[c]=s2({min:g,max:g},this.constraints[c])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),an(c=>{if(!ar(c,e,null))return;const f=this.getAxisMotionValue(c),{min:g,max:h}=this.constraints[c];f.set(Xe(g,h,a[c]))})}addListeners(){if(!this.visualElement.current)return;a2.set(this.visualElement,this);const e=this.visualElement.current,i=Al(e,"pointerdown",g=>{const{drag:h,dragListener:x=!0}=this.getProps();h&&x&&this.start(g)}),o=()=>{const{dragConstraints:g}=this.getProps();so(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,r=a.addEventListener("measure",o);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Je.read(o);const c=Ll(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:h})=>{this.isDragging&&h&&(an(x=>{const T=this.getAxisMotionValue(x);T&&(this.originPoint[x]+=g[x].translate,T.set(T.get()+g[x].translate))}),this.visualElement.render())}));return()=>{c(),i(),r(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:o=!1,dragPropagation:a=!1,dragConstraints:r=!1,dragElastic:c=sf,dragMomentum:f=!0}=e;return{...e,drag:i,dragDirectionLock:o,dragPropagation:a,dragConstraints:r,dragElastic:c,dragMomentum:f}}}function ar(t,e,i){return(e===!0||e===t)&&(i===null||i===t)}function u2(t,e=10){let i=null;return Math.abs(t.y)>e?i="y":Math.abs(t.x)>e&&(i="x"),i}class c2 extends Pi{constructor(e){super(e),this.removeGroupControls=cn,this.removeListeners=cn,this.controls=new r2(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||cn}unmount(){this.removeGroupControls(),this.removeListeners()}}const fy=t=>(e,i)=>{t&&Je.postRender(()=>t(e,i))};class d2 extends Pi{constructor(){super(...arguments),this.removePointerDownListener=cn}onPointerDown(e){this.session=new t1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:e1(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:i,onPan:o,onPanEnd:a}=this.node.getProps();return{onSessionStart:fy(e),onStart:fy(i),onMove:o,onEnd:(r,c)=>{delete this.session,a&&Je.postRender(()=>a(r,c))}}}mount(){this.removePointerDownListener=Al(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Tr={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Nd=!1;class f2 extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:o,layoutId:a}=this.props,{projection:r}=e;r&&(i.group&&i.group.add(r),o&&o.register&&a&&o.register(r),Nd&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),Tr.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:i,visualElement:o,drag:a,isPresent:r}=this.props,{projection:c}=o;return c&&(c.isPresent=r,Nd=!0,a||e.layoutDependency!==i||i===void 0||e.isPresent!==r?c.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?c.promote():c.relegate()||Je.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),jf.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:o}=this.props,{projection:a}=e;Nd=!0,a&&(a.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(a),o&&o.deregister&&o.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function i1(t){const[e,i]=_T(),o=k.useContext(Ef);return p.jsx(f2,{...t,layoutGroup:o,switchLayoutGroup:k.useContext(VT),isPresent:e,safeToRemove:i})}function p2(t,e,i){const o=bt(t)?t:fs(t);return o.start(Zf("",o,e,i)),o.animation}const h2=(t,e)=>t.depth-e.depth;class m2{constructor(){this.children=[],this.isDirty=!1}add(e){_f(this.children,e),this.isDirty=!0}remove(e){Nf(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(h2),this.isDirty=!1,this.children.forEach(e)}}function g2(t,e){const i=Ht.now(),o=({timestamp:a})=>{const r=a-i;r>=e&&(ii(o),t(r-e))};return Je.setup(o,!0),()=>ii(o)}const s1=["TopLeft","TopRight","BottomLeft","BottomRight"],y2=s1.length,py=t=>typeof t=="string"?parseFloat(t):t,hy=t=>typeof t=="number"||ce.test(t);function x2(t,e,i,o,a,r){a?(t.opacity=Xe(0,i.opacity??1,v2(o)),t.opacityExit=Xe(e.opacity??1,0,T2(o))):r&&(t.opacity=Xe(e.opacity??1,i.opacity??1,o));for(let c=0;c<y2;c++){const f=`border${s1[c]}Radius`;let g=my(e,f),h=my(i,f);if(g===void 0&&h===void 0)continue;g||(g=0),h||(h=0),g===0||h===0||hy(g)===hy(h)?(t[f]=Math.max(Xe(py(g),py(h),o),0),(In.test(h)||In.test(g))&&(t[f]+="%")):t[f]=h}(e.rotate||i.rotate)&&(t.rotate=Xe(e.rotate||0,i.rotate||0,o))}function my(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const v2=o1(0,.5,jv),T2=o1(.5,.95,cn);function o1(t,e,i){return o=>o<t?0:o>e?1:i(Ml(t,e,o))}function gy(t,e){t.min=e.min,t.max=e.max}function xn(t,e){gy(t.x,e.x),gy(t.y,e.y)}function yy(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function xy(t,e,i,o,a){return t-=e,t=Rr(t,1/i,o),a!==void 0&&(t=Rr(t,1/a,o)),t}function S2(t,e=0,i=1,o=.5,a,r=t,c=t){if(In.test(e)&&(e=parseFloat(e),e=Xe(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=Xe(r.min,r.max,o);t===r&&(f-=e),t.min=xy(t.min,e,i,f,a),t.max=xy(t.max,e,i,f,a)}function vy(t,e,[i,o,a],r,c){S2(t,e[i],e[o],e[a],e.scale,r,c)}const E2=["x","scaleX","originX"],b2=["y","scaleY","originY"];function Ty(t,e,i,o){vy(t.x,e,E2,i?i.x:void 0,o?o.x:void 0),vy(t.y,e,b2,i?i.y:void 0,o?o.y:void 0)}function Sy(t){return t.translate===0&&t.scale===1}function l1(t){return Sy(t.x)&&Sy(t.y)}function Ey(t,e){return t.min===e.min&&t.max===e.max}function C2(t,e){return Ey(t.x,e.x)&&Ey(t.y,e.y)}function by(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function a1(t,e){return by(t.x,e.x)&&by(t.y,e.y)}function Cy(t){return Mt(t.x)/Mt(t.y)}function _y(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class _2{constructor(){this.members=[]}add(e){_f(this.members,e),e.scheduleRender()}remove(e){if(Nf(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(e){const i=this.members.findIndex(a=>e===a);if(i===0)return!1;let o;for(let a=i;a>=0;a--){const r=this.members[a];if(r.isPresent!==!1){o=r;break}}return o?(this.promote(o),!0):!1}promote(e,i){const o=this.lead;if(e!==o&&(this.prevLead=o,this.lead=e,e.show(),o)){o.instance&&o.scheduleRender(),e.scheduleRender(),e.resumeFrom=o,i&&(e.resumeFrom.preserveOpacity=!0),o.snapshot&&(e.snapshot=o.snapshot,e.snapshot.latestValues=o.animationValues||o.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:i,resumingFrom:o}=e;i.onExitComplete&&i.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function N2(t,e,i){let o="";const a=t.x.translate/e.x,r=t.y.translate/e.y,c=(i==null?void 0:i.z)||0;if((a||r||c)&&(o=`translate3d(${a}px, ${r}px, ${c}px) `),(e.x!==1||e.y!==1)&&(o+=`scale(${1/e.x}, ${1/e.y}) `),i){const{transformPerspective:h,rotate:x,rotateX:T,rotateY:S,skewX:b,skewY:_}=i;h&&(o=`perspective(${h}px) ${o}`),x&&(o+=`rotate(${x}deg) `),T&&(o+=`rotateX(${T}deg) `),S&&(o+=`rotateY(${S}deg) `),b&&(o+=`skewX(${b}deg) `),_&&(o+=`skewY(${_}deg) `)}const f=t.x.scale*e.x,g=t.y.scale*e.y;return(f!==1||g!==1)&&(o+=`scale(${f}, ${g})`),o||"none"}const Ad=["","X","Y","Z"],A2=1e3;let R2=0;function Rd(t,e,i,o){const{latestValues:a}=e;a[t]&&(i[t]=a[t],e.setStaticValue(t,0),o&&(o[t]=0))}function r1(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const i=KT(e);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:a,layoutId:r}=t.options;window.MotionCancelOptimisedAnimation(i,"transform",Je,!(a||r))}const{parent:o}=t;o&&!o.hasCheckedOptimisedAppear&&r1(o)}function u1({attachResizeListener:t,defaultParent:e,measureScroll:i,checkIsScrollRoot:o,resetTransform:a}){return class{constructor(c={},f=e==null?void 0:e()){this.id=R2++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(I2),this.nodes.forEach(U2),this.nodes.forEach(P2),this.nodes.forEach(D2)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new m2)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new wf),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const g=this.eventHandlers.get(c);g&&g.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=CT(c)&&!vA(c),this.instance=c;const{layoutId:f,layout:g,visualElement:h}=this.options;if(h&&!h.current&&h.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||f)&&(this.isLayoutDirty=!0),t){let x,T=0;const S=()=>this.root.updateBlockedByResize=!1;Je.read(()=>{T=window.innerWidth}),t(c,()=>{const b=window.innerWidth;b!==T&&(T=b,this.root.updateBlockedByResize=!0,x&&x(),x=g2(S,250),Tr.hasAnimatedSinceResize&&(Tr.hasAnimatedSinceResize=!1,this.nodes.forEach(Ry)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&h&&(f||g)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:T,hasRelativeLayoutChanged:S,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||h.getDefaultTransition()||G2,{onLayoutAnimationStart:N,onLayoutAnimationComplete:A}=h.getProps(),w=!this.targetLayout||!a1(this.targetLayout,b),U=!T&&S;if(this.options.layoutRoot||this.resumeFrom||U||T&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...Gf(_,"layout"),onPlay:N,onComplete:A};(h.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(x,U)}else T||Ry(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ii(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(V2),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&r1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const T=this.path[x];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:f,layout:g}=this.options;if(f===void 0&&!g)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ny);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ay);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(L2),this.nodes.forEach(w2),this.nodes.forEach(M2)):this.nodes.forEach(Ay),this.clearAllSnapshots();const f=Ht.now();Et.delta=ti(0,1e3/60,f-Et.timestamp),Et.timestamp=f,Et.isProcessing=!0,gd.update.process(Et),gd.preRender.process(Et),gd.render.process(Et),Et.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,jf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(k2),this.sharedNodes.forEach(B2)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Mt(this.snapshot.measuredBox.x)&&!Mt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const g=o(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:g,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!l1(this.projectionDelta),g=this.getTransformTemplate(),h=g?g(this.latestValues,""):void 0,x=h!==this.prevTransformTemplateValue;c&&this.instance&&(f||ss(this.latestValues)||x)&&(a(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let g=this.removeElementScroll(f);return c&&(g=this.removeTransform(g)),O2(g),{animationId:this.root.animationId,measuredBox:f,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:c}=this.options;if(!c)return pt();const f=c.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(j2))){const{scroll:x}=this.root;x&&(oo(f.x,x.offset.x),oo(f.y,x.offset.y))}return f}removeElementScroll(c){var g;const f=pt();if(xn(f,c),(g=this.scroll)!=null&&g.wasRoot)return f;for(let h=0;h<this.path.length;h++){const x=this.path[h],{scroll:T,options:S}=x;x!==this.root&&T&&S.layoutScroll&&(T.wasRoot&&xn(f,c),oo(f.x,T.offset.x),oo(f.y,T.offset.y))}return f}applyTransform(c,f=!1){const g=pt();xn(g,c);for(let h=0;h<this.path.length;h++){const x=this.path[h];!f&&x.options.layoutScroll&&x.scroll&&x!==x.root&&lo(g,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),ss(x.latestValues)&&lo(g,x.latestValues)}return ss(this.latestValues)&&lo(g,this.latestValues),g}removeTransform(c){const f=pt();xn(f,c);for(let g=0;g<this.path.length;g++){const h=this.path[g];if(!h.instance||!ss(h.latestValues))continue;Qd(h.latestValues)&&h.updateSnapshot();const x=pt(),T=h.measurePageBox();xn(x,T),Ty(f,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,x)}return ss(this.latestValues)&&Ty(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Et.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var b;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==f;if(!(c||g&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:T}=this.options;if(!this.layout||!(x||T))return;this.resolvedRelativeTargetAt=Et.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=pt(),this.targetWithTransforms=pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),QR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xn(this.target,this.layout.layoutBox),GT(this.target,this.targetDelta)):xn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Qd(this.parent.latestValues)||zT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,f,g){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),wr(this.relativeTargetOrigin,f,g),xn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var _;const c=this.getLead(),f=!!this.resumingFrom||this!==c;let g=!0;if((this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty)&&(g=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===Et.timestamp&&(g=!1),g)return;const{layout:h,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||x))return;xn(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,S=this.treeScale.y;uR(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=pt());const{target:b}=c;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(yy(this.prevProjectionDelta.x,this.projectionDelta.x),yy(this.prevProjectionDelta.y,this.projectionDelta.y)),Rl(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==S||!_y(this.projectionDelta.x,this.prevProjectionDelta.x)||!_y(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),c){const g=this.getStack();g&&g.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ao(),this.projectionDelta=ao(),this.projectionDeltaWithTransform=ao()}setAnimationOrigin(c,f=!1){const g=this.snapshot,h=g?g.latestValues:{},x={...this.latestValues},T=ao();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const S=pt(),b=g?g.source:void 0,_=this.layout?this.layout.source:void 0,N=b!==_,A=this.getStack(),w=!A||A.members.length<=1,U=!!(N&&!w&&this.options.crossfade===!0&&!this.path.some(z2));this.animationProgress=0;let D;this.mixTargetDelta=G=>{const Y=G/1e3;wy(T.x,c.x,Y),wy(T.y,c.y,Y),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(wr(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),H2(this.relativeTarget,this.relativeTargetOrigin,S,Y),D&&C2(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=pt()),xn(D,this.relativeTarget)),N&&(this.animationValues=x,x2(x,h,this.latestValues,Y,U,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Y},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var f,g,h;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(h=(g=this.resumingFrom)==null?void 0:g.currentAnimation)==null||h.stop(),this.pendingAnimation&&(ii(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Je.update(()=>{Tr.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=fs(0)),this.currentAnimation=p2(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:x=>{this.mixTargetDelta(x),c.onUpdate&&c.onUpdate(x)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(A2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:g,layout:h,latestValues:x}=c;if(!(!f||!g||!h)){if(this!==c&&this.layout&&h&&c1(this.options.animationType,this.layout.layoutBox,h.layoutBox)){g=this.target||pt();const T=Mt(this.layout.layoutBox.x);g.x.min=c.target.x.min,g.x.max=g.x.min+T;const S=Mt(this.layout.layoutBox.y);g.y.min=c.target.y.min,g.y.max=g.y.min+S}xn(f,g),lo(f,x),Rl(this.projectionDeltaWithTransform,this.layoutCorrected,f,x)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new _2),this.sharedNodes.get(c).add(f);const h=f.options.initialPromotionConfig;f.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var f;const{layoutId:c}=this.options;return c?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:c}=this.options;return c?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:g}={}){const h=this.getStack();h&&h.promote(this,g),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:g}=c;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(f=!0),!f)return;const h={};g.z&&Rd("z",c,h,this.animationValues);for(let x=0;x<Ad.length;x++)Rd(`rotate${Ad[x]}`,c,h,this.animationValues),Rd(`skew${Ad[x]}`,c,h,this.animationValues);c.render();for(const x in h)c.setStaticValue(x,h[x]),this.animationValues&&(this.animationValues[x]=h[x]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=vr(f==null?void 0:f.pointerEvents)||"",c.transform=g?g(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=vr(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!ss(this.latestValues)&&(c.transform=g?g({},""):"none",this.hasProjected=!1);return}c.visibility="";const x=h.animationValues||h.latestValues;this.applyTransformsToTarget();let T=N2(this.projectionDeltaWithTransform,this.treeScale,x);g&&(T=g(x,T)),c.transform=T;const{x:S,y:b}=this.projectionDelta;c.transformOrigin=`${S.origin*100}% ${b.origin*100}% 0`,h.animationValues?c.opacity=h===this?x.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:c.opacity=h===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const _ in Xd){if(x[_]===void 0)continue;const{correct:N,applyTo:A,isCSSVariable:w}=Xd[_],U=T==="none"?x[_]:N(x[_],h);if(A){const D=A.length;for(let G=0;G<D;G++)c[A[G]]=U}else w?this.options.visualElement.renderState.vars[_]=U:c[_]=U}this.options.layoutId&&(c.pointerEvents=h===this?vr(f==null?void 0:f.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(Ny),this.root.sharedNodes.clear()}}}function w2(t){t.updateLayout()}function M2(t){var i;const e=((i=t.resumeFrom)==null?void 0:i.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:a}=t.layout,{animationType:r}=t.options,c=e.source!==t.layout.source;r==="size"?an(T=>{const S=c?e.measuredBox[T]:e.layoutBox[T],b=Mt(S);S.min=o[T].min,S.max=S.min+b}):c1(r,e.layoutBox,o)&&an(T=>{const S=c?e.measuredBox[T]:e.layoutBox[T],b=Mt(o[T]);S.max=S.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[T].max=t.relativeTarget[T].min+b)});const f=ao();Rl(f,o,e.layoutBox);const g=ao();c?Rl(g,t.applyTransform(a,!0),e.measuredBox):Rl(g,o,e.layoutBox);const h=!l1(f);let x=!1;if(!t.resumeFrom){const T=t.getClosestProjectingParent();if(T&&!T.resumeFrom){const{snapshot:S,layout:b}=T;if(S&&b){const _=pt();wr(_,e.layoutBox,S.layoutBox);const N=pt();wr(N,o,b.layoutBox),a1(_,N)||(x=!0),T.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=_,t.relativeParent=T)}}}t.notifyListeners("didUpdate",{layout:o,snapshot:e,delta:g,layoutDelta:f,hasLayoutChanged:h,hasRelativeLayoutChanged:x})}else if(t.isLead()){const{onExitComplete:o}=t.options;o&&o()}t.options.transition=void 0}function I2(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function D2(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function k2(t){t.clearSnapshot()}function Ny(t){t.clearMeasurements()}function Ay(t){t.isLayoutDirty=!1}function L2(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Ry(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function U2(t){t.resolveTargetDelta()}function P2(t){t.calcProjection()}function V2(t){t.resetSkewAndRotation()}function B2(t){t.removeLeadSnapshot()}function wy(t,e,i){t.translate=Xe(e.translate,0,i),t.scale=Xe(e.scale,1,i),t.origin=e.origin,t.originPoint=e.originPoint}function My(t,e,i,o){t.min=Xe(e.min,i.min,o),t.max=Xe(e.max,i.max,o)}function H2(t,e,i,o){My(t.x,e.x,i.x,o),My(t.y,e.y,i.y,o)}function z2(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const G2={duration:.45,ease:[.4,0,.1,1]},Iy=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Dy=Iy("applewebkit/")&&!Iy("chrome/")?Math.round:cn;function ky(t){t.min=Dy(t.min),t.max=Dy(t.max)}function O2(t){ky(t.x),ky(t.y)}function c1(t,e,i){return t==="position"||t==="preserve-aspect"&&!XR(Cy(e),Cy(i),.2)}function j2(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const q2=u1({attachResizeListener:(t,e)=>Ll(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wd={current:void 0},d1=u1({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!wd.current){const t=new q2({});t.mount(window),t.setOptions({layoutScroll:!0}),wd.current=t}return wd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),F2={pan:{Feature:d2},drag:{Feature:c2,ProjectionNode:d1,MeasureLayout:i1}};function Ly(t,e,i){const{props:o}=t;t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",i==="Start");const a="onHover"+i,r=o[a];r&&Je.postRender(()=>r(e,zl(e)))}class Y2 extends Pi{mount(){const{current:e}=this.node;e&&(this.unmount=hA(e,(i,o)=>(Ly(this.node,o,"Start"),a=>Ly(this.node,a,"End"))))}unmount(){}}class K2 extends Pi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vl(Ll(this.node.current,"focus",()=>this.onFocus()),Ll(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Uy(t,e,i){const{props:o}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&o.whileTap&&t.animationState.setActive("whileTap",i==="Start");const a="onTap"+(i==="End"?"":i),r=o[a];r&&Je.postRender(()=>r(e,zl(e)))}class J2 extends Pi{mount(){const{current:e}=this.node;e&&(this.unmount=xA(e,(i,o)=>(Uy(this.node,o,"Start"),(a,{success:r})=>Uy(this.node,a,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const of=new WeakMap,Md=new WeakMap,$2=t=>{const e=of.get(t.target);e&&e(t)},X2=t=>{t.forEach($2)};function Q2({root:t,...e}){const i=t||document;Md.has(i)||Md.set(i,{});const o=Md.get(i),a=JSON.stringify(e);return o[a]||(o[a]=new IntersectionObserver(X2,{root:t,...e})),o[a]}function W2(t,e,i){const o=Q2(e);return of.set(t,i),o.observe(t),()=>{of.delete(t),o.unobserve(t)}}const Z2={some:0,all:1};class ew extends Pi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:i,margin:o,amount:a="some",once:r}=e,c={root:i?i.current:void 0,rootMargin:o,threshold:typeof a=="number"?a:Z2[a]},f=g=>{const{isIntersecting:h}=g;if(this.isInView===h||(this.isInView=h,r&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:x,onViewportLeave:T}=this.node.getProps(),S=h?x:T;S&&S(g)};return W2(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:i}=this.node;["amount","margin","root"].some(tw(e,i))&&this.startObserver()}unmount(){}}function tw({viewport:t={}},{viewport:e={}}={}){return i=>t[i]!==e[i]}const nw={inView:{Feature:ew},tap:{Feature:J2},focus:{Feature:K2},hover:{Feature:Y2}},iw={layout:{ProjectionNode:d1,MeasureLayout:i1}},sw={...qR,...nw,...F2,...iw},pe=lR(sw,vR);function f1(t){const e=Ui(()=>fs(t)),{isStatic:i}=k.useContext(Br);if(i){const[,o]=k.useState(t);k.useEffect(()=>e.on("change",o),[])}return e}function p1(t,e){const i=f1(e()),o=()=>i.set(e());return o(),Cf(()=>{const a=()=>Je.preRender(o,!1,!0),r=t.map(c=>c.on("change",a));return()=>{r.forEach(c=>c()),ii(o)}}),i}function ow(t){Nl.current=[],t();const e=p1(Nl.current,t);return Nl.current=void 0,e}function lw(t,e,i,o){if(typeof t=="function")return ow(t);const a=typeof e=="function"?e:TA(e,i,o);return Array.isArray(t)?Py(t,a):Py([t],([r])=>a(r))}function Py(t,e){const i=Ui(()=>[]);return p1(t,()=>{i.length=0;const o=t.length;for(let a=0;a<o;a++)i[a]=t[a].get();return e(i)})}class aw{constructor(){this.componentControls=new Set}subscribe(e){return this.componentControls.add(e),()=>this.componentControls.delete(e)}start(e,i){this.componentControls.forEach(o=>{o.start(e.nativeEvent||e,i)})}cancel(){this.componentControls.forEach(e=>{e.cancel()})}stop(){this.componentControls.forEach(e=>{e.stop()})}}const rw=()=>new aw;function ep(){return Ui(rw)}const h1=k.createContext(null);function uw(t,e,i,o){if(!o)return t;const a=t.findIndex(x=>x.value===e);if(a===-1)return t;const r=o>0?1:-1,c=t[a+r];if(!c)return t;const f=t[a],g=c.layout,h=Xe(g.min,g.max,.5);return r===1&&f.layout.max+i>h||r===-1&&f.layout.min+i<h?N_(t,a,a+r):t}function cw({children:t,as:e="ul",axis:i="y",onReorder:o,values:a,...r},c){const f=Ui(()=>pe[e]),g=[],h=k.useRef(!1),x={axis:i,registerItem:(T,S)=>{const b=g.findIndex(_=>T===_.value);b!==-1?g[b].layout=S[i]:g.push({value:T,layout:S[i]}),g.sort(fw)},updateOrder:(T,S,b)=>{if(h.current)return;const _=uw(g,T,S,b);g!==_&&(h.current=!0,o(_.map(dw).filter(N=>a.indexOf(N)!==-1)))}};return k.useEffect(()=>{h.current=!1}),p.jsx(f,{...r,ref:c,ignoreStrict:!0,children:p.jsx(h1.Provider,{value:x,children:t})})}const tp=k.forwardRef(cw);function dw(t){return t.value}function fw(t,e){return t.layout.min-e.layout.min}function Vy(t,e=0){return bt(t)?t:f1(e)}function pw({children:t,style:e={},value:i,as:o="li",onDrag:a,layout:r=!0,...c},f){const g=Ui(()=>pe[o]),h=k.useContext(h1),x={x:Vy(e.x),y:Vy(e.y)},T=lw([x.x,x.y],([N,A])=>N||A?1:"unset"),{axis:S,registerItem:b,updateOrder:_}=h;return p.jsx(g,{drag:S,...c,dragSnapToOrigin:!0,style:{...e,x:x.x,y:x.y,zIndex:T},layout:r,onDrag:(N,A)=>{const{velocity:w}=A;w[S]&&_(i,x[S].get(),w[S]),a&&a(N,A)},onLayoutMeasure:N=>b(i,N),ref:f,ignoreStrict:!0,children:t})}const np=k.forwardRef(pw),By=()=>p.jsxs("div",{className:"w-full flex flex-col px-6 lg:px-12 py-8 relative z-10",children:[p.jsxs("div",{className:"flex-none flex flex-col items-center justify-center pt-8 pb-10 space-y-4",children:[p.jsxs(pe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-slate-800/50 border border-slate-700 text-sky-400 text-xs font-medium tracking-wider uppercase mb-2",children:[p.jsx(ZC,{size:14}),p.jsx("span",{children:"Embedded Systems"})]}),p.jsx(pe.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-4xl md:text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-sky-400 via-blue-400 to-indigo-400 tracking-tight text-center drop-shadow-sm",children:"FreeRTOS"}),p.jsx(pe.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"text-slate-400 text-base md:text-lg max-w-2xl mx-auto text-center leading-relaxed font-light",children:" STM32 "})]}),p.jsx("div",{className:"flex-1 flex items-center justify-center pb-12",children:p.jsxs("div",{className:"grid lg:grid-cols-[40%_60%] md:grid-cols-2 gap-8 md:gap-12 w-full max-w-7xl items-center",children:[p.jsx("div",{className:"flex flex-col gap-5 justify-center",children:[{icon:wn,title:" (Preemption)",desc:""},{icon:ds,title:" (Microkernel)",desc:" 9000 RAM  FreeRTOSConfig.h  STM32 "},{icon:cs,title:" (Ecosystem)",desc:""}].map((t,e)=>p.jsxs(pe.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.2+e*.1},className:"bg-slate-800/30 border border-slate-700/50 p-5 rounded-2xl hover:bg-slate-800/60 hover:border-slate-600 transition duration-300 flex items-start gap-5 group backdrop-blur-sm",children:[p.jsx("div",{className:"p-3 bg-gradient-to-br from-sky-500/20 to-indigo-500/20 rounded-xl group-hover:scale-110 transition-transform duration-300 shadow-inner ring-1 ring-white/10",children:p.jsx(t.icon,{className:"w-6 h-6 text-sky-400"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-base font-bold text-slate-100 mb-1.5",children:t.title}),p.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:t.desc})]})]},e))}),p.jsxs(pe.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{delay:.5},className:"relative group w-full",children:[p.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-sky-500 to-indigo-600 rounded-2xl blur opacity-20 group-hover:opacity-40 transition duration-500"}),p.jsxs("div",{className:"relative bg-[#0d1117] rounded-xl border border-slate-700/80 shadow-2xl overflow-hidden flex flex-col",children:[p.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-slate-800 bg-[#161b22]",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-3 h-3 rounded-full bg-[#ff5f56]"}),p.jsx("div",{className:"w-3 h-3 rounded-full bg-[#ffbd2e]"}),p.jsx("div",{className:"w-3 h-3 rounded-full bg-[#27c93f]"})]}),p.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400 font-mono opacity-80",children:[p.jsx(ps,{size:13})," main.c"]})]}),p.jsx("div",{className:"p-4 sm:p-5 overflow-x-auto custom-scrollbar bg-[#0d1117]",children:p.jsxs("div",{className:"font-mono text-xs sm:text-[13px] leading-6 text-[#c9d1d9] min-w-max",children:[p.jsxs("div",{className:"flex",children:[p.jsx("span",{className:"w-8 text-right text-slate-600 select-none mr-4 shrink-0",children:"1"}),p.jsx("span",{className:"text-[#8b949e] italic",children:"/* STM32 Standard Peripheral Library */"})]}),p.jsxs("div",{className:"flex",children:[p.jsx("span",{className:"w-8 text-right text-slate-600 select-none mr-4 shrink-0",children:"2"}),p.jsxs("span",{children:[p.jsx("span",{className:"text-[#ff7b72]",children:"#include"})," ",p.jsx("span",{className:"text-[#a5d6ff]",children:'"stm32f10x.h"'})]})]}),p.jsxs("div",{className:"flex",children:[p.jsx("span",{className:"w-8 text-right text-slate-600 select-none mr-4 shrink-0",children:"3"}),p.jsxs("span",{children:[p.jsx("span",{className:"text-[#ff7b72]",children:"#include"})," ",p.jsx("span",{className:"text-[#a5d6ff]",children:'"FreeRTOS.h"'})]})]}),p.jsxs("div",{className:"flex",children:[p.jsx("span",{className:"w-8 text-right text-slate-600 select-none mr-4 shrink-0",children:"4"}),p.jsxs("span",{children:[p.jsx("span",{className:"text-[#ff7b72]",children:"#include"})," ",p.jsx("span",{className:"text-[#a5d6ff]",children:'"task.h"'})]})]}),p.jsxs("div",{className:"flex",children:[p.jsx("span",{className:"w-8 text-right text-slate-600 select-none mr-4 shrink-0",children:"5"}),p.jsx("span",{})]}),p.jsxs("div",{className:"flex",children:[p.jsx("span",{className:"w-8 text-right text-slate-600 select-none mr-4 shrink-0",children:"6"}),p.jsxs("span",{children:[p.jsx("span",{className:"text-[#ff7b72]",children:"int"})," ",p.jsx("span",{className:"text-[#d2a8ff]",children:"main"}),"( ",p.jsx("span",{className:"text-[#ff7b72]",children:"void"})," )"]})]}),p.jsxs("div",{className:"flex",children:[p.jsx("span",{className:"w-8 text-right text-slate-600 select-none mr-4 shrink-0",children:"7"}),p.jsx("span",{children:"{"})]}),p.jsxs("div",{className:"flex",children:[p.jsx("span",{className:"w-8 text-right text-slate-600 select-none mr-4 shrink-0",children:"8"}),p.jsx("span",{className:"pl-4",children:p.jsx("span",{className:"text-[#8b949e] italic",children:"// 1.  (BSP Init)"})})]}),p.jsxs("div",{className:"flex",children:[p.jsx("span",{className:"w-8 text-right text-slate-600 select-none mr-4 shrink-0",children:"9"}),p.jsxs("span",{className:"pl-4",children:[p.jsx("span",{className:"text-[#d2a8ff]",children:"NVIC_PriorityGroupConfig"}),"( NVIC_PriorityGroup_4 );"]})]}),p.jsxs("div",{className:"flex",children:[p.jsx("span",{className:"w-8 text-right text-slate-600 select-none mr-4 shrink-0",children:"10"}),p.jsxs("span",{className:"pl-4",children:[p.jsx("span",{className:"text-[#d2a8ff]",children:"BSP_Init"}),"(); "]})]}),p.jsxs("div",{className:"flex",children:[p.jsx("span",{className:"w-8 text-right text-slate-600 select-none mr-4 shrink-0",children:"11"}),p.jsx("span",{})]}),p.jsxs("div",{className:"flex",children:[p.jsx("span",{className:"w-8 text-right text-slate-600 select-none mr-4 shrink-0",children:"12"}),p.jsx("span",{className:"pl-4",children:p.jsx("span",{className:"text-[#8b949e] italic",children:"// 2. "})})]}),p.jsxs("div",{className:"flex",children:[p.jsx("span",{className:"w-8 text-right text-slate-600 select-none mr-4 shrink-0",children:"13"}),p.jsxs("span",{className:"pl-4",children:[p.jsx("span",{className:"text-[#79c0ff]",children:"xTaskCreate"}),"( Task1_LED,   ",p.jsx("span",{className:"text-[#a5d6ff]",children:'"LED"'}),",  ",p.jsx("span",{className:"text-[#79c0ff]",children:"128"}),", NULL, ",p.jsx("span",{className:"text-[#79c0ff]",children:"2"}),", NULL );"]})]}),p.jsxs("div",{className:"flex",children:[p.jsx("span",{className:"w-8 text-right text-slate-600 select-none mr-4 shrink-0",children:"14"}),p.jsxs("span",{className:"pl-4",children:[p.jsx("span",{className:"text-[#79c0ff]",children:"xTaskCreate"}),"( Task2_UART,  ",p.jsx("span",{className:"text-[#a5d6ff]",children:'"Com"'}),",  ",p.jsx("span",{className:"text-[#79c0ff]",children:"256"}),", NULL, ",p.jsx("span",{className:"text-[#79c0ff]",children:"3"}),", NULL );"]})]}),p.jsxs("div",{className:"flex",children:[p.jsx("span",{className:"w-8 text-right text-slate-600 select-none mr-4 shrink-0",children:"15"}),p.jsx("span",{})]}),p.jsxs("div",{className:"flex",children:[p.jsx("span",{className:"w-8 text-right text-slate-600 select-none mr-4 shrink-0",children:"16"}),p.jsx("span",{className:"pl-4",children:p.jsx("span",{className:"text-[#8b949e] italic",children:"// 3.  RTOS "})})]}),p.jsxs("div",{className:"flex",children:[p.jsx("span",{className:"w-8 text-right text-slate-600 select-none mr-4 shrink-0",children:"17"}),p.jsxs("span",{className:"pl-4",children:[p.jsx("span",{className:"text-[#d2a8ff]",children:"vTaskStartScheduler"}),"(); "]})]}),p.jsxs("div",{className:"flex",children:[p.jsx("span",{className:"w-8 text-right text-slate-600 select-none mr-4 shrink-0",children:"18"}),p.jsx("span",{})]}),p.jsxs("div",{className:"flex",children:[p.jsx("span",{className:"w-8 text-right text-slate-600 select-none mr-4 shrink-0",children:"19"}),p.jsxs("span",{className:"pl-4",children:[p.jsx("span",{className:"text-[#ff7b72]",children:"while"}),"( ",p.jsx("span",{className:"text-[#79c0ff]",children:"1"})," );"]})]}),p.jsxs("div",{className:"flex",children:[p.jsx("span",{className:"w-8 text-right text-slate-600 select-none mr-4 shrink-0",children:"20"}),p.jsx("span",{children:"}"})]})]})})]})]})]})}),p.jsx("div",{className:"flex-none py-4 text-center",children:p.jsx("p",{className:"text-slate-600 text-xs font-mono",children:"STM32F103  ARM Cortex-M3  FreeRTOS V10.x"})})]});var Ee=(t=>(t.RUNNING="RUNNING",t.READY="READY",t.BLOCKED="BLOCKED",t.SUSPENDED="SUSPENDED",t))(Ee||{}),Rt=(t=>(t.INTRO="intro",t.TASKS="tasks",t.SCHEDULER="scheduler",t.CONTEXT="context",t.QUEUES="queues",t.SEMAPHORES="semaphores",t.INVERSION="inversion",t))(Rt||{});const hw=({currentState:t,isAnimating:e,onTransition:i})=>{const o={READY:{x:"20%",y:"50%"},RUNNING:{x:"50%",y:"50%"},BLOCKED:{x:"80%",y:"50%"},SUSPENDED:{x:"50%",y:"20%"}},[a,r]=k.useState(o.READY);k.useEffect(()=>{r(o[t])},[t]);const c=()=>{switch(t){case Ee.READY:return[{label:"Schedule",sub:"Scheduler Select",icon:wn,color:"emerald",onClick:()=>i(Ee.RUNNING,6,"Scheduler picked highest priority task.")}];case Ee.RUNNING:return[{label:"Yield",sub:"taskYIELD()",icon:Dv,color:"sky",onClick:()=>i(Ee.READY,9,"Task yielded voluntarily.")},{label:"Delay",sub:"vTaskDelay()",icon:ho,color:"amber",onClick:()=>i(Ee.BLOCKED,12,"Task entered Blocked state.")},{label:"Suspend",sub:"vTaskSuspend()",icon:wv,color:"rose",onClick:()=>i(Ee.SUSPENDED,15,"Task suspended explicitly.")}];case Ee.BLOCKED:return[{label:"Wake Up",sub:"ISR / Timeout",icon:wl,color:"emerald",onClick:()=>i(Ee.READY,21,"Event received! Moved to Ready list.")}];case Ee.SUSPENDED:return[{label:"Resume",sub:"vTaskResume()",icon:Mv,color:"sky",onClick:()=>i(Ee.READY,20,"Task Resumed by system.")}];default:return[]}};return p.jsxs("div",{className:"flex-1 bg-slate-950 relative overflow-hidden flex flex-col items-center justify-center select-none font-sans",children:[p.jsx("div",{className:"absolute inset-0 opacity-[0.05]",style:{backgroundImage:"linear-gradient(#64748b 1px, transparent 1px), linear-gradient(90deg, #64748b 1px, transparent 1px)",backgroundSize:"40px 40px"}}),p.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none z-0 overflow-visible",children:[p.jsx("defs",{children:p.jsx("marker",{id:"arrow",markerWidth:"6",markerHeight:"6",refX:"5",refY:"3",orient:"auto",fill:"#475569",children:p.jsx("path",{d:"M0,0 L6,3 L0,6 z"})})}),p.jsx("path",{d:"M 28% 50% L 42% 50%",stroke:"#334155",strokeWidth:"2",markerEnd:"url(#arrow)"})," ",p.jsx("path",{d:"M 45% 58% Q 35% 65% 25% 58%",stroke:"#334155",strokeWidth:"2",strokeDasharray:"4,4",fill:"none",markerEnd:"url(#arrow)"})," ",p.jsx("path",{d:"M 58% 50% L 72% 50%",stroke:"#334155",strokeWidth:"2",markerEnd:"url(#arrow)"})," ",p.jsx("path",{d:"M 75% 58% Q 50% 80% 25% 58%",stroke:"#334155",strokeWidth:"2",strokeDasharray:"4,4",fill:"none",markerEnd:"url(#arrow)"})," ",p.jsx("path",{d:"M 50% 42% L 50% 28%",stroke:"#334155",strokeWidth:"2",markerEnd:"url(#arrow)"})," ",p.jsx("path",{d:"M 45% 25% Q 30% 25% 25% 42%",stroke:"#334155",strokeWidth:"2",strokeDasharray:"4,4",fill:"none",markerEnd:"url(#arrow)"})," "]}),p.jsx("div",{className:"absolute left-[20%] top-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col items-center gap-4 z-10 group",children:p.jsxs("div",{className:`
                w-32 h-32 rounded-2xl border-2 flex flex-col items-center justify-center relative bg-slate-900 transition-all duration-300
                ${t===Ee.READY?"border-sky-500 shadow-[0_0_30px_rgba(14,165,233,0.15)]":"border-slate-800 opacity-60"}
             `,children:[p.jsx("div",{className:"absolute -top-3 px-2 py-0.5 bg-slate-950 border border-slate-700 rounded text-[10px] font-bold text-slate-400",children:"READY LIST"}),p.jsx(Pd,{size:32,className:t===Ee.READY?"text-sky-500":"text-slate-600"}),p.jsx("div",{className:"mt-2 text-xs font-bold text-slate-300",children:"Ready"}),p.jsxs("div",{className:"flex gap-1 mt-2",children:[p.jsx("div",{className:"w-2 h-6 rounded-sm bg-sky-500/20 border border-sky-500/30"}),p.jsx("div",{className:"w-2 h-6 rounded-sm bg-slate-800 border border-slate-700"}),p.jsx("div",{className:"w-2 h-6 rounded-sm bg-slate-800 border border-slate-700"})]})]})}),p.jsx("div",{className:"absolute left-[50%] top-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col items-center gap-4 z-10",children:p.jsxs("div",{className:`
                w-40 h-40 rounded-3xl border-2 flex flex-col items-center justify-center relative bg-slate-900 transition-all duration-300 overflow-hidden
                ${t===Ee.RUNNING?"border-emerald-500 shadow-[0_0_40px_rgba(16,185,129,0.2)]":"border-slate-800 opacity-60"}
             `,children:[p.jsx("div",{className:"absolute inset-0 opacity-20 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-slate-700 via-slate-900 to-slate-900"}),p.jsxs("div",{className:"absolute top-3 flex items-center gap-1.5",children:[p.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${t===Ee.RUNNING?"bg-emerald-500 animate-pulse":"bg-slate-600"}`}),p.jsx("span",{className:"text-[10px] font-bold text-slate-500",children:"CORTEX-M4"})]}),p.jsx(cs,{size:48,strokeWidth:1.5,className:`mb-2 transition-colors ${t===Ee.RUNNING?"text-emerald-400":"text-slate-600"}`}),p.jsx("div",{className:"text-sm font-bold text-slate-200",children:"RUNNING"}),t===Ee.RUNNING&&p.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1 bg-emerald-500 animate-[pulse_2s_infinite]"})]})}),p.jsx("div",{className:"absolute left-[80%] top-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col items-center gap-4 z-10",children:p.jsxs("div",{className:`
                w-32 h-32 rounded-2xl border-2 flex flex-col items-center justify-center relative bg-slate-900 transition-all duration-300
                ${t===Ee.BLOCKED?"border-amber-500 shadow-[0_0_30px_rgba(245,158,11,0.15)]":"border-slate-800 opacity-60"}
             `,children:[p.jsx("div",{className:"absolute -top-3 px-2 py-0.5 bg-slate-950 border border-slate-700 rounded text-[10px] font-bold text-slate-400",children:"DELAYED LIST"}),p.jsx(ho,{size:32,className:t===Ee.BLOCKED?"text-amber-500":"text-slate-600"}),p.jsx("div",{className:"mt-2 text-xs font-bold text-slate-300",children:"Blocked"}),p.jsx("div",{className:"mt-2 px-2 py-1 bg-slate-950 rounded border border-slate-800 text-[9px] font-mono text-slate-500",children:"Wake: +100ms"})]})}),p.jsx("div",{className:"absolute left-[50%] top-[20%] -translate-x-1/2 -translate-y-1/2 flex flex-col items-center gap-4 z-10",children:p.jsxs("div",{className:`
                w-28 h-24 rounded-xl border-2 border-dashed flex flex-col items-center justify-center relative bg-slate-900/50 transition-all duration-300
                ${t===Ee.SUSPENDED?"border-rose-500 shadow-[0_0_20px_rgba(244,63,94,0.15)]":"border-slate-800 opacity-40"}
             `,children:[p.jsx(Iv,{size:24,className:t===Ee.SUSPENDED?"text-rose-500":"text-slate-600"}),p.jsx("div",{className:"mt-1 text-[10px] font-bold text-slate-300",children:"SUSPENDED"})]})}),p.jsx(pe.div,{className:"absolute z-50 pointer-events-none",initial:o.READY,animate:{left:o[t].x,top:o[t].y,x:"-50%",y:"-50%",scale:e?1.1:1},transition:{type:"spring",stiffness:120,damping:15},children:p.jsxs("div",{className:`
                w-24 h-16 bg-[#1e293b] rounded-lg border-l-4 shadow-2xl flex flex-col p-2 relative
                ${t===Ee.RUNNING?"border-l-emerald-500 ring-2 ring-emerald-500/20":t===Ee.READY?"border-l-sky-500 ring-1 ring-sky-500/20":t===Ee.BLOCKED?"border-l-amber-500 ring-1 ring-amber-500/20":"border-l-rose-500 ring-1 ring-rose-500/20"}
            `,children:[p.jsxs("div",{className:"flex items-center justify-between mb-1",children:[p.jsx("span",{className:"text-[10px] font-bold text-white",children:"MainTask"}),p.jsxs("div",{className:"flex gap-0.5",children:[p.jsx("div",{className:"w-1 h-1 rounded-full bg-slate-500"}),p.jsx("div",{className:"w-1 h-1 rounded-full bg-slate-500"})]})]}),p.jsx("div",{className:"h-[1px] bg-slate-700/50 w-full mb-1.5"}),p.jsxs("div",{className:"flex flex-col gap-0.5",children:[p.jsxs("div",{className:"flex justify-between text-[8px] text-slate-400",children:[p.jsx("span",{children:"Prio:"})," ",p.jsx("span",{className:"text-slate-200",children:"2"})]}),p.jsxs("div",{className:"flex justify-between text-[8px] text-slate-400",children:[p.jsx("span",{children:"Stack:"})," ",p.jsx("span",{className:"text-slate-200",children:"0x20.."})]})]}),p.jsx("div",{className:`
                    absolute -bottom-2 -right-2 px-1.5 py-0.5 rounded text-[8px] font-bold border shadow-sm
                    ${t===Ee.RUNNING?"bg-emerald-900 text-emerald-300 border-emerald-700":t===Ee.READY?"bg-sky-900 text-sky-300 border-sky-700":t===Ee.BLOCKED?"bg-amber-900 text-amber-300 border-amber-700":"bg-rose-900 text-rose-300 border-rose-700"}
                `,children:"TCB"})]})}),p.jsx("div",{className:"absolute bottom-8 z-40 w-full flex justify-center px-4",children:p.jsx("div",{className:"bg-[#1e293b]/90 backdrop-blur-md border border-slate-700 p-2 rounded-2xl shadow-2xl flex items-center gap-3",children:c().length>0?c().map((f,g)=>p.jsxs("button",{onClick:f.onClick,disabled:e,className:`
                                flex flex-col items-center justify-center min-w-[80px] h-16 rounded-xl border border-transparent transition-all duration-200 group relative overflow-hidden
                                ${e?"opacity-50 cursor-not-allowed":`hover:bg-slate-800 hover:border-${f.color}-500/30 active:scale-95`}
                            `,children:[p.jsx("div",{className:`absolute inset-0 opacity-0 group-hover:opacity-10 bg-${f.color}-500 transition-opacity`}),p.jsx("div",{className:"p-2 rounded-full bg-slate-900 mb-1 group-hover:scale-110 transition-transform shadow-sm border border-slate-800",children:p.jsx(f.icon,{size:16,className:`text-${f.color}-500`})}),p.jsx("span",{className:"text-[10px] font-bold text-slate-300 group-hover:text-white",children:f.label}),p.jsx("span",{className:"text-[8px] text-slate-500 scale-0 group-hover:scale-100 transition-transform absolute -bottom-4",children:f.sub})]},g)):p.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 text-slate-400",children:[p.jsx(wl,{className:"animate-pulse text-slate-500",size:18}),p.jsx("span",{className:"text-xs font-mono",children:"System State Stable"})]})})})]})},mw=[{line:1,text:"void vTaskFunction( void *pvParameters )",type:"func"},{line:2,text:"{",type:"plain"},{line:3,text:"    for( ;; )",type:"keyword"},{line:4,text:"    {",type:"plain"},{line:5,text:"        // 1. Task Running ( CPU)",type:"comment"},{line:6,text:"        PerformApplicationTask();",type:"call",action:"processing"},{line:7,text:"",type:"plain"},{line:8,text:"        // 2. Yield (/)",type:"comment"},{line:9,text:"        taskYIELD();",type:"macro",action:"yield"},{line:10,text:"",type:"plain"},{line:11,text:"        // 3. Block (/)",type:"comment"},{line:12,text:"        vTaskDelay( pdMS_TO_TICKS(100) );",type:"call",action:"block"},{line:13,text:"",type:"plain"},{line:14,text:"        // 4. Suspend ()",type:"comment"},{line:15,text:"        vTaskSuspend( NULL );",type:"call",action:"suspend"},{line:16,text:"    }",type:"plain"},{line:17,text:"}",type:"plain"},{line:18,text:"",type:"plain"},{line:19,text:"// ISR Context",type:"comment"},{line:20,text:"xTaskResumeFromISR( xHandle );",type:"call",action:"resume"},{line:21,text:"xTimerCallback(); // Timeout",type:"call",action:"timeout"}],gw=({activeLine:t,height:e,systemLog:i})=>{const[o,a]=k.useState("source"),r=k.useRef(null),c=k.useRef(null);return k.useEffect(()=>{if(o==="source"&&t!==null&&r.current){const f=document.getElementById(`task-line-${t}`);f&&f.scrollIntoView({behavior:"smooth",block:"center"})}},[t,o]),k.useEffect(()=>{o==="log"&&c.current&&c.current.scrollIntoView({behavior:"smooth"})},[i,o]),p.jsxs("div",{style:{height:e},className:"flex flex-col bg-[#0f172a] font-mono text-sm relative border-t border-slate-800 z-10",children:[p.jsxs("div",{className:"h-9 bg-[#1e293b] flex items-center border-b border-slate-700/50 shrink-0 select-none",children:[p.jsxs("button",{onClick:()=>a("source"),className:`flex items-center gap-2 px-4 h-full border-r border-slate-700/50 transition-colors hover:bg-slate-800 ${o==="source"?"bg-slate-800 text-sky-400":"text-slate-500"}`,children:[p.jsx(ps,{size:14,className:o==="source"?"text-sky-500":"text-slate-500"}),p.jsx("span",{className:"font-bold text-xs",children:"main.c"})]}),p.jsxs("button",{onClick:()=>a("log"),className:`flex items-center gap-2 px-4 h-full border-r border-slate-700/50 transition-colors hover:bg-slate-800 ${o==="log"?"bg-slate-800 text-emerald-400":"text-slate-500"}`,children:[p.jsx(Pl,{size:14,className:o==="log"?"text-emerald-500":"text-slate-500"}),p.jsx("span",{className:"font-bold text-xs",children:"UART Output"}),i.length>50&&o!=="log"&&p.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse ml-1"})]})]}),p.jsxs("div",{className:"flex-1 overflow-hidden relative",children:[o==="source"&&p.jsx("div",{ref:r,className:"absolute inset-0 overflow-y-auto custom-scrollbar p-2",children:mw.map((f,g)=>{const h=t===f.line;return p.jsxs("div",{id:`task-line-${f.line}`,className:`flex ${h?"bg-sky-900/20 -mx-2 px-2":""}`,children:[p.jsx("div",{className:`w-6 text-right pr-2 select-none shrink-0 text-[10px] ${h?"text-sky-500 font-bold":"text-slate-600"}`,children:f.line}),p.jsx("div",{className:"flex-1 whitespace-pre truncate text-xs leading-5",children:f.type==="comment"?p.jsx("span",{className:"text-emerald-600 italic",children:f.text}):f.type==="keyword"?p.jsx("span",{className:"text-purple-400",children:f.text}):f.type==="func"?p.jsx("span",{className:"text-yellow-200",children:f.text}):f.type==="call"?p.jsx("span",{className:"text-sky-300",children:f.text}):f.type==="macro"?p.jsx("span",{className:"text-amber-300",children:f.text}):p.jsx("span",{className:"text-slate-300",children:f.text})})]},g)})}),o==="log"&&p.jsxs("div",{className:"absolute inset-0 overflow-y-auto custom-scrollbar p-3 bg-black/20",children:[p.jsx("div",{className:"font-mono text-[11px] text-slate-300 whitespace-pre-wrap leading-relaxed",children:i}),p.jsx("div",{ref:c})]})]})]})},un=({title:t,children:e,defaultOpen:i=!0,prefix:o})=>{const[a,r]=k.useState(i);return p.jsxs("div",{className:"bg-slate-950/50 rounded-lg border border-slate-800/50 overflow-hidden mb-2 shadow-sm",children:[p.jsxs("div",{className:"flex items-center w-full bg-slate-900 border-b border-slate-800/50 hover:bg-slate-800/80 transition-colors",children:[o&&p.jsx("div",{className:"pl-2 pr-1 text-slate-600 cursor-grab active:cursor-grabbing hover:text-slate-400 flex items-center justify-center",children:o}),p.jsxs("button",{onClick:()=>r(!a),className:"flex-1 flex items-center gap-2 p-2 text-xs font-bold text-slate-300 uppercase tracking-wider text-left outline-none",children:[a?p.jsx(rC,{size:14}):p.jsx(Nv,{size:14}),t]})]}),a&&p.jsx("div",{className:"p-2",children:e})]})},Wn=({label:t,value:e,color:i="text-slate-400"})=>p.jsxs("div",{className:"flex justify-between items-center text-xs py-1 border-b border-slate-800/50 last:border-0",children:[p.jsx("span",{className:"text-slate-500 font-bold",children:t}),p.jsx("span",{className:`font-mono ${i}`,children:e})]}),rr=({item:t,children:e})=>{const i=ep();return p.jsx(np,{value:t,dragListener:!1,dragControls:i,className:"relative",children:p.jsx(un,{title:t==="tcb"?"Task Control Block (TCB)":t==="lists"?"Kernel Lists":t==="stats"?"System Status":"Task Management Anatomy",prefix:p.jsx("div",{onPointerDown:o=>i.start(o),children:p.jsx(Ul,{size:14})}),children:e})})},yw=({currentState:t,width:e})=>{const[i,o]=k.useState(["tcb","lists","stats","anatomy"]),a=t===Ee.READY||t===Ee.RUNNING;return p.jsxs("div",{style:{width:e},className:"bg-slate-900 border-l border-slate-800 flex flex-col shrink-0 text-slate-300 h-full",children:[p.jsxs("div",{className:"h-8 bg-slate-900 px-4 flex items-center gap-2 text-xs font-bold text-slate-400 border-b border-slate-800 shadow-sm shrink-0",children:[p.jsx(go,{size:14,className:"text-emerald-500"}),p.jsx("span",{children:"KERNEL INSPECTOR"})]}),p.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2",children:p.jsx(tp,{axis:"y",values:i,onReorder:o,className:"space-y-2",children:i.map(r=>{switch(r){case"anatomy":return p.jsx(rr,{item:r,children:p.jsxs("div",{className:"text-xs text-slate-400 leading-relaxed space-y-3",children:[p.jsxs("div",{className:"flex items-start gap-2",children:[p.jsx(Av,{size:14,className:"text-sky-500 mt-0.5 shrink-0"}),p.jsxs("div",{children:[p.jsx("strong",{className:"text-sky-400 block mb-1",children:"1. TCB (Task Control Block)"}),p.jsx("p",{children:" (pxTopOfStack) TCB "})]})]}),p.jsxs("div",{className:"flex items-start gap-2",children:[p.jsx(Pd,{size:14,className:"text-emerald-500 mt-0.5 shrink-0"}),p.jsxs("div",{children:[p.jsx("strong",{className:"text-emerald-400 block mb-1",children:"2. Kernel Lists ()"}),p.jsxs("p",{children:["FreeRTOS Ready List  ",p.jsx("code",{children:"pxReadyTasksLists[N]"})," O(1) "]})]})]}),p.jsxs("div",{className:"flex items-start gap-2",children:[p.jsx(ho,{size:14,className:"text-amber-500 mt-0.5 shrink-0"}),p.jsxs("div",{children:[p.jsx("strong",{className:"text-amber-400 block mb-1",children:"3. State Machine"}),p.jsxs("p",{children:[" Ready, Running, Blocked, Suspended ",p.jsx("code",{children:"vTaskDelay"}),"  Delayed List Tick "]})]})]})]})},r);case"tcb":return p.jsx(rr,{item:r,children:p.jsxs("div",{className:"px-1",children:[p.jsx(Wn,{label:"Task Name",value:"MainTask",color:"text-sky-300"}),p.jsx(Wn,{label:"Handle",value:"0x20000840"}),p.jsx(Wn,{label:"Priority",value:"2 (Normal)"}),p.jsx(Wn,{label:"State",value:t,color:t===Ee.RUNNING?"text-emerald-400 font-bold":t===Ee.READY?"text-sky-400":t===Ee.BLOCKED?"text-amber-400":"text-rose-400"}),p.jsx(Wn,{label:"Stack High Mark",value:"124 words"}),p.jsx(Wn,{label:"Stack Pointer",value:t===Ee.RUNNING?"0x20000810":"0x20000800"})]})},r);case"lists":return p.jsx(rr,{item:r,children:p.jsxs("div",{className:"space-y-2 pt-1",children:[p.jsxs("div",{className:`p-2 rounded border transition-colors ${a?"bg-sky-900/10 border-sky-500/30":"bg-slate-900 border-slate-800 opacity-50"}`,children:[p.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400 mb-1",children:[p.jsx(Pd,{size:12})," pxReadyTasksLists[2]"]}),p.jsx("div",{className:"font-mono text-[10px] text-slate-500 pl-4",children:a?p.jsxs(p.Fragment,{children:[p.jsxs("div",{children:[" ",p.jsx("span",{className:"text-sky-300",children:"MainTask"})," (TCB)"]}),p.jsx("div",{children:"IdleTask (TCB)"})]}):p.jsx("div",{children:"IdleTask (TCB)"})})]}),p.jsxs("div",{className:`p-2 rounded border transition-colors ${t===Ee.BLOCKED?"bg-amber-900/10 border-amber-500/30":"bg-slate-900 border-slate-800 opacity-50"}`,children:[p.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400 mb-1",children:[p.jsx(ho,{size:12})," pxDelayedTaskList"]}),p.jsx("div",{className:"font-mono text-[10px] text-slate-500 pl-4",children:t===Ee.BLOCKED?p.jsxs("div",{children:[" ",p.jsx("span",{className:"text-amber-300",children:"MainTask"})," (Wake: +100)"]}):p.jsx("div",{className:"italic opacity-50",children:"Empty"})})]}),p.jsxs("div",{className:`p-2 rounded border transition-colors ${t===Ee.SUSPENDED?"bg-rose-900/10 border-rose-500/30":"bg-slate-900 border-slate-800 opacity-50"}`,children:[p.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400 mb-1",children:[p.jsx(Iv,{size:12})," xSuspendedTaskList"]}),p.jsx("div",{className:"font-mono text-[10px] text-slate-500 pl-4",children:t===Ee.SUSPENDED?p.jsxs("div",{children:[" ",p.jsx("span",{className:"text-rose-300",children:"MainTask"})]}):p.jsx("div",{className:"italic opacity-50",children:"Empty"})})]})]})},r);case"stats":return p.jsx(rr,{item:r,children:p.jsxs("div",{className:"px-1",children:[p.jsx(Wn,{label:"xTickCount",value:"12,450",color:"text-slate-300"}),p.jsx(Wn,{label:"xSchedulerRunning",value:"pdTRUE",color:"text-emerald-400"}),p.jsx(Wn,{label:"pxCurrentTCB",value:t===Ee.RUNNING?"MainTask":"IdleTask",color:"text-yellow-200"})]})},r);default:return null}})})})]})},fn=({orientation:t,onDrag:e})=>{const[i,o]=k.useState(!1);return k.useEffect(()=>{if(!i)return;const a=c=>{e(t==="horizontal"?c.movementY:c.movementX)},r=()=>o(!1);return window.addEventListener("mousemove",a),window.addEventListener("mouseup",r),()=>{window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",r)}},[i,e,t]),p.jsx("div",{onMouseDown:()=>o(!0),className:`
        ${t==="horizontal"?"h-2 cursor-row-resize w-full":"w-2 cursor-col-resize h-full"}
        bg-slate-900 hover:bg-sky-600 transition-colors flex items-center justify-center z-50 shrink-0 border-slate-800
        ${t==="horizontal"?"border-y":"border-x"}
      `,children:t==="horizontal"?p.jsx(PC,{size:12,className:"text-slate-600"}):p.jsx(Ul,{size:12,className:"text-slate-600"})})},xw=()=>{const[t,e]=k.useState(Ee.READY),[i,o]=k.useState(null),[a,r]=k.useState(!1),[c,f]=k.useState("System Boot: Task 'MainTask' created in READY list."),[g,h]=k.useState(280),[x,T]=k.useState(250),S=220,b=450,_=150,N=600,A=async(w,U,D)=>{if(a)return;r(!0),o(U);const G=new Date().toISOString().split("T")[1].slice(0,12);f(Y=>`${Y}
[${G}] ${D}`),await new Promise(Y=>setTimeout(Y,600)),e(w),w===Ee.RUNNING&&setTimeout(()=>{o(6),f(Y=>`${Y}
... CPU executing application code ...`)},500),setTimeout(()=>r(!1),600)};return p.jsxs("div",{className:"h-full w-full bg-slate-950 flex flex-col md:flex-row overflow-hidden",children:[p.jsxs("div",{className:"flex-1 flex flex-col min-w-0",style:{height:"100%"},children:[p.jsx(hw,{currentState:t,isAnimating:a,onTransition:A}),p.jsx(fn,{orientation:"horizontal",onDrag:w=>T(U=>Math.min(Math.max(U-w,_),N))}),p.jsx(gw,{activeLine:i,height:x,systemLog:c})]}),p.jsx(fn,{orientation:"vertical",onDrag:w=>h(U=>Math.min(Math.max(U-w,S),b))}),p.jsx(yw,{currentState:t,width:g})]})},Zn=5,vw=[{line:1,text:"// Standard Send (FIFO) - writes to pcWriteTo",type:"comment"},{line:2,text:"BaseType_t xQueueSendToBack( QueueHandle_t xQueue, const void * pvItem, TickType_t xTicksToWait )",type:"func"},{line:3,text:"{",type:"plain"},{line:4,text:"    taskENTER_CRITICAL();",type:"macro"},{line:5,text:"    {",type:"plain"},{line:6,text:"        if( xQueue->uxMessagesWaiting < xQueue->uxLength )",type:"keyword"},{line:7,text:"        {",type:"plain"},{line:8,text:"            // Copy to: xQueue->pcWriteTo",type:"comment"},{line:9,text:"            prvCopyDataToQueue( xQueue, pvItem, queueSEND_TO_BACK );",type:"call"},{line:10,text:"            xQueue->uxMessagesWaiting++;",type:"code"},{line:11,text:"            // Wake up waiting readers",type:"comment"},{line:12,text:"            if( listLIST_IS_EMPTY( &( xQueue->xTasksWaitingToReceive ) ) == pdFALSE ) {",type:"keyword"},{line:13,text:"                 if( xTaskRemoveFromEventList( ... ) ) portYIELD_WITHIN_API();",type:"call"},{line:14,text:"            }",type:"plain"},{line:15,text:"        }",type:"plain"},{line:16,text:"        else",type:"keyword"},{line:17,text:"        {",type:"plain"},{line:18,text:"            // Queue Full: Block Task",type:"comment"},{line:19,text:"            vTaskPlaceOnEventList( &( xQueue->xTasksWaitingToSend ), xTicksToWait );",type:"call"},{line:20,text:"        }",type:"plain"},{line:21,text:"    }",type:"plain"},{line:22,text:"    taskEXIT_CRITICAL();",type:"macro"},{line:23,text:"}",type:"plain"}],Tw=[{line:1,text:"// Urgent Send (LIFO) - writes to u.pcReadFrom",type:"comment"},{line:2,text:"BaseType_t xQueueSendToFront( QueueHandle_t xQueue, const void * pvItem, TickType_t xTicksToWait )",type:"func"},{line:3,text:"{",type:"plain"},{line:4,text:"    taskENTER_CRITICAL();",type:"macro"},{line:5,text:"    {",type:"plain"},{line:6,text:"        if( xQueue->uxMessagesWaiting < xQueue->uxLength )",type:"keyword"},{line:7,text:"        {",type:"plain"},{line:8,text:"            // Copy to: xQueue->u.pcReadFrom (Slots backwards)",type:"comment"},{line:9,text:"            prvCopyDataToQueue( xQueue, pvItem, queueSEND_TO_FRONT );",type:"call"},{line:10,text:"            xQueue->uxMessagesWaiting++;",type:"code"},{line:11,text:"            // Wake up waiting readers",type:"comment"},{line:12,text:"            if( listLIST_IS_EMPTY( &( xQueue->xTasksWaitingToReceive ) ) == pdFALSE ) {",type:"keyword"},{line:13,text:"                 if( xTaskRemoveFromEventList( ... ) ) portYIELD_WITHIN_API();",type:"call"},{line:14,text:"            }",type:"plain"},{line:15,text:"        }",type:"plain"},{line:16,text:"        else { ... /* Block Logic */ ... }",type:"keyword"},{line:17,text:"    }",type:"plain"},{line:18,text:"    taskEXIT_CRITICAL();",type:"macro"},{line:19,text:"}",type:"plain"}],Sw=[{line:1,text:"// Standard Receive - Reads from u.pcReadFrom + 1",type:"comment"},{line:2,text:"BaseType_t xQueueReceive( QueueHandle_t xQueue, void * pvBuffer, TickType_t xTicksToWait )",type:"func"},{line:3,text:"{",type:"plain"},{line:4,text:"    taskENTER_CRITICAL();",type:"macro"},{line:5,text:"    {",type:"plain"},{line:6,text:"        if( xQueue->uxMessagesWaiting > 0 )",type:"keyword"},{line:7,text:"        {",type:"plain"},{line:8,text:"            // 1. Read from (u.pcReadFrom + 1)",type:"comment"},{line:9,text:"            prvCopyDataFromQueue( xQueue, pvBuffer );",type:"call"},{line:10,text:"            // 2. Decrement Count",type:"comment"},{line:11,text:"            xQueue->uxMessagesWaiting--;",type:"code"},{line:12,text:"            // 3. Wake up waiting writers",type:"comment"},{line:13,text:"            if( listLIST_IS_EMPTY( &( xQueue->xTasksWaitingToSend ) ) == pdFALSE ) {",type:"keyword"},{line:14,text:"                 if( xTaskRemoveFromEventList( ... ) ) portYIELD_WITHIN_API();",type:"call"},{line:15,text:"            }",type:"plain"},{line:16,text:"        }",type:"plain"},{line:17,text:"        else",type:"keyword"},{line:18,text:"        {",type:"plain"},{line:19,text:"            // Queue Empty: Block Task",type:"comment"},{line:20,text:"            vTaskPlaceOnEventList( &( xQueue->xTasksWaitingToReceive ), xTicksToWait );",type:"call"},{line:21,text:"        }",type:"plain"},{line:22,text:"    }",type:"plain"},{line:23,text:"    taskEXIT_CRITICAL();",type:"macro"},{line:24,text:"}",type:"plain"}],Ew=({queue:t,writeIndex:e,readIndex:i,messagesWaiting:o,operationState:a,blockedSenders:r,blockedReceivers:c,onSendNormal:f,onSendUrgent:g,onReceive:h})=>{const x=r.includes("SensorTask"),T=r.includes("ISR (Urgent)"),S=c.includes("ConsumerTask"),b=a==="SEND_NORMAL",_=a==="SEND_URGENT",N=a==="RECEIVE",A=a==="IDLE",w=64,U=8,D=32,G=Y=>D+Y*(w+U);return p.jsxs("div",{className:"flex-1 bg-slate-950 relative overflow-hidden flex flex-col font-sans",children:[p.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"linear-gradient(#fff 1px, transparent 1px), linear-gradient(90deg, #fff 1px, transparent 1px)",backgroundSize:"30px 30px"}}),p.jsxs("div",{className:"flex-1 flex items-center justify-center p-8 z-10 gap-8 max-w-7xl mx-auto w-full",children:[p.jsxs("div",{className:"flex flex-col gap-12 items-end justify-center",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("div",{className:"flex flex-col items-end",children:[_&&p.jsx(pe.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},className:"text-xs text-rose-400 font-bold mb-1",children:"SendToFront"}),p.jsxs("button",{onClick:g,disabled:!A||T,className:`
                            px-4 py-2 rounded-lg flex items-center gap-2 text-xs font-bold transition shadow-lg
                            ${T?"bg-rose-900/20 text-rose-500 border border-rose-500/30 cursor-not-allowed":"bg-rose-600 hover:bg-rose-500 text-white"}
                            disabled:opacity-50 disabled:cursor-not-allowed
                        `,children:[p.jsx(wn,{size:14,fill:"currentColor"})," ISR Send (Front)"]})]}),p.jsxs("div",{className:`
                    w-32 h-20 rounded-xl border-2 flex flex-col items-center justify-center relative transition-all duration-300
                    ${T?"bg-rose-900/20 border-rose-500 shadow-[0_0_20px_rgba(244,63,94,0.2)]":"bg-slate-900 border-rose-500/50"}
                 `,children:[p.jsx("span",{className:"text-[10px] font-bold text-slate-400 mb-1",children:"INTERRUPT"}),T?p.jsxs("div",{className:"flex items-center gap-1 text-rose-400 font-bold animate-pulse text-xs",children:[p.jsx(Rn,{size:12})," BLOCKED"]}):p.jsx("div",{className:"text-rose-400 font-bold text-xs",children:"ACTIVE"})]})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("div",{className:"flex flex-col items-end",children:[b&&p.jsx(pe.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},className:"text-xs text-indigo-400 font-bold mb-1",children:"SendToBack"}),p.jsxs("button",{onClick:f,disabled:!A||x,className:`
                            px-4 py-2 rounded-lg flex items-center gap-2 text-xs font-bold transition shadow-lg
                            ${x?"bg-indigo-900/20 text-indigo-500 border border-indigo-500/30 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-500 text-white"}
                            disabled:opacity-50 disabled:cursor-not-allowed
                        `,children:[p.jsx(wl,{size:14})," Task Send (Back)"]})]}),p.jsxs("div",{className:`
                    w-32 h-20 rounded-xl border-2 flex flex-col items-center justify-center relative transition-all duration-300
                    ${x?"bg-indigo-900/20 border-indigo-500 shadow-[0_0_20px_rgba(99,102,241,0.2)]":"bg-slate-900 border-indigo-500/50"}
                 `,children:[p.jsx("span",{className:"text-[10px] font-bold text-slate-400 mb-1",children:"SENSOR TASK"}),x?p.jsxs("div",{className:"flex items-center gap-1 text-indigo-400 font-bold animate-pulse text-xs",children:[p.jsx(Rn,{size:12})," BLOCKED"]}):p.jsx("div",{className:"text-indigo-400 font-bold text-xs",children:"RUNNING"})]})]})]}),p.jsxs("div",{className:"flex flex-col items-center justify-center relative min-h-[300px]",children:[p.jsxs("div",{className:"absolute -top-16 left-0 right-0 flex justify-between text-[10px] text-slate-500 font-mono opacity-50",children:[p.jsx("span",{children:"Low Address"}),p.jsx("span",{children:"High Address"})]}),p.jsxs("div",{className:"flex gap-2 p-3 bg-slate-900 border border-slate-700 rounded-2xl shadow-2xl relative",children:[p.jsxs(pe.div,{className:"absolute -top-10 w-8 flex flex-col items-center z-30",animate:{left:G(e)-16},transition:{type:"spring",stiffness:300,damping:25},children:[p.jsx("div",{className:"text-[9px] font-bold text-indigo-400 bg-indigo-900/30 px-1.5 py-0.5 rounded mb-1 whitespace-nowrap shadow-sm border border-indigo-500/30",children:"pcWriteTo"}),p.jsx(bv,{size:14,className:"text-indigo-500 fill-indigo-500"})]}),p.jsxs(pe.div,{className:"absolute -bottom-10 w-8 flex flex-col-reverse items-center z-30",animate:{left:G(i)-16},transition:{type:"spring",stiffness:300,damping:25},children:[p.jsx("div",{className:"text-[9px] font-bold text-emerald-400 bg-emerald-900/30 px-1.5 py-0.5 rounded mt-1 whitespace-nowrap shadow-sm border border-emerald-500/30",children:"u.pcReadFrom"}),p.jsx(_v,{size:14,className:"text-emerald-500 fill-emerald-500"})]}),Array.from({length:Zn}).map((Y,X)=>{var O,j,q;return p.jsxs("div",{className:"w-16 h-16 bg-slate-950 border border-slate-800 rounded-lg relative flex items-center justify-center overflow-hidden",children:[p.jsx("span",{className:"absolute top-1 left-1 text-[9px] text-slate-700 font-mono",children:X}),p.jsx(ei,{mode:"popLayout",children:t[X]!==null&&p.jsxs(pe.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.5,opacity:0},className:`
                                        w-12 h-12 rounded-md shadow-inner flex items-center justify-center text-white font-bold text-sm z-10 border border-white/10
                                        ${((O=t[X])==null?void 0:O.type)==="URGENT"?"bg-gradient-to-br from-rose-500 to-red-600 shadow-rose-500/20":"bg-gradient-to-br from-indigo-500 to-blue-600 shadow-indigo-500/20"}
                                    `,children:[(j=t[X])==null?void 0:j.value,((q=t[X])==null?void 0:q.type)==="URGENT"&&p.jsx(wn,{size:10,className:"absolute bottom-1 right-1 text-white/50"})]})})]},X)})]}),p.jsxs("div",{className:"absolute -bottom-20 flex items-center gap-2 text-[10px] text-slate-600",children:[p.jsx(mC,{size:14}),p.jsx("span",{children:"Ring Buffer (Wraps Around)"}),p.jsx(yC,{size:14})]}),p.jsx("div",{className:"absolute top-32 w-64 text-center",children:p.jsxs(ei,{mode:"wait",children:[_&&p.jsxs(pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-rose-900/80 text-rose-200 text-[10px] px-2 py-1 rounded border border-rose-500/30 backdrop-blur",children:[p.jsx("strong",{children:"SendToFront:"})," Decrement ",p.jsx("code",{children:"u.pcReadFrom"})," & Write"]}),b&&p.jsxs(pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-indigo-900/80 text-indigo-200 text-[10px] px-2 py-1 rounded border border-indigo-500/30 backdrop-blur",children:[p.jsx("strong",{children:"SendToBack:"})," Write to ",p.jsx("code",{children:"pcWriteTo"})," & Increment"]}),N&&p.jsxs(pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-emerald-900/80 text-emerald-200 text-[10px] px-2 py-1 rounded border border-emerald-500/30 backdrop-blur",children:[p.jsx("strong",{children:"Receive:"})," Read from ",p.jsx("code",{children:"u.pcReadFrom + 1"})]})]})})]}),p.jsx("div",{className:"flex flex-col gap-12 items-start justify-center",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("div",{className:`
                    w-32 h-20 rounded-xl border-2 flex flex-col items-center justify-center relative transition-all duration-300
                    ${S?"bg-amber-900/20 border-amber-500 shadow-[0_0_20px_rgba(245,158,11,0.2)]":"bg-slate-900 border-emerald-500/50"}
                 `,children:[p.jsx("span",{className:"text-[10px] font-bold text-slate-400 mb-1",children:"CONSUMER"}),S?p.jsxs("div",{className:"flex items-center gap-1 text-amber-400 font-bold animate-pulse text-xs",children:[p.jsx(Rn,{size:12})," BLOCKED"]}):p.jsx("div",{className:"text-emerald-400 font-bold text-xs",children:"RUNNING"})]}),p.jsxs("div",{className:"flex flex-col items-start",children:[N&&p.jsx(pe.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},className:"text-xs text-emerald-400 font-bold mb-1",children:"Reading..."}),p.jsxs("button",{onClick:h,disabled:!A||S,className:`
                            px-4 py-2 rounded-lg flex items-center gap-2 text-xs font-bold transition shadow-lg
                            ${S?"bg-amber-900/20 text-amber-500 border border-amber-500/30 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-500 text-white"}
                            disabled:opacity-50 disabled:cursor-not-allowed
                        `,children:[p.jsx(EC,{size:14})," xQueueReceive"]})]})]})})]})]})},bw=({activeLine:t,height:e,mode:i})=>{const o=k.useRef(null),a=i==="FRONT"?Tw:i==="RECEIVE"?Sw:vw;return k.useEffect(()=>{if(t!==null&&o.current){const r=document.getElementById(`q-line-${t}`);r&&r.scrollIntoView({behavior:"smooth",block:"center"})}},[t,i]),p.jsxs("div",{style:{height:e},className:"flex flex-col bg-[#0f172a] font-mono text-sm relative border-t border-slate-800 z-10",children:[p.jsxs("div",{className:"h-9 bg-[#1e293b] flex items-center border-b border-slate-700/50 shrink-0 select-none px-4 gap-2",children:[p.jsx(ps,{size:14,className:"text-sky-500"}),p.jsx("span",{className:"font-bold text-xs text-sky-400",children:"queue.c"}),p.jsx("span",{className:"text-[10px] text-slate-500 mx-2",children:"|"}),p.jsx("span",{className:`text-[10px] font-bold ${i==="FRONT"?"text-rose-400":i==="RECEIVE"?"text-emerald-400":"text-indigo-400"}`,children:i==="FRONT"?"xQueueSendToFront (Urgent)":i==="RECEIVE"?"xQueueReceive":"xQueueSendToBack (Standard)"})]}),p.jsx("div",{ref:o,className:"flex-1 overflow-y-auto custom-scrollbar p-2",children:a.map((r,c)=>{const f=t===r.line;return p.jsxs("div",{id:`q-line-${r.line}`,className:`flex ${f?"bg-sky-900/20 -mx-2 px-2":""}`,children:[p.jsx("div",{className:`w-8 text-right pr-3 select-none shrink-0 text-[10px] ${f?"text-sky-500 font-bold":"text-slate-600"}`,children:r.line}),p.jsx("div",{className:"flex-1 whitespace-pre truncate text-xs leading-5",children:r.type==="comment"?p.jsx("span",{className:"text-emerald-600 italic",children:r.text}):r.type==="keyword"?p.jsx("span",{className:"text-purple-400",children:r.text}):r.type==="func"?p.jsx("span",{className:"text-yellow-200",children:r.text}):r.type==="call"?p.jsx("span",{className:"text-sky-300",children:r.text}):r.type==="macro"?p.jsx("span",{className:"text-amber-300",children:r.text}):r.type==="code"?p.jsx("span",{className:"text-slate-200 font-bold",children:r.text}):p.jsx("span",{className:"text-slate-300",children:r.text})})]},c)})})]})},Zs=({label:t,value:e,color:i="text-slate-400"})=>p.jsxs("div",{className:"flex justify-between items-center text-xs py-1 border-b border-slate-800/50 last:border-0",children:[p.jsx("span",{className:"text-slate-500 font-bold",children:t}),p.jsx("span",{className:`font-mono ${i}`,children:e})]}),Cw=({queue:t,writeIndex:e,readIndex:i,messagesWaiting:o,queueSize:a,width:r,blockedSenders:c,blockedReceivers:f})=>p.jsxs("div",{style:{width:r},className:"bg-slate-900 border-l border-slate-800 flex flex-col shrink-0 text-slate-300 h-full",children:[p.jsxs("div",{className:"h-8 bg-slate-900 px-4 flex items-center gap-2 text-xs font-bold text-slate-400 border-b border-slate-800 shadow-sm shrink-0",children:[p.jsx(go,{size:14,className:"text-emerald-500"}),p.jsx("span",{children:"QUEUE INSPECTOR"})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-2",children:[p.jsx("div",{className:"bg-slate-950/50 rounded-lg border border-slate-800/50 overflow-hidden",children:p.jsx(un,{title:"Queue Definition (Queue_t)",children:p.jsxs("div",{className:"px-1",children:[p.jsx(Zs,{label:"uxMessagesWaiting",value:o,color:o>0?"text-emerald-400":"text-slate-500"}),p.jsx(Zs,{label:"uxLength",value:a}),p.jsx(Zs,{label:"pcWriteTo",value:`Buffer[${e}]`,color:"text-indigo-300"}),p.jsx(Zs,{label:"u.pcReadFrom",value:`Buffer[${i}]`,color:"text-emerald-300"}),p.jsx(Zs,{label:"xRxLock",value:"queueUNLOCKED"}),p.jsx(Zs,{label:"xTxLock",value:"queueUNLOCKED"})]})})}),p.jsx("div",{className:"bg-slate-950/50 rounded-lg border border-slate-800/50 overflow-hidden",children:p.jsx(un,{title:"Event Lists (Blocking)",children:p.jsxs("div",{className:"px-1",children:[p.jsxs("div",{className:"mb-2",children:[p.jsxs("div",{className:"text-[10px] text-slate-500 uppercase font-bold mb-1 flex justify-between",children:[p.jsx("span",{children:"xTasksWaitingToSend"}),p.jsx("span",{className:"text-slate-600",children:c.length})]}),c.length>0?p.jsx("div",{className:"flex flex-col gap-1",children:c.map((g,h)=>p.jsxs("div",{className:"text-xs text-rose-300 bg-rose-900/10 border border-rose-500/20 p-1 rounded flex items-center gap-2",children:[p.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-rose-500"})," ",g]},h))}):p.jsx("div",{className:"text-[10px] text-slate-600 italic pl-2",children:"List Empty"})]}),p.jsx("div",{className:"border-t border-slate-800/50 my-2"}),p.jsxs("div",{children:[p.jsxs("div",{className:"text-[10px] text-slate-500 uppercase font-bold mb-1 flex justify-between",children:[p.jsx("span",{children:"xTasksWaitingToReceive"}),p.jsx("span",{className:"text-slate-600",children:f.length})]}),f.length>0?p.jsx("div",{className:"flex flex-col gap-1",children:f.map((g,h)=>p.jsxs("div",{className:"text-xs text-amber-300 bg-amber-900/10 border border-amber-500/20 p-1 rounded flex items-center gap-2",children:[p.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500"})," ",g]},h))}):p.jsx("div",{className:"text-[10px] text-slate-600 italic pl-2",children:"List Empty"})]})]})})}),p.jsx("div",{className:"bg-slate-900/50 rounded-lg border border-slate-800/50 overflow-hidden",children:p.jsx(un,{title:"Buffer Storage Area",children:p.jsx("div",{className:"grid grid-cols-5 gap-1 p-1",children:t.map((g,h)=>p.jsx("div",{className:`
                            h-8 rounded flex items-center justify-center text-[10px] font-mono border
                            ${g!==null?g.type==="URGENT"?"bg-rose-900/30 border-rose-500/50 text-rose-300":"bg-indigo-900/30 border-indigo-500/50 text-indigo-300":"bg-slate-900 border-slate-800 text-slate-600"}
                        `,children:g!==null?g.value:"00"},h))})})}),p.jsx("div",{className:"bg-slate-900/50 rounded-lg border border-slate-800/50 overflow-hidden mt-2",children:p.jsx(un,{title:"Core Principles ()",children:p.jsxs("div",{className:"p-2 space-y-3 text-xs text-slate-400 leading-relaxed",children:[p.jsxs("div",{className:"flex gap-2 items-start",children:[p.jsx(Dv,{size:14,className:"text-sky-500 shrink-0 mt-0.5"}),p.jsxs("div",{children:[p.jsx("strong",{className:"text-sky-400 block mb-0.5",children:"Ring Buffer ()"}),p.jsx("p",{children:" 0memmove O(1) "})]})]}),p.jsxs("div",{className:"flex gap-2 items-start",children:[p.jsx(pC,{size:14,className:"text-indigo-500 shrink-0 mt-0.5"}),p.jsxs("div",{children:[p.jsx("strong",{className:"text-indigo-400 block mb-0.5",children:"Copy by Value ()"}),p.jsxs("p",{children:["FreeRTOS ",p.jsx("b",{children:""}),""]})]})]}),p.jsxs("div",{className:"flex gap-2 items-start",children:[p.jsx(Rn,{size:14,className:"text-amber-500 shrink-0 mt-0.5"}),p.jsxs("div",{children:[p.jsx("strong",{className:"text-amber-400 block mb-0.5",children:"Blocking ()"}),p.jsxs("p",{children:[" ",p.jsx("code",{children:"xTasksWaiting..."}),"  CPU "]})]})]}),p.jsxs("div",{className:"flex gap-2 items-start",children:[p.jsx(wn,{size:14,className:"text-rose-500 shrink-0 mt-0.5"}),p.jsxs("div",{children:[p.jsx("strong",{className:"text-rose-400 block mb-0.5",children:"Urgent Data ()"}),p.jsxs("p",{children:[p.jsx("code",{children:"SendToFront"}),"  LIFO ",p.jsx("code",{children:"pcReadFrom"}),"  ",p.jsx("code",{children:"Receive"})," "]})]})]})]})})})]})]}),_w=()=>{const[t,e]=k.useState(Array(Zn).fill(null)),[i,o]=k.useState(0),[a,r]=k.useState(Zn-1),[c,f]=k.useState(0),[g,h]=k.useState("IDLE"),[x,T]=k.useState(null),[S,b]=k.useState([]),[_,N]=k.useState([]),[A,w]=k.useState(300),[U,D]=k.useState(250),G=O=>new Promise(j=>setTimeout(j,O)),Y=async O=>{if(g!=="IDLE")return;const j=O?"ISR (Urgent)":"SensorTask";if(c>=Zn){h(O?"SEND_URGENT":"SEND_NORMAL"),T(6),await G(400),T(19),b(q=>[...q,j]),setTimeout(()=>{b(q=>q.filter(W=>W!==j))},3e3),h("IDLE"),T(null);return}h(O?"SEND_URGENT":"SEND_NORMAL"),T(6),await G(400),T(9),await G(500),e(q=>{const W=[...q],le=Math.floor(Math.random()*99)+1;if(O){let de=a-1;return de<0&&(de=Zn-1),W[de]={value:le,type:"URGENT"},W}else return W[i]={value:le,type:"NORMAL"},W}),O?r(q=>{let W=q-1;return W<0?Zn-1:W}):o(q=>(q+1)%Zn),await G(200),T(10),f(q=>q+1),_.length>0&&(T(13),N(q=>q.slice(1)),await G(200)),h("IDLE"),T(null)},X=async()=>{if(g!=="IDLE")return;if(c===0){h("RECEIVE"),T(6),await G(400),T(20),N(j=>[...j,"ConsumerTask"]),setTimeout(()=>{N(j=>j.filter(q=>q!=="ConsumerTask"))},3e3),h("IDLE"),T(null);return}h("RECEIVE"),T(6),await G(400),T(9),await G(500);const O=(a+1)%Zn;e(j=>{const q=[...j];return q[O]=null,q}),r(O),await G(200),T(11),f(j=>j-1),S.length>0&&(T(14),b(j=>j.slice(1)),await G(200)),h("IDLE"),T(null)};return p.jsxs("div",{className:"h-full w-full bg-slate-950 flex flex-col md:flex-row overflow-hidden",children:[p.jsxs("div",{className:"flex-1 flex flex-col min-w-0",style:{height:"100%"},children:[p.jsx(Ew,{queue:t,writeIndex:i,readIndex:a,messagesWaiting:c,operationState:g,blockedSenders:S,blockedReceivers:_,onSendNormal:()=>Y(!1),onSendUrgent:()=>Y(!0),onReceive:X}),p.jsx(fn,{orientation:"horizontal",onDrag:O=>D(j=>Math.min(Math.max(j-O,150),600))}),p.jsx(bw,{activeLine:x,height:U,mode:g==="SEND_URGENT"?"FRONT":g==="RECEIVE"?"RECEIVE":"SEND"})]}),p.jsx(fn,{orientation:"vertical",onDrag:O=>w(j=>Math.min(Math.max(j-O,220),450))}),p.jsx(Cw,{queue:t,writeIndex:i,readIndex:a,messagesWaiting:c,queueSize:Zn,width:A,blockedSenders:S,blockedReceivers:_})]})},Or=({onReset:t,onPrev:e,onNext:i,onFinish:o,isPlaying:a,onTogglePlay:r,canPrev:c=!0,canNext:f=!0,canFinish:g=!0,children:h})=>p.jsxs(pe.div,{drag:!0,dragMomentum:!1,initial:{x:"-50%",y:0},style:{left:"50%"},className:"absolute top-6 z-50 flex items-center bg-[#252526] p-1 rounded-md shadow-xl border border-[#1e1e1e] select-none backdrop-blur-md bg-opacity-90",children:[p.jsx("div",{className:"px-1.5 cursor-move flex items-center justify-center text-[#5c5c5c] hover:text-[#cccccc] transition-colors group",children:p.jsx(Ul,{size:14})}),p.jsx("div",{className:"h-5 w-[1px] bg-[#454545] mx-1"}),p.jsx("button",{onClick:t,className:"p-1.5 mx-0.5 rounded hover:bg-[#3e3e42] text-[#89d185] transition-colors",title:"Reset Simulation",children:p.jsx(s_,{size:18,strokeWidth:2.5})}),e&&p.jsx("button",{onClick:e,disabled:!c,className:`p-1.5 mx-0.5 rounded transition-colors ${c?"hover:bg-[#3e3e42] text-[#cccccc]":"opacity-30 cursor-not-allowed text-gray-500"}`,title:"Step Back",children:p.jsx(Cv,{size:18,strokeWidth:2.5})}),p.jsx("button",{onClick:r,disabled:!f&&!a,className:`p-1.5 mx-0.5 rounded transition-colors ${!f&&!a?"opacity-30 cursor-not-allowed text-gray-500":"hover:bg-[#3e3e42] text-[#dcdcaa]"}`,title:a?"Pause":"Auto Run",children:a?p.jsx(wv,{size:18,strokeWidth:2.5}):p.jsx(Mv,{size:18,strokeWidth:2.5})}),p.jsx("button",{onClick:i,disabled:!f,className:`p-1.5 mx-0.5 rounded transition-colors ${f?"hover:bg-[#3e3e42] text-[#569cd6]":"opacity-30 cursor-not-allowed text-gray-500"}`,title:"Step Forward",children:p.jsx(Sf,{size:18,strokeWidth:2.5})}),o&&p.jsx("button",{onClick:o,disabled:!g,className:`p-1.5 mx-0.5 rounded transition-colors ${g?"hover:bg-[#3e3e42] text-[#569cd6]":"opacity-30 cursor-not-allowed text-gray-500"}`,title:"Skip to End",children:p.jsx(h_,{size:18,strokeWidth:2.5})}),h&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"h-5 w-[1px] bg-[#454545] mx-1"}),p.jsx("div",{className:"px-2",children:h})]})]}),Nw=({tickCount:t,tasks:e,currentTaskId:i,isRunning:o,onToggleRun:a,onStepTick:r,onReset:c,statusLog:f,isCritical:g,pendingInterrupt:h,isExecutingISR:x,triggerInterrupt:T,isFastForwarding:S=!1})=>{const b=[4,3,2,1,0],_=e.filter(j=>j.state==="BLOCKED"),N=e.find(j=>j.id===i),A=j=>e.filter(q=>q.priority===j&&q.state==="READY").sort((q,W)=>q.insertOrder-W.insertOrder),w=k.useRef(null),U=k.useRef(null),D=k.useRef(null),[G,Y]=k.useState(""),[X,O]=k.useState(0);return k.useEffect(()=>{let j;return(o||S)&&(j=window.setInterval(()=>{O(q=>q+(S?2e5:72e3))},50)),()=>clearInterval(j)},[o,S]),k.useLayoutEffect(()=>{const j=()=>{if(w.current&&U.current&&D.current){const W=w.current.getBoundingClientRect(),le=U.current.getBoundingClientRect(),de=D.current.getBoundingClientRect(),ge=32,Pe=le.left+le.width/2,Oe=le.top+ge,H=Pe+ge-W.left,Q=Oe-W.top,ne=de.left+de.width/2-W.left,he=de.bottom-W.top,Ce=`M ${H} ${Q} L ${ne} ${Q} L ${ne} ${he}`;Y(Ce)}};j();const q=new ResizeObserver(j);return w.current&&q.observe(w.current),window.addEventListener("resize",j),()=>{window.removeEventListener("resize",j),q.disconnect()}},[]),p.jsxs("div",{ref:w,className:"flex-1 bg-slate-950 relative overflow-hidden flex flex-col font-sans select-none",children:[p.jsxs("div",{className:"absolute inset-0 z-0 pointer-events-none",children:[p.jsx("div",{className:"absolute inset-0 opacity-[0.05]",style:{backgroundImage:"linear-gradient(#4f46e5 1px, transparent 1px), linear-gradient(90deg, #4f46e5 1px, transparent 1px)",backgroundSize:"40px 40px"}}),p.jsxs("svg",{className:"absolute inset-0 w-full h-full overflow-visible",children:[p.jsxs("defs",{children:[p.jsxs("filter",{id:"glow",children:[p.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),p.jsxs("feMerge",{children:[p.jsx("feMergeNode",{in:"coloredBlur"}),p.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),p.jsx("marker",{id:"arrow-head",markerWidth:"10",markerHeight:"10",refX:"9",refY:"3",orient:"auto",children:p.jsx("path",{d:"M0,0 L0,6 L9,3 z",fill:"#ef4444"})})]}),G&&p.jsxs(p.Fragment,{children:[p.jsx("path",{d:G,fill:"none",stroke:h||x?"#ef4444":"#334155",strokeWidth:"3",strokeDasharray:h?"8 4":"0",markerEnd:"url(#arrow-head)"}),h&&p.jsx(pe.circle,{r:"4",fill:"#ef4444",filter:"url(#glow)",children:p.jsx("animateMotion",{dur:"0.5s",repeatCount:"indefinite",path:G})})]})]})]}),p.jsx(Or,{isPlaying:o,onTogglePlay:a,onNext:r,onReset:()=>{c(),O(0)},canPrev:!1,canNext:!0,canFinish:!1}),p.jsxs("div",{className:"absolute top-6 left-6 z-40 flex flex-col gap-2",children:[p.jsxs(pe.div,{initial:{scale:1.1,borderColor:"#38bdf8"},animate:{scale:1,borderColor:S?"#fbbf24":"rgba(51, 65, 85, 0.5)"},className:`bg-slate-900/90 backdrop-blur-md border border-slate-700/50 rounded-xl px-5 py-3 shadow-[0_0_30px_rgba(0,0,0,0.5)] flex items-center gap-4 group transition-colors ${S?"border-amber-500/50 shadow-amber-500/10":"hover:border-sky-500/30"}`,children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:`absolute inset-0 bg-sky-500 rounded-full blur-md opacity-20 group-hover:opacity-40 transition-opacity ${o?"animate-pulse":""}`}),p.jsx("div",{className:"bg-slate-800 p-2 rounded-lg border border-slate-700 relative text-sky-400",children:p.jsx(v_,{size:20,className:o?"animate-[spin_3s_linear_infinite]":""})})]}),p.jsxs("div",{className:"flex flex-col min-w-[140px]",children:[p.jsxs("span",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider mb-0.5 flex items-center justify-between",children:["System Tick",S&&p.jsxs("span",{className:"flex items-center gap-1 text-amber-500",children:[p.jsx(Sg,{size:10,className:"animate-pulse"})," x10"]}),o&&!S&&p.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"})]}),p.jsxs("div",{className:"flex items-baseline gap-2",children:[p.jsx("span",{className:`font-mono font-bold text-2xl leading-none tracking-tight ${S?"text-amber-400":"text-white"}`,children:t}),p.jsx("div",{className:"flex flex-col items-start",children:p.jsx("span",{className:"text-[9px] text-slate-600 font-mono",children:"xTickCount"})})]}),p.jsx("div",{className:"text-[9px] text-slate-500 font-mono mt-1 border-t border-slate-800 pt-1",children:"configTICK_RATE_HZ = 1000"})]})]},t),p.jsxs("div",{className:"bg-slate-900/80 backdrop-blur border border-slate-800 rounded-lg px-4 py-2 flex items-center gap-3 opacity-80 hover:opacity-100 transition-opacity",children:[p.jsx("div",{className:"bg-slate-900 p-1.5 rounded border border-slate-800",children:p.jsx(HC,{size:14,className:"text-slate-500"})}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-[9px] text-slate-500 uppercase font-bold tracking-wider",children:"CPU Cycles (72MHz)"}),p.jsx("span",{className:"font-mono text-xs text-slate-400",children:X.toLocaleString()})]})]})]}),p.jsxs("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 bg-slate-900/95 backdrop-blur-md border border-slate-700 px-6 py-2.5 rounded-full shadow-2xl z-50 flex items-center gap-3 w-max max-w-xl",children:[p.jsx("div",{className:`p-1.5 rounded-full transition-colors ${S?"bg-amber-500/10":"bg-sky-500/10"}`,children:S?p.jsx(Sg,{size:14,className:"text-amber-400"}):p.jsx(Pl,{size:14,className:"text-sky-400"})}),p.jsx("span",{className:`text-xs font-mono truncate min-w-[300px] text-center ${S?"text-amber-300 font-bold":"text-slate-200"}`,children:S?"Skipping Idle Ticks (Low Power Mode)...":f}),p.jsxs("div",{className:"flex gap-1",children:[p.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-700 animate-[bounce_1s_infinite]"}),p.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-700 animate-[bounce_1s_infinite_0.2s]"}),p.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-700 animate-[bounce_1s_infinite_0.4s]"})]})]}),p.jsxs("div",{ref:U,className:"absolute bottom-12 left-12 z-40 flex flex-col items-center group",children:[p.jsx("div",{className:"absolute -top-12 opacity-0 group-hover:opacity-100 transition-opacity bg-slate-800 text-slate-200 text-xs px-2 py-1 rounded mb-2 border border-slate-700 pointer-events-none whitespace-nowrap",children:"Click to Trigger Hardware Interrupt"}),p.jsx("button",{onClick:T,disabled:x||h,className:`
                    w-16 h-16 rounded-full border-4 shadow-[0_0_30px_rgba(239,68,68,0.3)]
                    flex items-center justify-center transition-all duration-100 active:scale-95
                    ${x||h?"bg-red-900/50 border-red-900 text-red-700 cursor-not-allowed":"bg-red-600 hover:bg-red-500 border-red-800 text-white hover:scale-105 cursor-pointer"}
                `,children:p.jsx(wn,{size:28,fill:"currentColor",className:h?"animate-ping":""})}),p.jsxs("div",{className:"mt-2 text-center bg-slate-900/80 backdrop-blur px-3 py-1 rounded-full border border-slate-800",children:[p.jsx("div",{className:"text-xs font-bold text-red-500",children:"EXTI Line 0"}),p.jsx("div",{className:"text-[9px] text-slate-500 uppercase tracking-widest",children:"Hardware IRQ"})]})]}),p.jsxs("div",{className:"flex-1 flex items-center justify-center p-8 gap-16 relative z-10 w-full max-w-[1400px] mx-auto",children:[p.jsxs("div",{className:"flex flex-col gap-3 w-[420px]",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx("div",{className:"p-1.5 bg-indigo-500/10 rounded border border-indigo-500/20",children:p.jsx(wn,{size:14,className:"text-indigo-400"})}),p.jsxs("div",{children:[p.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest block",children:"pxReadyTasksLists"}),p.jsx("span",{className:"text-[9px] text-slate-500",children:"Array of Linked Lists"})]})]}),b.map(j=>{const q=A(j),W=q.length>0;return p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("div",{className:`w-14 text-right text-[10px] font-mono shrink-0 ${W?"text-slate-300 font-bold":"text-slate-600"}`,children:["PRI ",j]}),p.jsxs("div",{className:`
                                flex-1 flex items-center bg-[#13141f] border rounded-lg p-1.5 h-14 relative shadow-inner overflow-hidden
                                ${W?"border-slate-700":"border-slate-800/50"}
                            `,children:[p.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-slate-800/50 border-r border-slate-700/50 flex items-center justify-center",children:p.jsx("div",{className:"w-[2px] h-full bg-slate-600/20"})}),p.jsxs("div",{className:"flex items-center gap-1 pl-2 w-full overflow-hidden",children:[p.jsx(ei,{mode:"popLayout",children:q.map((le,de)=>p.jsxs(pe.div,{layoutId:`task-node-${le.id}`,initial:{opacity:0,scale:.8,x:-20},animate:{opacity:1,scale:1,x:0},exit:{opacity:0,scale:.8,x:20},className:"flex items-center",children:[p.jsxs("div",{className:`
                                                    relative w-24 h-10 rounded-md ${le.color} border border-white/10 flex items-center justify-between px-2 shadow-lg
                                                    ${le.id===i?"ring-2 ring-white/50":""}
                                                `,children:[p.jsx("span",{className:"text-[10px] font-bold text-white truncate w-14",children:le.name}),p.jsxs("span",{className:"text-[9px] font-mono text-white/70 opacity-50",children:["#",le.id]}),le.id===i&&p.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 rounded-full bg-emerald-400 shadow-lg shadow-emerald-400/50"})]}),p.jsx("div",{className:"text-slate-600 mx-1",children:p.jsx(Sf,{size:12})})]},le.id))}),p.jsx("div",{className:"text-[9px] text-slate-700 italic font-mono opacity-50",children:"NULL"})]})]})]},j)})]}),p.jsxs("div",{className:"flex flex-col items-center justify-center relative",children:[p.jsx(ei,{children:g&&p.jsxs(pe.div,{initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1.2},exit:{opacity:0,scale:1.1},className:"absolute inset-0 z-30 pointer-events-none flex items-center justify-center",children:[p.jsx("div",{className:"w-72 h-72 rounded-full border-2 border-yellow-500/50 bg-yellow-500/5 shadow-[0_0_50px_rgba(234,179,8,0.2)] animate-pulse"}),p.jsxs("div",{className:"absolute -top-8 bg-yellow-900/80 text-yellow-400 px-3 py-1 rounded-full text-xs font-bold border border-yellow-500/50 flex items-center gap-2",children:[p.jsx(Pr,{size:14})," INTERRUPTS MASKED"]})]})}),p.jsxs("div",{ref:D,className:`w-64 h-64 bg-slate-900 rounded-3xl border-2 transition-colors duration-300 relative shadow-2xl overflow-hidden flex flex-col z-20 ${x?"border-red-500 shadow-red-900/20":g?"border-yellow-600":"border-slate-700"}`,children:[p.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"radial-gradient(#64748b 1px, transparent 1px)",backgroundSize:"8px 8px"}}),p.jsxs("div",{className:`h-10 border-b flex items-center justify-between px-4 z-10 ${x?"bg-red-900/20 border-red-900":"bg-slate-800 border-slate-700"}`,children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(cs,{size:14,className:"text-slate-400"}),p.jsx("span",{className:"text-[10px] font-bold text-slate-300 tracking-widest",children:"CORTEX-M3"})]}),x&&p.jsx("span",{className:"text-[9px] font-bold text-red-500 animate-pulse",children:"ISR ACTIVE"})]}),p.jsxs("div",{className:"flex-1 p-4 relative flex flex-col items-center justify-center",children:[p.jsx("div",{className:`absolute inset-0 transition-opacity duration-300 ${N?"opacity-10":"opacity-0"} ${(N==null?void 0:N.color.replace("bg-","bg-"))||""}`}),p.jsx("div",{className:"w-full h-full border border-dashed border-slate-700 rounded-xl flex items-center justify-center relative bg-black/20",children:p.jsx(ei,{mode:"wait",children:x?p.jsxs(pe.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"w-full h-full rounded-xl bg-red-600 flex flex-col items-center justify-center text-white border border-red-400 shadow-lg",children:[p.jsx(wn,{size:32,fill:"white",className:"mb-2"}),p.jsx("span",{className:"text-sm font-bold",children:"EXTI0_IRQHandler"}),p.jsx("span",{className:"text-[9px] mt-1 bg-black/20 px-2 rounded",children:"Hardware Context"})]},"isr"):N?p.jsxs(pe.div,{layoutId:`task-${N.id}`,className:`
                                                w-full h-full rounded-xl ${N.color} 
                                                flex flex-col items-center justify-center text-white 
                                                shadow-[inset_0_0_20px_rgba(0,0,0,0.2)] border border-white/20
                                            `,children:[p.jsx("span",{className:"text-3xl mb-2",children:p.jsx(cs,{size:32,strokeWidth:1.5})}),p.jsx("span",{className:"text-sm font-bold tracking-wider",children:N.name}),g&&p.jsx(pe.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-2 right-2 bg-yellow-400 text-black p-1 rounded-full",children:p.jsx(f_,{size:12})})]},N.id):p.jsxs(pe.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center text-slate-600",children:[p.jsx(ds,{size:24,className:"mb-2 opacity-50"}),p.jsx("span",{className:"text-[10px] font-mono uppercase",children:"System / Context Switch"})]},"idle")})})]}),p.jsx("div",{className:"h-8 bg-[#0a0a0a] border-t border-slate-800 flex items-center px-2 gap-1 overflow-hidden",children:Array.from({length:8}).map((j,q)=>p.jsx("div",{className:"flex-1 h-3 bg-slate-800 rounded-sm relative overflow-hidden",children:(N||x)&&p.jsx(pe.div,{className:`absolute inset-0 ${x?"bg-red-500/50":"bg-emerald-500/50"}`,animate:{opacity:[.2,.8,.2]},transition:{duration:.2,repeat:1/0,delay:q*.05}})},q))})]}),p.jsx(ei,{children:h&&g&&p.jsxs(pe.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},exit:{opacity:0},className:"absolute -top-16 bg-red-500 text-white text-[10px] font-bold px-3 py-1.5 rounded-lg shadow-lg flex items-center gap-2",children:[p.jsx(bv,{size:14})," ISR PENDING (BLOCKED)"]})})]}),p.jsxs("div",{className:"flex flex-col gap-4 w-72",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2 justify-end",children:[p.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Blocked / Delayed"}),p.jsx("div",{className:"p-1.5 bg-amber-500/10 rounded border border-amber-500/20",children:p.jsx(ho,{size:14,className:"text-amber-400"})})]}),p.jsxs("div",{className:"bg-[#13141f] border border-slate-800 rounded-xl p-4 min-h-[300px] relative shadow-inner flex flex-col gap-3",children:[_.map((j,q)=>p.jsxs(pe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"relative h-12 rounded-lg bg-slate-800/80 border border-slate-700 flex items-center justify-between px-3 overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-amber-500/5",style:{width:"100%"}}),p.jsxs("div",{className:"flex items-center gap-2 z-10",children:[p.jsx(ho,{size:12,className:"text-slate-500"}),p.jsx("span",{className:"text-xs text-slate-300 font-bold",children:j.name})]}),p.jsxs("div",{className:"z-10 flex flex-col items-end",children:[p.jsx("span",{className:"text-[9px] text-slate-500 uppercase",children:"Wake @"}),p.jsx("span",{className:`text-xs font-mono font-bold ${j.wakeTick<=t?"text-emerald-400 animate-pulse":"text-amber-500"}`,children:j.wakeTick})]})]},j.id)),_.length===0&&p.jsx("div",{className:"text-center text-xs text-slate-600 mt-10",children:"No Blocked Tasks"})]})]})]})]})},Aw=[{line:1,text:"/* tasks.c - FreeRTOS Kernel Core */",type:"comment"},{line:2,text:"",type:"plain"},{line:3,text:"BaseType_t xTaskIncrementTick( void )",type:"func"},{line:4,text:"{",type:"plain"},{line:5,text:"    /* 1. Update System Time */",type:"comment"},{line:6,text:"    const TickType_t xConstTickCount = xTickCount + 1;",type:"code"},{line:7,text:"    xTickCount = xConstTickCount;",type:"code"},{line:8,text:"",type:"plain"},{line:9,text:"    /* 2. Check Blocked/Delayed Lists */",type:"comment"},{line:10,text:"    if( xConstTickCount >= xNextTaskUnblockTime )",type:"keyword"},{line:11,text:"    {",type:"plain"},{line:12,text:"        for( ;; ) {",type:"keyword"},{line:13,text:"            if( listLIST_IS_EMPTY( pxDelayedTaskList ) ) break;",type:"code"},{line:14,text:"            /* Remove from blocked, add to ready */",type:"comment"},{line:15,text:"            uxListRemove( &( pxTCB->xStateListItem ) );",type:"call"},{line:16,text:"            prvAddTaskToReadyList( pxTCB );",type:"call"},{line:17,text:"            xSwitchRequired = pdTRUE;",type:"code"},{line:18,text:"        }",type:"plain"},{line:19,text:"    }",type:"plain"},{line:20,text:"    return xSwitchRequired;",type:"keyword"},{line:21,text:"}",type:"plain"},{line:22,text:"",type:"plain"},{line:23,text:"void vTaskSwitchContext( void )",type:"func"},{line:24,text:"{",type:"plain"},{line:25,text:"    if( uxSchedulerSuspended != ( UBaseType_t ) pdFALSE )",type:"keyword"},{line:26,text:"    {",type:"plain"},{line:27,text:"        xYieldPending = pdTRUE;",type:"code"},{line:28,text:"    }",type:"plain"},{line:29,text:"    else",type:"keyword"},{line:30,text:"    {",type:"plain"},{line:31,text:"        xYieldPending = pdFALSE;",type:"code"},{line:32,text:"        /* Select Highest Priority Task */",type:"comment"},{line:33,text:"        taskSELECT_HIGHEST_PRIORITY_TASK();",type:"macro"},{line:34,text:"    }",type:"plain"},{line:35,text:"}",type:"plain"},{line:36,text:"",type:"plain"},{line:37,text:"/* Idle Task - Runs when no other task is READY */",type:"comment"},{line:38,text:"void prvIdleTask( void *pvParameters )",type:"func"},{line:39,text:"{",type:"plain"},{line:40,text:"    for( ;; ) {",type:"keyword"},{line:41,text:"        /* Wait For Interrupt (Low Power) */",type:"comment"},{line:42,text:"        prvCheckTasksWaitingTermination();",type:"call"},{line:43,text:"    }",type:"plain"},{line:44,text:"}",type:"plain"}],Rw=[{line:1,text:"/* port.c - Cortex-M3 Hardware Port */",type:"comment"},{line:2,text:"void SysTick_Handler( void )",type:"func"},{line:3,text:"{",type:"plain"},{line:4,text:"    /* The SysTick runs at the lowest interrupt priority */",type:"comment"},{line:5,text:"    portDISABLE_INTERRUPTS();",type:"macro"},{line:6,text:"    {",type:"plain"},{line:7,text:"        /* Increment Tick & Check Delays */",type:"comment"},{line:8,text:"        if( xTaskIncrementTick() != pdFALSE )",type:"keyword"},{line:9,text:"        {",type:"plain"},{line:10,text:"            /* Context Switch Required */",type:"comment"},{line:11,text:"            portNVIC_INT_CTRL_REG = portNVIC_PENDSVSET_BIT;",type:"code"},{line:12,text:"        }",type:"plain"},{line:13,text:"    }",type:"plain"},{line:14,text:"    portENABLE_INTERRUPTS();",type:"macro"},{line:15,text:"}",type:"plain"}],ww=t=>[{line:1,text:"void vLEDTask( void *pvParameters )",type:"func"},{line:2,text:"{",type:"plain"},{line:3,text:"    for( ;; )",type:"keyword"},{line:4,text:"    {",type:"plain"},{line:5,text:"        // 1. Toggle LED (Atomic-ish)",type:"comment"},{line:6,text:"        HAL_GPIO_TogglePin(LED_Port, LED_Pin);",type:"call"},{line:7,text:"        ",type:"plain"},{line:8,text:"        // 2. Simulate Workload",type:"comment"},{line:9,text:"        for(int i=0; i<500; i++) __NOP();",type:"code"},{line:10,text:"        ",type:"plain"},{line:11,text:`        // 3. Block for ${t} ticks`,type:"comment"},{line:12,text:`        vTaskDelay( ${t} );`,type:"call"},{line:13,text:"    }",type:"plain"},{line:14,text:"}",type:"plain"}],Mw=t=>[{line:1,text:"void vUARTTask( void *pvParameters )",type:"func"},{line:2,text:"{",type:"plain"},{line:3,text:"    for( ;; )",type:"keyword"},{line:4,text:"    {",type:"plain"},{line:5,text:"        // Critical: printf is non-reentrant!",type:"comment"},{line:6,text:"        taskENTER_CRITICAL();",type:"macro"},{line:7,text:"        {",type:"plain"},{line:8,text:'             printf("Tick: %d\\n", xTickCount);',type:"call"},{line:9,text:"        }",type:"plain"},{line:10,text:"        taskEXIT_CRITICAL();",type:"macro"},{line:11,text:"",type:"plain"},{line:12,text:`        vTaskDelay( ${t} );`,type:"call"},{line:13,text:"    }",type:"plain"},{line:14,text:"}",type:"plain"}],Iw=[{line:1,text:"void EXTI0_IRQHandler( void )",type:"func"},{line:2,text:"{",type:"plain"},{line:3,text:"    // Hardware Interrupt Entry",type:"comment"},{line:4,text:"    BaseType_t xHigherPriorityTaskWoken = pdFALSE;",type:"plain"},{line:5,text:"",type:"plain"},{line:6,text:"    // 1. Clear Interrupt Flag",type:"comment"},{line:7,text:"    __HAL_GPIO_EXTI_CLEAR_IT(GPIO_PIN_0);",type:"call"},{line:8,text:"",type:"plain"},{line:9,text:"    // 2. Notify System / Context Switch",type:"comment"},{line:10,text:"    portYIELD_FROM_ISR( xHigherPriorityTaskWoken );",type:"macro"},{line:11,text:"}",type:"plain"}],Dw=({activeTabOverride:t,activeLine:e,height:i,uartLog:o})=>{const[a,r]=k.useState("port"),c=k.useRef(null),f=k.useRef(null);k.useEffect(()=>{t&&r(t)},[t]),k.useEffect(()=>{a==="log"&&f.current&&f.current.scrollIntoView({behavior:"smooth"})},[o,a]),k.useEffect(()=>{if(e!==null&&c.current&&a!=="log"){const h=document.getElementById(`sch-line-${e}`);h&&h.scrollIntoView({behavior:"smooth",block:"center"})}},[e,a]);const g=()=>{switch(a){case"port":return Rw;case"kernel":return Aw;case"led":return ww(4);case"uart":return Mw(2);case"isr":return Iw;default:return[]}};return p.jsxs("div",{style:{height:i},className:"flex flex-col bg-[#0f172a] font-mono text-sm relative border-t border-slate-800 z-10 transition-all",children:[p.jsxs("div",{className:"h-9 bg-[#1e293b] flex items-center border-b border-slate-700/50 shrink-0 select-none overflow-x-auto custom-scrollbar",children:[p.jsxs("button",{onClick:()=>r("port"),className:`flex items-center gap-2 px-4 h-full border-r border-slate-700/50 transition-colors hover:bg-slate-800 ${a==="port"?"bg-slate-800 text-orange-400":"text-slate-500"}`,children:[p.jsx(u_,{size:14,className:a==="port"?"text-orange-500":"text-slate-500"}),p.jsx("span",{className:"font-bold text-xs whitespace-nowrap",children:"port.c"})]}),p.jsxs("button",{onClick:()=>r("kernel"),className:`flex items-center gap-2 px-4 h-full border-r border-slate-700/50 transition-colors hover:bg-slate-800 ${a==="kernel"?"bg-slate-800 text-yellow-400":"text-slate-500"}`,children:[p.jsx(ds,{size:14,className:a==="kernel"?"text-yellow-500":"text-slate-500"}),p.jsx("span",{className:"font-bold text-xs whitespace-nowrap",children:"tasks.c"})]}),p.jsxs("button",{onClick:()=>r("led"),className:`flex items-center gap-2 px-4 h-full border-r border-slate-700/50 transition-colors hover:bg-slate-800 ${a==="led"?"bg-slate-800 text-rose-400":"text-slate-500"}`,children:[p.jsx(wC,{size:14,className:a==="led"?"text-rose-500":"text-slate-500"}),p.jsx("span",{className:"font-bold text-xs whitespace-nowrap",children:"led_task.c"})]}),p.jsxs("button",{onClick:()=>r("uart"),className:`flex items-center gap-2 px-4 h-full border-r border-slate-700/50 transition-colors hover:bg-slate-800 ${a==="uart"?"bg-slate-800 text-indigo-400":"text-slate-500"}`,children:[p.jsx(ps,{size:14,className:a==="uart"?"text-indigo-500":"text-slate-500"}),p.jsx("span",{className:"font-bold text-xs whitespace-nowrap",children:"uart_task.c"})]}),p.jsxs("button",{onClick:()=>r("isr"),className:`flex items-center gap-2 px-4 h-full border-r border-slate-700/50 transition-colors hover:bg-slate-800 ${a==="isr"?"bg-slate-800 text-red-400":"text-slate-500"}`,children:[p.jsx(wn,{size:14,className:a==="isr"?"text-red-500":"text-slate-500"}),p.jsx("span",{className:"font-bold text-xs whitespace-nowrap",children:"stm32_it.c"})]}),p.jsxs("button",{onClick:()=>r("log"),className:`flex items-center gap-2 px-4 h-full border-l border-slate-700/50 ml-auto transition-colors hover:bg-slate-800 ${a==="log"?"bg-slate-800 text-emerald-400":"text-slate-500"}`,children:[p.jsx(Pl,{size:14,className:a==="log"?"text-emerald-500":"text-slate-500"}),p.jsx("span",{className:"font-bold text-xs whitespace-nowrap",children:"UART Out"}),o&&o.length>0&&a!=="log"&&p.jsx("span",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse ml-1"})]})]}),p.jsx("div",{ref:c,className:"flex-1 overflow-y-auto custom-scrollbar p-0 relative",children:a==="log"?p.jsxs("div",{className:"p-3 font-mono text-xs text-slate-300 whitespace-pre-wrap bg-black/20 min-h-full",children:[o||p.jsx("span",{className:"text-slate-600 italic",children:"// No output yet..."}),p.jsx("div",{ref:f})]}):p.jsx("div",{className:"p-2",children:g().map((h,x)=>{const T=e===h.line;return p.jsxs("div",{id:`sch-line-${h.line}`,className:`flex group ${T?"bg-sky-900/20 -mx-2 px-2":""}`,children:[p.jsx("div",{className:"w-8 text-right pr-3 select-none shrink-0 text-[10px] flex items-center justify-end",children:p.jsx("span",{className:`${T?"text-sky-500 font-bold":"text-slate-600 group-hover:text-slate-400"}`,children:h.line})}),p.jsx("div",{className:"flex-1 whitespace-pre truncate text-xs leading-5",children:h.type==="comment"?p.jsx("span",{className:"text-emerald-600 italic",children:h.text}):h.type==="keyword"?p.jsx("span",{className:"text-purple-400",children:h.text}):h.type==="func"?p.jsx("span",{className:"text-yellow-200",children:h.text}):h.type==="call"?p.jsx("span",{className:"text-sky-300",children:h.text}):h.type==="macro"?p.jsx("span",{className:"text-amber-300",children:h.text}):h.type==="code"?p.jsx("span",{className:"text-slate-200 font-bold",children:h.text}):p.jsx("span",{className:"text-slate-300",children:h.text})})]},x)})})})]})},ur=({label:t,value:e,color:i="text-slate-400",animate:o=!1})=>p.jsxs("div",{className:"flex justify-between items-center text-xs py-1 border-b border-slate-800/50 last:border-0",children:[p.jsx("span",{className:"text-slate-500 font-bold",children:t}),p.jsx("span",{className:`font-mono ${i} ${o?"animate-pulse":""}`,children:e})]}),cr=({item:t,children:e})=>{const i=ep();return p.jsx(np,{value:t,dragListener:!1,dragControls:i,className:"relative",children:p.jsx(un,{title:t==="stats"?"System Status":t==="config"?"Configuration":t==="principles"?"Scheduling Principles":"Ready Lists Inspection",prefix:p.jsx("div",{onPointerDown:o=>i.start(o),children:p.jsx(Ul,{size:14})}),children:e})})},kw=({tickCount:t,currentTaskId:e,tasks:i,width:o,criticalNesting:a,pendingInterrupt:r,isExecutingISR:c,onPriorityChange:f,timeSliceScale:g,onTimeSliceChange:h,simulationSpeed:x=800,onSpeedChange:T})=>{var A;const[S,b]=k.useState(["config","stats","lists","principles"]),_=c?"ISR (Hardware)":((A=i.find(w=>w.id===e))==null?void 0:A.name)||"Switching...",N=[0,1,2,3,4].map(w=>i.filter(U=>U.priority===w&&U.state==="READY").length);return p.jsxs("div",{style:{width:o},className:"bg-slate-900 border-l border-slate-800 flex flex-col shrink-0 text-slate-300 h-full",children:[p.jsxs("div",{className:"h-8 bg-slate-900 px-4 flex items-center gap-2 text-xs font-bold text-slate-400 border-b border-slate-800 shadow-sm shrink-0",children:[p.jsx(go,{size:14,className:"text-emerald-500"}),p.jsx("span",{children:"SCHEDULER INSPECTOR"})]}),p.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2",children:p.jsx(tp,{axis:"y",values:S,onReorder:b,className:"space-y-2",children:S.map(w=>w==="config"?p.jsx(cr,{item:w,children:p.jsxs("div",{className:"px-1 py-1 space-y-4",children:[i.filter(U=>U.id!==0).map(U=>p.jsxs("div",{className:"space-y-1",children:[p.jsxs("div",{className:"flex justify-between text-[10px] uppercase font-bold text-slate-500",children:[p.jsxs("span",{children:[U.name," Priority"]}),p.jsx("span",{className:"text-sky-400",children:U.priority})]}),p.jsx("input",{type:"range",min:"0",max:"4",value:U.priority,onChange:D=>f(U.id,parseInt(D.target.value)),className:"w-full h-1.5 bg-slate-800 rounded-lg appearance-none cursor-pointer accent-sky-500 hover:accent-sky-400"})]},U.id)),p.jsx("div",{className:"border-t border-slate-800/50 my-2"}),T&&p.jsxs("div",{className:"space-y-1",children:[p.jsxs("div",{className:"flex justify-between text-[10px] uppercase font-bold text-slate-500",children:[p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx(DC,{size:12})," Animation Speed"]}),p.jsxs("span",{className:"text-emerald-400",children:[x,"ms"]})]}),p.jsx("input",{type:"range",min:"50",max:"2000",step:"50",value:x,onChange:U=>T(parseInt(U.target.value)),className:"w-full h-1.5 bg-slate-800 rounded-lg appearance-none cursor-pointer accent-emerald-500 hover:accent-emerald-400",style:{direction:"rtl"}}),p.jsx("p",{className:"text-[9px] text-slate-600 italic",children:"Adjust playback step delay."})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsxs("div",{className:"flex justify-between text-[10px] uppercase font-bold text-slate-500",children:[p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx(ds,{size:12})," Ticks per Slice"]}),p.jsxs("span",{className:"text-amber-400",children:[g,"x"]})]}),p.jsx("input",{type:"range",min:"1",max:"10",value:g,onChange:U=>h(parseInt(U.target.value)),className:"w-full h-1.5 bg-slate-800 rounded-lg appearance-none cursor-pointer accent-amber-500 hover:accent-amber-400"}),p.jsx("p",{className:"text-[9px] text-slate-600 italic",children:"Logical CPU cycles before SysTick."})]})]})},w):w==="stats"?p.jsx(cr,{item:w,children:p.jsxs("div",{className:"px-1",children:[p.jsx(ur,{label:"xTickCount",value:t,color:"text-sky-300"}),p.jsx(ur,{label:"Current Execution",value:_,color:c?"text-red-400 font-bold":"text-emerald-400 font-bold"}),p.jsx(ur,{label:"uxCriticalNesting",value:a,color:a>0?"text-yellow-400 font-bold":"text-slate-400"}),p.jsx(ur,{label:"Interrupt Status",value:r?"PENDING":"ACTIVE",color:r?"text-red-400":"text-slate-500",animate:r}),p.jsxs("div",{className:"mt-2 text-[10px] flex items-center gap-2 bg-slate-800 p-1.5 rounded",children:[p.jsx(Pr,{size:12,className:a>0?"text-yellow-500":"text-slate-600"}),p.jsx("span",{className:"text-yellow-200",children:a>0?"INTERRUPTS DISABLED (PRIMASK=1)":"Interrupts Enabled (PRIMASK=0)"})]})]})},w):w==="principles"?p.jsx(cr,{item:w,children:p.jsxs("div",{className:"text-xs text-slate-400 leading-relaxed space-y-3",children:[p.jsxs("div",{className:"flex items-start gap-2",children:[p.jsx(wn,{size:14,className:"text-red-500 mt-0.5 shrink-0"}),p.jsxs("div",{children:[p.jsx("strong",{className:"text-red-400 block mb-1",children:"Preemption ()"}),p.jsx("p",{children:" Ready "})]})]}),p.jsxs("div",{className:"flex items-start gap-2",children:[p.jsx(ds,{size:14,className:"text-sky-500 mt-0.5 shrink-0"}),p.jsxs("div",{children:[p.jsx("strong",{className:"text-sky-400 block mb-1",children:"Time Slicing (Round Robin)"}),p.jsx("p",{children:" Ready  Tick "})]})]})]})},w):w==="lists"?p.jsx(cr,{item:w,children:p.jsxs("div",{className:"space-y-1 pt-1",children:[p.jsx("div",{className:"text-[10px] uppercase font-bold text-slate-500",children:"Ready Lists Count"}),N.map((U,D)=>p.jsxs("div",{className:`flex justify-between text-[10px] pl-2 ${U>0?"text-sky-300 font-bold":"text-slate-600"}`,children:[p.jsxs("span",{children:["Priority ",D]}),p.jsx("span",{children:U})]},D))]})},w):null)})})]})},Hy=[{id:1,name:"LED Task",priority:2,state:"READY",color:"bg-rose-500",wakeTick:0,insertOrder:0},{id:2,name:"UART Task",priority:1,state:"READY",color:"bg-indigo-500",wakeTick:0,insertOrder:1},{id:0,name:"Idle Task",priority:0,state:"READY",color:"bg-slate-500",wakeTick:0,insertOrder:2}],Lw={BOOT_SEQ:[{tab:"kernel",line:33,label:"Boot: Selecting Highest Priority Task...",action:"SWITCH_CONTEXT"},{tab:"kernel",line:35,label:"Boot: Restoring Context & Starting..."}],SYSTICK_ENTRY:[{tab:"port",line:2,label:"ISR Entry: SysTick_Handler"},{tab:"port",line:5,label:"Critical Section: Disable Interrupts"},{tab:"port",line:8,label:"Call Kernel: xTaskIncrementTick()",jump:"INC_TICK_ENTRY"}],INC_TICK_ENTRY:[{tab:"kernel",line:3,label:"Kernel Entry: xTaskIncrementTick"},{tab:"kernel",line:6,label:"Prepare Tick Update"},{tab:"kernel",line:7,label:"Increment xTickCount",action:"INC_TICK"},{tab:"kernel",line:10,label:"Check Delayed List (Next Unblock Time)",branch:"CHECK_UNBLOCK"}],INC_TICK_SKIP:[{tab:"kernel",line:20,label:"Return xSwitchRequired (False)",return:!0}],INC_TICK_LOOP_CHECK:[{tab:"kernel",line:13,label:"Check: Is Delayed List Empty?",branch:"CHECK_EMPTY"}],INC_TICK_UNBLOCK:[{tab:"kernel",line:15,label:"Remove Task from Blocked List",action:"UNBLOCK"},{tab:"kernel",line:16,label:"Add Task to Ready List"},{tab:"kernel",line:17,label:"Flag Context Switch Required",action:"FLAG_SWITCH"},{tab:"kernel",line:12,label:"Loop Back...",jump:"INC_TICK_LOOP_CHECK"}],INC_TICK_RETURN:[{tab:"kernel",line:20,label:"Return xSwitchRequired",return:!0}],SYSTICK_RESUME:[{tab:"port",line:8,label:"Check xTaskIncrementTick Result",branch:"CHECK_SWITCH"}],SYSTICK_SWITCH:[{tab:"port",line:11,label:"Trigger PendSV (Context Switch)",action:"FLAG_PENDSV"},{tab:"port",line:12,label:"End If"}],SYSTICK_EXIT:[{tab:"port",line:14,label:"Enable Interrupts"},{tab:"port",line:15,label:"ISR Exit (Exception Return)"}],PENDSV_ENTRY:[{tab:"kernel",line:23,label:"PendSV Handler: vTaskSwitchContext"},{tab:"kernel",line:25,label:"Check Scheduler State"},{tab:"kernel",line:31,label:"Clear Yield Pending"},{tab:"kernel",line:33,label:"Select Highest Priority Task",action:"SWITCH_CONTEXT"},{tab:"kernel",line:35,label:"Exit Context Switch"}]},Uw={1:[{tab:"led",line:6,cycles:1,label:"LED: HAL_GPIO_TogglePin"},{tab:"led",line:9,cycles:4,label:"LED: Workload..."},{tab:"led",line:12,cycles:1,label:t=>`vTaskDelay(4) @ tick ${t}`,resetTo:0}],2:[{tab:"uart",line:6,cycles:1,label:"taskENTER_CRITICAL()"},{tab:"uart",line:8,cycles:2,label:t=>`printf("Tick: ${t}")`},{tab:"uart",line:10,cycles:1,label:"taskEXIT_CRITICAL()"},{tab:"uart",line:12,cycles:1,label:t=>`vTaskDelay(2) @ tick ${t}`,resetTo:0}],0:[{tab:"kernel",line:42,cycles:1,label:"Idle: Waiting for Interrupt (WFI)..."}]},Pw=()=>{const[t,e]=k.useState(0),[i,o]=k.useState(JSON.parse(JSON.stringify(Hy))),[a,r]=k.useState(null),[c,f]=k.useState("System Ready. Click Next or Play."),[g,h]=k.useState(""),[x,T]=k.useState(!1),[S,b]=k.useState(!1),[_,N]=k.useState(1),[A,w]=k.useState(800),[U,D]=k.useState(0),[G,Y]=k.useState(!1),[X,O]=k.useState(!1),[j,q]=k.useState("KERNEL"),[W,le]=k.useState({0:0,1:0,2:0}),[de,ge]=k.useState("BOOT_SEQ"),[Pe,Oe]=k.useState(0),H=k.useRef(!1),Q=k.useRef(!1),[ne,he]=k.useState({tab:"kernel",line:33}),[Ce,I]=k.useState(280),[$,Z]=k.useState(300),te=k.useRef(t),oe=k.useRef(i),ye=k.useRef(U),be=k.useRef(a),st=k.useRef(0),Fe=k.useRef(3);k.useEffect(()=>{te.current=t},[t]),k.useEffect(()=>{oe.current=i},[i]),k.useEffect(()=>{ye.current=U},[U]),k.useEffect(()=>{be.current=a},[a]);const hn=Qe=>{o(Qe),oe.current=Qe},Dn=()=>(Fe.current+=1,Fe.current),bo=(Qe,ct)=>{const Ue=oe.current.map(Te=>Te.id===Qe?{...Te,priority:ct}:Te);hn(Ue),f(`Config: Task ${Qe} Priority set to ${ct}`);const _e=oe.current.find(Te=>Te.id===be.current);_e&&Math.max(...Ue.filter(xe=>xe.state==="READY").map(xe=>xe.priority),-1)>_e.priority&&(H.current=!0,Q.current=!0,f("Preemption: Higher Priority Task Detected!"))},Gl=(Qe,ct)=>{const Ue=oe.current.map(_e=>_e.id===Qe?{..._e,state:"BLOCKED",wakeTick:te.current+ct}:_e.id!==Qe&&_e.state==="RUNNING"?{..._e,state:"READY",insertOrder:Dn()}:_e);hn(Ue),H.current=!0},kn=()=>{const Qe=oe.current.filter(Te=>Te.state==="READY"||Te.state==="RUNNING"),ct=Math.max(...Qe.map(Te=>Te.priority)),Ue=Qe.filter(Te=>Te.priority===ct);Ue.sort((Te,xe)=>Te.insertOrder-xe.insertOrder);const _e=Ue.length>0?Ue[0]:oe.current.find(Te=>Te.id===0)||Ue[0];if(_e){if(oe.current.find(Te=>Te.id===be.current),_e.id!==be.current){const Te=oe.current.map(xe=>xe.id===be.current?xe.state==="RUNNING"?{...xe,state:"READY",insertOrder:Dn()}:xe:xe.id===_e.id?{...xe,state:"RUNNING"}:xe);hn(Te),r(_e.id),f(`Context Switch: ${_e.name} is now RUNNING`)}else if(Ue.length>1&&H.current){const Te=Dn(),xe=oe.current.map(tt=>tt.id===be.current?{...tt,state:"READY",insertOrder:Te}:tt),Ct=xe.filter(tt=>tt.state==="READY"||tt.state==="RUNNING").filter(tt=>tt.priority===ct);Ct.sort((tt,Qr)=>tt.insertOrder-Qr.insertOrder);const dt=Ct[0],zt=xe.map(tt=>tt.id===dt.id?{...tt,state:"RUNNING"}:tt);hn(zt),r(dt.id),f(`Round Robin: Switched to ${dt.name}`)}}},Bi=k.useCallback((Qe=!1)=>{var ct;if(G&&ye.current===0&&!X&&j==="USER"){O(!0),Y(!1),he({tab:"isr",line:1}),f("Hardware Interrupt! Jumping to ISR...");return}if(X){O(!1),he({tab:"isr",line:10}),f("ISR: Clearing Flag & Yielding..."),H.current=!0,Q.current=!0,q("KERNEL"),ge("PENDSV_ENTRY"),Oe(0);return}if(j==="USER"){const Ue=be.current;if(Ue===null){q("KERNEL"),ge("BOOT_SEQ"),Oe(0);return}if(Q.current&&ye.current===0){q("KERNEL"),ge("PENDSV_ENTRY"),Oe(0);return}const _e=Uw[Ue],Te=W[Ue]||0,xe=_e[Te];he({tab:xe.tab,line:xe.line});const qe=typeof xe.label=="function"?xe.label(te.current):xe.label;if(f(qe),Ue===2&&xe.line===6&&D(zt=>zt+1),Ue===2&&xe.line===10&&D(zt=>Math.max(0,zt-1)),Ue===2&&xe.line===8&&h(zt=>zt+`Tick: ${te.current}
`),xe.line===12&&Ue!==0){Gl(Ue,Ue===2?2:4),q("KERNEL"),ge("PENDSV_ENTRY"),Oe(0),le(tt=>({...tt,[Ue]:0}));return}const Ct=xe.resetTo??(Te+1)%_e.length;le(zt=>({...zt,[Ue]:Ct})),st.current+=1;const dt=Ue===0?1:4*_;ye.current===0&&st.current>=dt&&(st.current=0,q("KERNEL"),ge("SYSTICK_ENTRY"),Oe(0),f("Interrupt: SysTick Fired! (Time Slice)"));return}if(j==="KERNEL"){const Ue=Lw[de],_e=Ue[Pe];if(!_e){q("USER");return}if(he({tab:_e.tab,line:_e.line}),f(_e.label),_e.action==="INC_TICK")e(qe=>qe+1);else if(_e.action==="UNBLOCK"){const qe=oe.current.find(Ct=>Ct.state==="BLOCKED"&&Ct.wakeTick<=te.current);if(qe){const Ct=oe.current.map(dt=>dt.id===qe.id?{...dt,state:"READY",wakeTick:0,insertOrder:Dn()}:dt);hn(Ct),f(`Unblocking Task: ${qe.name}`),qe.priority>(((ct=oe.current.find(dt=>dt.id===be.current))==null?void 0:ct.priority)||-1)&&(H.current=!0)}}else _e.action==="FLAG_SWITCH"?H.current=!0:_e.action==="FLAG_PENDSV"?Q.current=!0:_e.action==="SWITCH_CONTEXT"&&(kn(),H.current=!1,Q.current=!1);let Te=de,xe=Pe+1;if(_e.jump)Te=_e.jump,xe=0;else if(_e.return)de.startsWith("INC_TICK")&&(Te="SYSTICK_RESUME",xe=0);else if(_e.branch==="CHECK_UNBLOCK"){const qe=oe.current.some(dt=>dt.state==="BLOCKED"),Ct=oe.current.some(dt=>dt.state==="BLOCKED"&&dt.wakeTick<=te.current);qe&&Ct?(Te="INC_TICK_LOOP_CHECK",xe=0):(Te="INC_TICK_SKIP",xe=0)}else _e.branch==="CHECK_EMPTY"?oe.current.some(Ct=>Ct.state==="BLOCKED"&&Ct.wakeTick<=te.current)?(Te="INC_TICK_UNBLOCK",xe=0):(Te="INC_TICK_RETURN",xe=0):_e.branch==="CHECK_SWITCH"&&(H.current?(Te="SYSTICK_SWITCH",xe=0):(Te="SYSTICK_EXIT",xe=0));if(Te===de&&xe>=Ue.length)if(de==="BOOT_SEQ"){q("USER");return}else if(de==="SYSTICK_EXIT")if(Q.current)Te="PENDSV_ENTRY",xe=0;else{q("USER");return}else if(de==="PENDSV_ENTRY"){q("USER");return}else de==="SYSTICK_SWITCH"&&(Te="SYSTICK_EXIT",xe=0);ge(Te),Oe(xe)}},[G,X,j,W,de,Pe,_]);k.useEffect(()=>{let Qe;return x&&(Qe=setTimeout(()=>Bi(!1),S?100:A)),()=>clearTimeout(Qe)},[x,Bi,S,A]);const Co=()=>{T(!1),e(0),o(JSON.parse(JSON.stringify(Hy))),r(null),q("KERNEL"),ge("BOOT_SEQ"),Oe(0),le({0:0,1:0,2:0}),st.current=0,Fe.current=3,D(0),Y(!1),h(""),f("System Reset."),he({tab:"kernel",line:33}),H.current=!1,Q.current=!1},Xr=()=>{Y(!0),f("EXTI Line 0 Pending...")};return p.jsxs("div",{className:"h-full w-full bg-slate-950 flex flex-col md:flex-row overflow-hidden",children:[p.jsxs("div",{className:"flex-1 flex flex-col min-w-0",style:{height:"100%"},children:[p.jsx(Nw,{tickCount:t,tasks:i,currentTaskId:a,isRunning:x,onToggleRun:()=>T(!x),onStepTick:()=>Bi(!0),onReset:Co,statusLog:c,isCritical:U>0,pendingInterrupt:G,isExecutingISR:X,triggerInterrupt:Xr,isFastForwarding:S}),p.jsx(fn,{orientation:"horizontal",onDrag:Qe=>Z(ct=>Math.min(Math.max(ct-Qe,150),600))}),p.jsx(Dw,{activeTabOverride:ne.tab,activeLine:ne.line,height:$,uartLog:g})]}),p.jsx(fn,{orientation:"vertical",onDrag:Qe=>I(ct=>Math.min(Math.max(ct-Qe,220),450))}),p.jsx(kw,{tickCount:t,currentTaskId:a??-1,tasks:i,width:Ce,criticalNesting:U,pendingInterrupt:G,isExecutingISR:X,onPriorityChange:bo,timeSliceScale:_,onTimeSliceChange:N,simulationSpeed:A,onSpeedChange:w})]})},Sr=14,Vw={r0:"0x20001000",r1:"0x00000001",r2:"0x20000800",r3:"0x00000000",r12:"0xDEADBEEF",lr:"0xFFFFFFFD",pc:"0x08001234",xpsr:"0x01000000",psp:"0x20000FF0"},Bw={r0:"0x20002000",r1:"0x00000002",r2:"0x20001800",r3:"0x00000000",r12:"0xCAFEBABE",lr:"0xFFFFFFFD",pc:"0x08005678",xpsr:"0x01000000",psp:"0x20001FF0"},Hw=[{line:1,text:".global xPortPendSVHandler",comment:""},{line:2,text:"xPortPendSVHandler:",comment:"Entry Point"},{line:3,text:"    mrs r0, psp",comment:"Read Process Stack Pointer"},{line:4,text:"    isb",comment:""},{line:5,text:"",comment:""},{line:6,text:"    ; --- 1. Get Current TCB ---",comment:""},{line:7,text:"    ldr r3, =pxCurrentTCB",comment:"Load TCB pointer address"},{line:8,text:"    ldr r2, [r3]",comment:"Load pxCurrentTCB address"},{line:9,text:"",comment:""},{line:10,text:"    ; --- 2. Save SW Context ---",comment:""},{line:11,text:"    stmdb r0!, {r4-r11}",comment:"Save R4-R11 to stack"},{line:12,text:"    str r0, [r2]",comment:"Save new TopOfStack to TCB"},{line:13,text:"    ; --- 3. Prepare C Call ---",comment:""},{line:14,text:"    stmdb sp!, {r3, r14}",comment:"Save R3 & LR (EXC_RETURN)"},{line:15,text:"",comment:""},{line:16,text:"    ; Disable Interrupts",comment:""},{line:17,text:"    mov r0, #configMAX_SYSCALL_INTERRUPT_PRIORITY",comment:""},{line:18,text:"    msr basepri, r0",comment:""},{line:19,text:"    dsb",comment:""},{line:20,text:"    isb",comment:""},{line:21,text:"",comment:""},{line:22,text:"    bl vTaskSwitchContext",comment:"Select next task"},{line:23,text:"",comment:""},{line:24,text:"    ; Enable Interrupts",comment:""},{line:25,text:"    mov r0, #0",comment:""},{line:26,text:"    msr basepri, r0",comment:""},{line:27,text:"",comment:""},{line:28,text:"    ldmia sp!, {r3, r14}",comment:"Restore R3 & LR"},{line:29,text:"    ; --- 4. Restore Context ---",comment:""},{line:30,text:"    ldr r1, [r3]",comment:"Load new pxCurrentTCB"},{line:31,text:"    ldr r0, [r1]",comment:"Load new TopOfStack"},{line:32,text:"",comment:""},{line:33,text:"    ldmia r0!, {r4-r11}",comment:"Restore R4-R11"},{line:34,text:"",comment:""},{line:35,text:"    msr psp, r0",comment:"Update PSP"},{line:36,text:"    isb",comment:""},{line:37,text:"    bx r14",comment:"Exception Return"}],m1={0:2,1:3,2:8,3:11,4:12,5:14,6:18,7:22,8:26,9:28,10:31,11:33,12:35,13:37},zw=({step:t,setStep:e,nextStep:i,prevStep:o,reset:a,isPlaying:r,togglePlay:c})=>{const f=t<7,g=t>=3&&t<=4,h=t>=11&&t<=13,x=t>=5&&t<=9,T=()=>t===0?"Interrupt Entry (PendSV)":t<3?"Reading PSP (Task A)":t<5?"SAVING Context (R4-R11) -> Stack A":t<7?"Saving Stack Pointer -> TCB A":t===7?"KERNEL: Selecting Next Task":t<10?"Restoring Kernel Context":t<11?"Loading Stack Pointer <- TCB B":t<13?"RESTORING Context (R4-R11) <- Stack B":"Exception Return (Hardware Restore)";return p.jsxs("div",{className:"flex-1 bg-slate-950 relative overflow-hidden flex flex-col font-sans select-none",children:[p.jsx(Or,{onReset:a,onNext:i,isPlaying:r,onTogglePlay:c,canNext:t<Sr-1}),p.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"linear-gradient(#334155 1px, transparent 1px), linear-gradient(90deg, #334155 1px, transparent 1px)",backgroundSize:"40px 40px"}}),p.jsx("div",{className:"flex-1 flex items-center justify-center p-8 relative z-10",children:p.jsxs("div",{className:"grid grid-cols-[240px_1fr_240px] gap-12 items-start w-full max-w-6xl h-[500px]",children:[p.jsx(zy,{taskName:"Task A",color:"violet",isActive:f&&!x,hasHW:!0,hasSW:t>=3,showPSP:t<7,pspOffset:t>=3?150:90}),p.jsxs("div",{className:"flex flex-col items-center gap-8 relative h-full justify-center",children:[p.jsxs("div",{className:"relative bg-slate-900 border border-slate-700 rounded-full px-6 py-2 flex items-center gap-4 shadow-xl z-20",children:[p.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"pxCurrentTCB"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:`text-sm font-mono font-bold transition-colors duration-300 ${f?"text-violet-400":"text-slate-600"}`,children:"Task A"}),p.jsx("div",{className:"relative w-12 h-6 bg-slate-800 rounded-full p-1 border border-slate-700",children:p.jsx(pe.div,{className:`w-4 h-4 rounded-full shadow-sm ${f?"bg-violet-500":"bg-emerald-500"}`,animate:{x:f?0:24}})}),p.jsx("span",{className:`text-sm font-mono font-bold transition-colors duration-300 ${f?"text-slate-600":"text-emerald-400"}`,children:"Task B"})]})]}),p.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none z-0 overflow-visible",children:[p.jsx(pe.path,{d:"M -20 280 L 150 280",stroke:g||t===1?"#8b5cf6":"#334155",strokeWidth:g?4:2,strokeDasharray:g?"0":"4,4",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1}}),p.jsx(pe.path,{d:"M 250 280 L 420 280",stroke:h||t===10?"#10b981":"#334155",strokeWidth:h?4:2,strokeDasharray:h?"0":"4,4",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1}}),g&&p.jsx(pe.circle,{r:"4",fill:"#8b5cf6",children:p.jsx("animateMotion",{path:"M 150 280 L -20 280",dur:"0.5s",repeatCount:"indefinite"})}),h&&p.jsx(pe.circle,{r:"4",fill:"#10b981",children:p.jsx("animateMotion",{path:"M 420 280 L 250 280",dur:"0.5s",repeatCount:"indefinite"})})]}),p.jsxs("div",{className:"w-64 bg-slate-900 border-2 border-slate-700 rounded-2xl p-1 relative shadow-2xl z-10 group mt-4",children:[p.jsx("div",{className:`absolute -inset-[1px] rounded-2xl opacity-30 blur transition-colors duration-500 ${f?"bg-violet-500":"bg-emerald-500"}`}),p.jsxs("div",{className:"bg-slate-900 rounded-xl p-4 relative overflow-hidden",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-slate-800 pb-2",children:[p.jsxs("span",{className:"text-xs font-bold text-slate-400 flex items-center gap-1",children:[p.jsx(cs,{size:14})," CORTEX-M4"]}),p.jsx("span",{className:`text-[10px] px-1.5 rounded font-mono ${f?"bg-violet-900/30 text-violet-400":"bg-emerald-900/30 text-emerald-400"}`,children:f?"CTX: A":"CTX: B"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between text-[10px] text-slate-500 bg-slate-950/50 p-2 rounded border border-slate-800",children:[p.jsx("span",{children:"R0-R3, PC, LR"}),p.jsx("span",{className:t===13?"text-emerald-400 animate-pulse":"text-slate-600",children:t===13?"Hardware Restore":"......"})]}),p.jsxs("div",{className:`flex items-center justify-between text-[10px] p-2 rounded border transition-colors duration-300 ${g||h?"bg-sky-900/20 border-sky-500/50":"bg-slate-950/50 border-slate-800 text-slate-500"}`,children:[p.jsx("span",{className:g||h?"text-sky-300 font-bold":"",children:"R4 - R11"}),p.jsx("span",{className:"font-mono",children:g?p.jsx("span",{className:"text-violet-400",children:"Saving..."}):h?p.jsx("span",{className:"text-emerald-400",children:"Restoring..."}):"Held"})]}),p.jsxs("div",{className:"flex items-center justify-between text-[10px] text-amber-500 bg-amber-900/10 p-2 rounded border border-amber-900/30",children:[p.jsx("span",{className:"font-bold",children:"PSP"}),p.jsx("span",{className:"font-mono",children:f?t>=3?"0x...F0":"0x...08":t>=12?"0x...08":"0x...F0"})]})]})]})]}),p.jsxs(pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-slate-800/80 backdrop-blur px-4 py-2 rounded-lg border border-slate-700 text-center mt-8",children:[p.jsx("div",{className:"text-[10px] text-slate-500 uppercase tracking-widest font-bold mb-0.5",children:"Current Operation"}),p.jsx("div",{className:"text-sm font-bold text-sky-400 font-mono",children:T()})]},T())]}),p.jsx(zy,{taskName:"Task B",color:"emerald",isActive:!f&&!x,hasHW:t<13,hasSW:t<11,showPSP:t>=7,pspOffset:t<11?150:t<13?90:30,isRight:!0})]})})]})},zy=({taskName:t,color:e,isActive:i,hasHW:o,hasSW:a,showPSP:r,pspOffset:c,isRight:f})=>{const g=e==="violet"?"text-violet-400":"text-emerald-400";return p.jsxs("div",{className:`flex flex-col ${f?"items-start":"items-end"} relative transition-opacity duration-500 ${i?"opacity-100":"opacity-40 grayscale-[0.5]"}`,children:[p.jsxs("div",{className:`flex items-center gap-2 mb-2 font-bold ${g}`,children:[p.jsx(TC,{size:16})," ",t," Stack"]}),p.jsxs("div",{className:"w-full bg-slate-900 border-x-2 border-b-2 border-slate-700 rounded-b-xl relative h-[400px] flex flex-col justify-start overflow-visible shadow-inner",children:[p.jsx("div",{className:"absolute inset-0 opacity-20 bg-[repeating-linear-gradient(0deg,#000,#000_20px,transparent_20px,transparent_40px)] pointer-events-none"}),p.jsxs(pe.div,{className:`absolute ${f?"-left-3":"-right-3"} z-50 flex items-center gap-2 ${f?"flex-row-reverse":"flex-row"}`,animate:{top:c},transition:{type:"spring",stiffness:200,damping:20},children:[p.jsx("div",{className:"bg-amber-500 text-slate-950 text-[10px] font-bold px-1.5 py-0.5 rounded shadow-lg whitespace-nowrap",children:"PSP"}),f?p.jsx(Sf,{className:"text-amber-500 fill-amber-500",size:16}):p.jsx(Cv,{className:"text-amber-500 fill-amber-500",size:16})]}),p.jsx("div",{className:"h-8 w-full bg-slate-800/80 border-b border-slate-700 flex items-center justify-center text-[9px] text-slate-500 uppercase tracking-widest shrink-0",children:"High Address"}),p.jsx("div",{className:"h-20 w-full bg-slate-800/30 flex items-center justify-center text-[10px] text-slate-600 tracking-widest border-b border-slate-700/50 shrink-0",children:"TASK DATA"}),p.jsx(ei,{children:o&&p.jsxs(pe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:60},exit:{opacity:0,height:0},className:`w-full border-b border-dashed border-slate-500 ${e==="violet"?"bg-violet-900/30 text-violet-300":"bg-emerald-900/30 text-emerald-300"} flex flex-col items-center justify-center text-[10px] relative shrink-0 overflow-hidden`,children:[p.jsx("span",{className:"font-bold",children:"HW Frame"}),p.jsx("span",{className:"text-[9px] opacity-70",children:"R0-R3, PC, xPSR"})]})}),p.jsx(ei,{children:a&&p.jsxs(pe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:60},exit:{opacity:0,height:0},className:`w-full border-b border-dashed border-slate-500 ${e==="violet"?"bg-violet-800/40 text-violet-200":"bg-emerald-800/40 text-emerald-200"} flex flex-col items-center justify-center text-[10px] relative shrink-0 overflow-hidden`,children:[p.jsx("span",{className:"font-bold",children:"SW Frame"}),p.jsx("span",{className:"text-[9px] opacity-70",children:"R4 - R11"})]})}),p.jsx("div",{className:"flex-1 flex items-end justify-center pb-2",children:p.jsx("div",{className:"text-[9px] text-slate-700 uppercase tracking-widest",children:"Low Address (Growth) "})})]})]})},Gw=[{line:1,text:"// tasks.c: FreeRTOS Kernel (Simplified)",indent:0,type:"comment"},{line:2,text:"void vTaskSwitchContext( void )",indent:0,type:"func"},{line:3,text:"{",indent:0,type:"plain"},{line:4,text:"if( uxSchedulerSuspended != pdFALSE )",indent:1,type:"keyword"},{line:5,text:"{",indent:1,type:"plain"},{line:6,text:"xYieldPending = pdTRUE;",indent:2,type:"code"},{line:7,text:"}",indent:1,type:"plain"},{line:8,text:"else",indent:1,type:"keyword"},{line:9,text:"{",indent:1,type:"plain"},{line:10,text:"xYieldPending = pdFALSE;",indent:2,type:"code"},{line:11,text:"// ",indent:2,type:"comment"},{line:12,text:"taskSELECT_HIGHEST_PRIORITY_TASK();",indent:2,type:"macro"},{line:13,text:"}",indent:1,type:"plain"},{line:14,text:"}",indent:0,type:"plain"}],Ow=({step:t,height:e})=>{const i=k.useRef(null),o=k.useRef(null),a=m1[t]||0,r=t===7;return k.useEffect(()=>{if(a&&o.current){const c=document.getElementById(`asm-line-${a}`);if(c){const f=o.current,g=c.offsetTop-f.clientHeight/2+c.clientHeight/2;f.scrollTo({top:g,behavior:"smooth"})}}r&&i.current&&i.current.scrollTo({top:100,behavior:"smooth"})},[t,a,r]),p.jsxs("div",{style:{height:e},className:"flex bg-[#0f172a] font-mono text-sm relative border-t border-slate-800 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.3)] z-10",children:[p.jsxs("div",{className:"absolute top-0 left-0 right-0 h-9 bg-[#1e293b] flex items-center px-4 text-[11px] text-slate-400 border-b border-slate-700/50 z-20 select-none",children:[p.jsxs("div",{className:`flex items-center gap-2 w-1/2 border-r border-slate-700/50 h-full transition-colors ${r?"text-sky-400 bg-slate-800":""}`,children:[p.jsx("span",{className:"w-1.5 h-full bg-yellow-500/50 mr-2 opacity-0 data-[active=true]:opacity-100","data-active":r}),p.jsx(AC,{size:14,className:"text-yellow-500"}),p.jsx("span",{className:"font-bold",children:"tasks.c"}),p.jsx("span",{className:"ml-auto mr-4 text-[10px] opacity-60",children:"Kernel Logic"})]}),p.jsxs("div",{className:`flex items-center gap-2 w-1/2 h-full pl-0 transition-colors ${r?"":"text-sky-400 bg-slate-800"}`,children:[p.jsx("span",{className:"w-1.5 h-full bg-sky-500/50 mr-2 opacity-0 data-[active=true]:opacity-100","data-active":!r}),p.jsx(ps,{size:14,className:"text-sky-500"}),p.jsx("span",{className:"font-bold",children:"portasm.s"}),p.jsx("span",{className:"ml-auto mr-4 text-[10px] opacity-60",children:"Context Switching (ISR)"})]})]}),p.jsx("div",{ref:i,className:`w-1/2 border-r border-slate-800 overflow-y-auto pt-12 pb-4 text-slate-400 custom-scrollbar transition-colors duration-500 ${r?"bg-slate-900/30":"bg-[#0f172a] opacity-60 grayscale"}`,children:Gw.map((c,f)=>{const g=r&&(c.line===12||c.line===2);return p.jsxs("div",{className:`flex px-0 py-[2px] transition-all duration-300 ${g?"bg-yellow-500/10 border-l-2 border-yellow-500":"border-l-2 border-transparent"}`,children:[p.jsx("span",{className:`w-10 text-[10px] leading-6 text-right pr-3 select-none ${g?"text-yellow-500 font-bold":"text-slate-700"}`,children:c.line}),p.jsx("pre",{className:"flex-1 text-[13px] leading-6 font-medium",style:{paddingLeft:`${c.indent*1.5}rem`},children:jw(c)})]},f)})}),p.jsx("div",{ref:o,className:`w-1/2 overflow-y-auto pt-12 pb-4 custom-scrollbar transition-colors duration-500 ${r?"bg-[#0f172a] opacity-60":"bg-slate-900/30"}`,children:Hw.map((c,f)=>{const g=f+1===a,h=c.text.trim().startsWith(";");return p.jsxs("div",{id:`asm-line-${c.line}`,className:`flex px-0 py-[2px] transition-all duration-200 group relative ${g?"bg-sky-500/10":"hover:bg-slate-800/30"}`,children:[p.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 transition-colors ${g?"bg-sky-500":"bg-transparent"}`}),p.jsx("span",{className:`w-10 text-[10px] leading-6 text-right pr-3 select-none transition-colors ${g?"text-sky-400 font-bold":"text-slate-700 group-hover:text-slate-500"}`,children:c.line}),g&&p.jsx("div",{className:"absolute left-8 top-1.5 text-sky-500 animate-pulse",children:p.jsx(Nv,{size:14,strokeWidth:3})}),p.jsxs("span",{className:"flex-1 text-[13px] leading-6 font-medium whitespace-pre pl-2",children:[h?p.jsx("span",{className:"text-slate-500 italic",children:c.text}):c.text.includes(":")?p.jsx("span",{className:"text-amber-200 font-bold",children:c.text}):p.jsx("span",{className:"text-slate-300",children:qw(c.text)}),c.comment&&p.jsxs("span",{className:"text-slate-500/70 italic font-normal text-xs ml-6 select-none border-l border-slate-800 pl-2",children:["; ",c.comment]})]})]},f)})})]})},jw=t=>{if(t.type==="comment")return p.jsx("span",{className:"text-slate-500 italic",children:t.text});const e=t.text.split(/(\s+|[();])/);return p.jsx("span",{children:e.map((i,o)=>i?["void","if","else"].includes(i)?p.jsx("span",{className:"text-violet-400",children:i},o):["vTaskSwitchContext","taskSELECT_HIGHEST_PRIORITY_TASK"].includes(i)?p.jsx("span",{className:"text-yellow-200",children:i},o):["pdFALSE","pdTRUE","uxSchedulerSuspended","xYieldPending"].includes(i)?p.jsx("span",{className:"text-sky-300",children:i},o):p.jsx("span",{className:"text-slate-300",children:i},o):null)})},qw=t=>t.split(/(\s+|,)/).map((e,i)=>e.match(/^\s+$/)?p.jsx("span",{children:e},i):e.match(/^(mrs|isb|ldr|stmdb|str|mov|msr|dsb|bl|ldmia|bx)$/i)?p.jsx("span",{className:"text-sky-400 font-bold",children:e},i):e.match(/^(r\d+|sp|psp|pc|lr|basepri|configMAX_SYSCALL_INTERRUPT_PRIORITY)$/i)?p.jsx("span",{className:"text-orange-300",children:e},i):e.startsWith("#")||e.startsWith("=")?p.jsx("span",{className:"text-emerald-300",children:e},i):e===".global"?p.jsx("span",{className:"text-pink-400",children:e},i):p.jsx("span",{className:"text-slate-200",children:e},i)),An=({name:t,value:e,highlight:i,changed:o,desc:a})=>p.jsxs("div",{className:`flex justify-between items-center font-mono text-xs py-1.5 px-2 rounded-md transition-colors ${i?"bg-sky-900/20 border border-sky-500/30":"hover:bg-slate-800/50 border border-transparent"}`,children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:`font-bold w-8 ${i?"text-sky-400":"text-slate-500"}`,children:t}),a&&p.jsx("span",{className:"text-[9px] text-slate-600 hidden xl:inline-block",children:a})]}),p.jsx("span",{className:`${i?"text-sky-200 font-bold":o?"text-amber-200":"text-slate-400"}`,children:e})]}),Id=({name:t,value:e,type:i,changed:o})=>p.jsxs("div",{className:`flex flex-col font-mono text-xs py-2 px-2 rounded-md transition-colors border-b border-slate-800/50 ${o?"bg-emerald-900/10":""}`,children:[p.jsxs("div",{className:"flex justify-between items-center mb-1",children:[p.jsx("span",{className:"font-bold text-sky-500",children:t}),p.jsx("span",{className:"text-[9px] text-slate-500",children:i})]}),p.jsx("div",{className:`${o?"text-emerald-300 font-bold":"text-slate-300"} break-all`,children:e})]}),Dd=({item:t,children:e})=>{const i=ep();return p.jsx(np,{value:t,dragListener:!1,dragControls:i,className:"relative",children:p.jsx(un,{title:t==="registers"?"Core Registers":t==="variables"?"Global Variables":"Context Switching Anatomy",prefix:p.jsx("div",{onPointerDown:o=>i.start(o),children:p.jsx(Ul,{size:14})}),children:e})})},Fw=({step:t,width:e})=>{const[i,o]=k.useState(["registers","variables","anatomy"]),a=t<7?Vw:Bw,r=m1[t]||0,c=t>=7,f=t>=7&&t<=9;return p.jsxs("div",{style:{width:e},className:"bg-slate-900 border-l border-slate-800 flex flex-col shrink-0 text-slate-300",children:[p.jsxs("div",{className:"h-8 bg-slate-900 px-4 flex items-center justify-between text-xs font-bold text-slate-400 border-b border-slate-800 shadow-sm shrink-0",children:[p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsx(go,{size:14,className:"text-sky-500"})," CORE INSPECTOR"]}),p.jsx("div",{className:"flex gap-2",children:p.jsx("span",{className:"text-[10px] bg-sky-900/50 text-sky-400 px-1.5 py-0.5 rounded border border-sky-800",children:"Cortex-M4F"})})]}),p.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2",children:p.jsx(tp,{axis:"y",values:i,onReorder:o,className:"space-y-2",children:i.map(g=>{switch(g){case"registers":return p.jsx(Dd,{item:g,children:p.jsxs("div",{className:"space-y-[1px]",children:[p.jsx("div",{className:"px-2 py-1 text-[10px] text-slate-500 font-bold bg-slate-900/80",children:"Caller Saved (Auto)"}),p.jsx(An,{name:"R0",value:a.r0,highlight:r>=2&&r<=6,desc:"Arg 1"}),p.jsx(An,{name:"R1",value:a.r1,highlight:r>=11,desc:"Arg 2"}),p.jsx(An,{name:"R2",value:a.r2,highlight:r>=5&&r<=7,desc:"Arg 3"}),p.jsx(An,{name:"R3",value:a.r3,highlight:r>=4,desc:"Arg 4"}),p.jsx(An,{name:"R12",value:a.r12,desc:"IP"}),p.jsx(An,{name:"LR",value:a.lr,highlight:t===13,desc:"Link Reg"}),p.jsx(An,{name:"PC",value:a.pc,highlight:!0,desc:"Program Cnt"}),p.jsx(An,{name:"xPSR",value:a.xpsr,desc:"Status"}),p.jsx("div",{className:"px-2 py-1 text-[10px] text-slate-500 font-bold bg-slate-900/80 mt-2",children:"Callee Saved (Manual)"}),p.jsx(An,{name:"R4-R11",value:f?"........":"CTX DATA",highlight:t===3||t===11,desc:"Var Regs"}),p.jsx("div",{className:"px-2 py-1 text-[10px] text-slate-500 font-bold bg-slate-900/80 mt-2",children:"Pointers"}),p.jsx(An,{name:"PSP",value:a.psp,highlight:t===1||t===12,changed:t===1||t===12,desc:"Process SP"})]})},g);case"variables":return p.jsx(Dd,{item:g,children:p.jsxs("div",{children:[p.jsx(Id,{name:"pxCurrentTCB",type:"TaskHandle_t",value:p.jsx("span",{className:c?"text-emerald-400":"text-violet-400",children:c?"0x20001800 (Task B)":"0x20000800 (Task A)"}),changed:t===7}),p.jsx(Id,{name:"xYieldPending",type:"BaseType_t",value:t>=7?"pdTRUE":"pdFALSE"}),p.jsx(Id,{name:"uxSchedulerSuspended",type:"UBaseType_t",value:"pdFALSE (0)"})]})},g);case"anatomy":return p.jsx(Dd,{item:g,children:p.jsxs("div",{className:"text-xs text-slate-400 leading-relaxed space-y-3",children:[p.jsxs("div",{className:"flex items-start gap-2",children:[p.jsx(wl,{size:14,className:"text-violet-500 mt-0.5 shrink-0"}),p.jsxs("div",{className:"border-l-2 border-violet-500/50 pl-2",children:[p.jsx("strong",{className:"text-violet-400 block mb-1",children:"1. Exception Entry (Auto)"}),p.jsxs("p",{children:["PendSV ",p.jsx("b",{children:""})," R0-R3, R12, LR, PC, xPSR ARM AAPCS  ISR  C "]})]})]}),p.jsxs("div",{className:"flex items-start gap-2",children:[p.jsx(Kb,{size:14,className:"text-amber-500 mt-0.5 shrink-0"}),p.jsxs("div",{className:"border-l-2 border-amber-500/50 pl-2",children:[p.jsx("strong",{className:"text-amber-400 block mb-1",children:"2. Context Save (Manual)"}),p.jsxs("p",{children:[" R4-R11Callee Saved FreeRTOS  ",p.jsx("code",{children:"stmdb"})," "]})]})]}),p.jsxs("div",{className:"flex items-start gap-2",children:[p.jsx(Av,{size:14,className:"text-emerald-500 mt-0.5 shrink-0"}),p.jsxs("div",{className:"border-l-2 border-emerald-500/50 pl-2",children:[p.jsx("strong",{className:"text-emerald-400 block mb-1",children:"3. Stack Swapping"}),p.jsxs("p",{children:[" ",p.jsx("code",{children:"pxCurrentTCB"}),"  TCB  (Top of Stack)"]})]})]})]})},g);default:return null}})})})]})},Yw=()=>{const[t,e]=k.useState(0),[i,o]=k.useState(320),[a,r]=k.useState(300),[c,f]=k.useState(!1),g=250,h=500,x=150,T=600,S=()=>e(A=>Math.min(A+1,Sr-1)),b=()=>e(A=>Math.max(A-1,0)),_=()=>{e(0),f(!1)},N=()=>f(!c);return k.useEffect(()=>{let A;return c&&t<Sr-1?A=setTimeout(()=>{e(w=>w+1)},1200):t>=Sr-1&&f(!1),()=>clearTimeout(A)},[c,t]),p.jsxs("div",{className:"h-full w-full bg-slate-950 flex flex-col md:flex-row overflow-hidden",children:[p.jsxs("div",{className:"flex-1 flex flex-col min-w-0",style:{height:"100%"},children:[p.jsx(zw,{step:t,setStep:e,nextStep:S,prevStep:b,reset:_,isPlaying:c,togglePlay:N}),p.jsx(fn,{orientation:"horizontal",onDrag:A=>r(w=>Math.min(Math.max(w-A,x),T))}),p.jsx(Ow,{step:t,height:a})]}),p.jsx(fn,{orientation:"vertical",onDrag:A=>o(w=>Math.min(Math.max(w-A,g),h))}),p.jsx(Fw,{step:t,width:i})]})},Kw=({type:t,tokens:e,maxTokens:i,blockedTasks:o,owner:a,tasks:r,activeTask:c,stepDescription:f,stepMode:g})=>{const h=t==="COUNTING";return p.jsxs("div",{className:"flex-1 bg-slate-950 relative overflow-hidden flex flex-col items-center justify-center p-8 select-none",children:[p.jsx("div",{className:"absolute inset-0 opacity-[0.05]",style:{backgroundImage:"radial-gradient(#6366f1 1px, transparent 1px)",backgroundSize:"30px 30px"}}),p.jsx("svg",{className:"absolute inset-0 w-full h-full pointer-events-none z-0",children:p.jsx("line",{x1:"50%",y1:"20%",x2:"50%",y2:"80%",stroke:"#334155",strokeWidth:"2",strokeDasharray:"5,5"})}),p.jsxs("div",{className:"w-full max-w-5xl grid grid-cols-3 gap-8 z-10 h-full items-center",children:[p.jsx("div",{className:"flex flex-col gap-6 items-end",children:r.filter(x=>x.id.includes("Take")).map(x=>{const T=o.includes(x.id),S=c===x.id;return p.jsx("div",{className:"relative group",children:p.jsxs("div",{className:`
                                relative w-48 p-3 rounded-xl border-2 transition-all flex items-center justify-between
                                ${S?"bg-sky-900/30 border-sky-500 shadow-[0_0_15px_rgba(14,165,233,0.3)] scale-105":T?"bg-amber-900/10 border-amber-500/50 opacity-80":"bg-slate-900 border-slate-700 opacity-60"}
                            `,children:[p.jsxs("div",{className:"flex flex-col items-start",children:[p.jsx("span",{className:`text-xs font-bold ${T?"text-amber-500":S?"text-sky-400":"text-slate-500"}`,children:x.name}),p.jsx("span",{className:"text-[10px] text-slate-500 font-mono",children:T?"Blocked":S?"Executing...":"Idle"})]}),T?p.jsx(Rn,{size:16,className:"text-amber-500 animate-pulse"}):p.jsx(Jw,{className:`transition-transform ${S?"text-sky-500 translate-x-1":"text-slate-600"}`}),S&&p.jsx(pe.div,{layoutId:"active-indicator",className:"absolute -left-2 top-1/2 -translate-y-1/2 w-1 h-8 bg-sky-500 rounded-full shadow-lg"})]})},x.id)})}),p.jsxs("div",{className:"flex flex-col items-center justify-center",children:[p.jsxs("div",{className:`
                w-64 h-64 rounded-3xl border-4 flex flex-col items-center justify-center relative shadow-2xl backdrop-blur-sm transition-colors duration-500
                ${e>0?"bg-slate-900/80 border-sky-500 shadow-sky-500/20":"bg-slate-900/90 border-slate-700 shadow-none"}
            `,children:[p.jsxs("div",{className:"absolute -top-10 text-center",children:[p.jsx("span",{className:"text-sm font-bold text-slate-400 tracking-widest uppercase block mb-1",children:h?"Counting Sem":t==="MUTEX"?"Mutex":"Binary Sem"}),p.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full border ${e>0?"bg-emerald-500/10 text-emerald-400 border-emerald-500/30":"bg-rose-500/10 text-rose-400 border-rose-500/30"}`,children:"xSemaphoreHandle"})]}),h?p.jsx("div",{className:"grid grid-cols-3 gap-2 p-4",children:Array.from({length:i}).map((x,T)=>p.jsx("div",{className:`
                                w-10 h-10 rounded border flex items-center justify-center transition-all duration-300
                                ${T<e?"bg-sky-500 text-slate-900 border-sky-400 shadow-[0_0_10px_rgba(14,165,233,0.5)] scale-100":"bg-slate-800 border-slate-700 opacity-30 scale-90"}
                            `,children:p.jsx(y_,{size:18,fill:T<e?"currentColor":"none"})},T))}):p.jsx("div",{className:"relative",children:e>0?p.jsx(pe.div,{initial:{scale:0},animate:{scale:1},className:"text-emerald-400 drop-shadow-[0_0_15px_rgba(52,211,153,0.6)]",children:p.jsx(Rv,{size:80,strokeWidth:1.5})}):p.jsx(pe.div,{initial:{scale:0},animate:{scale:1},className:"text-rose-500 drop-shadow-[0_0_15px_rgba(244,63,94,0.4)]",children:p.jsx(Rn,{size:80,strokeWidth:1.5})})}),p.jsxs("div",{className:"absolute -bottom-4 bg-slate-800 text-slate-300 px-3 py-1 rounded-full border border-slate-700 text-xs font-mono shadow-lg",children:["uxMessagesWaiting: ",p.jsx("span",{className:"text-white font-bold",children:e})]})]}),o.length>0&&p.jsxs(pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-8 bg-amber-900/20 border border-amber-500/30 rounded-xl p-3 w-64",children:[p.jsxs("div",{className:"text-[10px] text-amber-500 font-bold uppercase mb-2 flex items-center gap-2",children:[p.jsx(ds,{size:12})," Blocked List (xTasksWaiting...)"]}),p.jsx("div",{className:"space-y-1",children:o.map(x=>{var T;return p.jsxs("div",{className:"bg-amber-500/10 text-amber-200 text-xs px-2 py-1.5 rounded flex items-center justify-between",children:[p.jsx("span",{children:(T=r.find(S=>S.id===x))==null?void 0:T.name}),p.jsx(Rn,{size:10})]},x)})})]})]}),p.jsx("div",{className:"flex flex-col gap-6 items-start",children:r.filter(x=>x.id.includes("Give")).map(x=>{const T=c===x.id;return p.jsx("div",{children:p.jsxs("div",{className:`
                                relative w-48 p-3 rounded-xl border-2 transition-all flex items-center justify-between flex-row-reverse
                                ${T?"bg-emerald-900/30 border-emerald-500 shadow-[0_0_15px_rgba(16,185,129,0.3)] scale-105":"bg-slate-900 border-slate-700 opacity-60"}
                            `,children:[p.jsxs("div",{className:"flex flex-col items-end",children:[p.jsx("span",{className:`text-xs font-bold ${T?"text-emerald-400":"text-slate-500"}`,children:x.name}),p.jsx("span",{className:"text-[10px] text-slate-500 font-mono",children:"Producer"})]}),p.jsx($w,{className:`transition-transform ${T?"text-emerald-500 -translate-x-1":"text-slate-600"}`}),T&&p.jsx(pe.div,{layoutId:"active-indicator",className:"absolute -right-2 top-1/2 -translate-y-1/2 w-1 h-8 bg-emerald-500 rounded-full shadow-lg"})]})},x.id)})})]}),p.jsxs("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 bg-slate-900/95 backdrop-blur-md border border-slate-700 px-6 py-2.5 rounded-full shadow-2xl z-50 flex items-center gap-3 w-max max-w-xl transition-all",children:[p.jsx("div",{className:`p-1.5 rounded-full transition-colors ${g==="TAKE"?"bg-rose-500/10":"bg-emerald-500/10"}`,children:p.jsx(Pl,{size:14,className:g==="TAKE"?"text-rose-400":"text-emerald-400"})}),p.jsx("span",{className:"text-xs font-mono truncate min-w-[300px] text-center text-slate-200",children:f}),p.jsxs("div",{className:"flex gap-1",children:[p.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-700 animate-[bounce_1s_infinite]"}),p.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-700 animate-[bounce_1s_infinite_0.2s]"}),p.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-700 animate-[bounce_1s_infinite_0.4s]"})]})]})]})},Jw=({className:t})=>p.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[p.jsx("path",{d:"M5 12h14"}),p.jsx("path",{d:"m12 5 7 7-7 7"})]}),$w=({className:t})=>p.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[p.jsx("path",{d:"m12 19-7-7 7-7"}),p.jsx("path",{d:"M19 12H5"})]}),Xw=[{line:1,text:"/* semphr.h maps to queue.c */",type:"comment"},{line:2,text:"BaseType_t xQueueSemaphoreTake( QueueHandle_t xQueue, TickType_t xTicksToWait )",type:"func"},{line:3,text:"{",type:"plain"},{line:4,text:"    taskENTER_CRITICAL();",type:"macro"},{line:5,text:"    {",type:"plain"},{line:6,text:"        if( xQueue->uxMessagesWaiting > 0 )",type:"keyword"},{line:7,text:"        {",type:"plain"},{line:8,text:"            // Resource Available: Decrement Count",type:"comment"},{line:9,text:"            xQueue->uxMessagesWaiting--;",type:"code"},{line:10,text:"            ",type:"plain"},{line:11,text:"            // If Mutex, record new holder",type:"comment"},{line:12,text:"            if( xQueue->uxQueueType == queueQUEUE_IS_MUTEX )",type:"keyword"},{line:13,text:"            {",type:"plain"},{line:14,text:"                xQueue->pxMutexHolder = pvTaskIncrementMutexHeldCount();",type:"call"},{line:15,text:"            }",type:"plain"},{line:16,text:"            return pdPASS;",type:"keyword"},{line:17,text:"        }",type:"plain"},{line:18,text:"        else",type:"keyword"},{line:19,text:"        {",type:"plain"},{line:20,text:"             // Resource Unavailable: Block Task",type:"comment"},{line:21,text:"             vTaskPlaceOnEventList( &( xQueue->xTasksWaitingToReceive ), xTicksToWait );",type:"call"},{line:22,text:"             return errQUEUE_EMPTY;",type:"keyword"},{line:23,text:"        }",type:"plain"},{line:24,text:"    }",type:"plain"},{line:25,text:"    taskEXIT_CRITICAL();",type:"macro"},{line:26,text:"}",type:"plain"}],Qw=[{line:1,text:"/* xSemaphoreGive maps to xQueueGenericSend */",type:"comment"},{line:2,text:"BaseType_t xQueueGenericSend( QueueHandle_t xQueue, ... )",type:"func"},{line:3,text:"{",type:"plain"},{line:4,text:"    taskENTER_CRITICAL();",type:"macro"},{line:5,text:"    {",type:"plain"},{line:6,text:"        if( xQueue->uxMessagesWaiting < xQueue->uxLength )",type:"keyword"},{line:7,text:"        {",type:"plain"},{line:8,text:"            // Resource Released: Increment Count",type:"comment"},{line:9,text:"            xQueue->uxMessagesWaiting++;",type:"code"},{line:10,text:"            ",type:"plain"},{line:11,text:"            // If Mutex, clear holder",type:"comment"},{line:12,text:"            if( xQueue->uxQueueType == queueQUEUE_IS_MUTEX )",type:"keyword"},{line:13,text:"            {",type:"plain"},{line:14,text:"                xQueue->pxMutexHolder = NULL;",type:"code"},{line:15,text:"            }",type:"plain"},{line:16,text:"            ",type:"plain"},{line:17,text:"            // Wake up waiting tasks",type:"comment"},{line:18,text:"            if( listLIST_IS_EMPTY( &( xQueue->xTasksWaitingToReceive ) ) == pdFALSE )",type:"keyword"},{line:19,text:"            {",type:"plain"},{line:20,text:"                if( xTaskRemoveFromEventList( ... ) ) portYIELD();",type:"call"},{line:21,text:"            }",type:"plain"},{line:22,text:"        }",type:"plain"},{line:23,text:"    }",type:"plain"},{line:24,text:"    taskEXIT_CRITICAL();",type:"macro"},{line:25,text:"}",type:"plain"}],eo=[{id:0,text:" (Max=3)3",codeLine:null,mode:"TAKE"},{id:1,text:"Task A  (xQueueSemaphoreTake)",codeLine:2,mode:"TAKE",activeTask:"Take1"},{id:2,text:"uxMessagesWaiting > 0 (3)",codeLine:6,mode:"TAKE",activeTask:"Take1"},{id:3,text:"uxMessagesWaiting  2",codeLine:9,mode:"TAKE",activeTask:"Take1"},{id:4,text:"Task A  (return pdPASS)",codeLine:16,mode:"TAKE",activeTask:"Take1"},{id:5,text:"Task B ",codeLine:2,mode:"TAKE",activeTask:"Take2"},{id:6,text:"uxMessagesWaiting  1",codeLine:9,mode:"TAKE",activeTask:"Take2"},{id:7,text:"Task B ",codeLine:16,mode:"TAKE",activeTask:"Take2"},{id:8,text:"Task C ",codeLine:2,mode:"TAKE",activeTask:"Take3"},{id:9,text:"uxMessagesWaiting  0 ()",codeLine:9,mode:"TAKE",activeTask:"Take3"},{id:10,text:"Task C ",codeLine:16,mode:"TAKE",activeTask:"Take3"},{id:11,text:"Task A ",codeLine:2,mode:"TAKE",activeTask:"Take1"},{id:12,text:"uxMessagesWaiting (0)  > 0",codeLine:6,mode:"TAKE",activeTask:"Take1"},{id:13,text:" (Else)",codeLine:18,mode:"TAKE",activeTask:"Take1"},{id:14,text:"Task A  (Blocked)",codeLine:21,mode:"TAKE",activeTask:"Take1"},{id:15,text:"ISR/Task  (xSemaphoreGive)",codeLine:2,mode:"GIVE",activeTask:"Give1"},{id:16,text:"uxMessagesWaiting < Max",codeLine:6,mode:"GIVE",activeTask:"Give1"},{id:17,text:"uxMessagesWaiting  1",codeLine:9,mode:"GIVE",activeTask:"Give1"},{id:18,text:" Task A ",codeLine:18,mode:"GIVE",activeTask:"Give1"},{id:19,text:" Task A ()",codeLine:20,mode:"GIVE",activeTask:"Give1"},{id:20,text:"Task A  (Count -> 0)",codeLine:9,mode:"TAKE",activeTask:"Take1"}],Ww=({activeLine:t,height:e,mode:i})=>{const o=k.useRef(null),a=i==="TAKE"?Xw:Qw;return k.useEffect(()=>{if(t!==null&&o.current){const r=document.getElementById(`sem-line-${t}`);r&&r.scrollIntoView({behavior:"smooth",block:"center"})}},[t,i]),p.jsxs("div",{style:{height:e},className:"flex flex-col bg-[#0f172a] font-mono text-sm relative border-t border-slate-800 z-10",children:[p.jsxs("div",{className:"h-9 bg-[#1e293b] flex items-center border-b border-slate-700/50 shrink-0 select-none px-4 gap-2",children:[p.jsx(ps,{size:14,className:"text-sky-500"}),p.jsx("span",{className:"font-bold text-xs text-sky-400",children:"queue.c"}),p.jsx("span",{className:"text-[10px] text-slate-500 mx-2",children:"|"}),p.jsx("span",{className:`text-[10px] font-bold ${i==="TAKE"?"text-rose-400":"text-emerald-400"}`,children:i==="TAKE"?"xQueueSemaphoreTake (Consume)":"xQueueGenericSend (Give/Produce)"})]}),p.jsx("div",{ref:o,className:"flex-1 overflow-y-auto custom-scrollbar p-2",children:a.map((r,c)=>{const f=t===r.line;return p.jsxs("div",{id:`sem-line-${r.line}`,className:`flex ${f?"bg-sky-900/20 -mx-2 px-2":""}`,children:[p.jsx("div",{className:`w-8 text-right pr-3 select-none shrink-0 text-[10px] ${f?"text-sky-500 font-bold":"text-slate-600"}`,children:r.line}),p.jsx("div",{className:"flex-1 whitespace-pre truncate text-xs leading-5",children:r.type==="comment"?p.jsx("span",{className:"text-emerald-600 italic",children:r.text}):r.type==="keyword"?p.jsx("span",{className:"text-purple-400",children:r.text}):r.type==="func"?p.jsx("span",{className:"text-yellow-200",children:r.text}):r.type==="call"?p.jsx("span",{className:"text-sky-300",children:r.text}):r.type==="macro"?p.jsx("span",{className:"text-amber-300",children:r.text}):r.type==="code"?p.jsx("span",{className:"text-slate-200 font-bold",children:r.text}):p.jsx("span",{className:"text-slate-300",children:r.text})})]},c)})})]})},dr=({label:t,value:e,color:i="text-slate-400"})=>p.jsxs("div",{className:"flex justify-between items-center text-xs py-1 border-b border-slate-800/50 last:border-0",children:[p.jsx("span",{className:"text-slate-500 font-bold",children:t}),p.jsx("span",{className:`font-mono ${i}`,children:e})]}),Zw=({type:t,tokens:e,maxTokens:i,blockedTasks:o,owner:a,width:r})=>p.jsxs("div",{style:{width:r},className:"bg-slate-900 border-l border-slate-800 flex flex-col shrink-0 text-slate-300 h-full",children:[p.jsxs("div",{className:"h-8 bg-slate-900 px-4 flex items-center gap-2 text-xs font-bold text-slate-400 border-b border-slate-800 shadow-sm shrink-0",children:[p.jsx(go,{size:14,className:"text-emerald-500"}),p.jsx("span",{children:"SEMAPHORE INSPECTOR"})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-2",children:[p.jsx(un,{title:"Queue Definition (Semaphore)",children:p.jsxs("div",{className:"px-1",children:[p.jsx(dr,{label:"uxMessagesWaiting",value:e,color:e>0?"text-emerald-400 font-bold":"text-rose-400 font-bold"}),p.jsx(dr,{label:"uxLength",value:i}),p.jsx(dr,{label:"uxQueueType",value:t==="BINARY"?"queueQUEUE_IS_BINARY":"queueQUEUE_IS_COUNTING"}),t==="BINARY"&&p.jsx(dr,{label:"pxMutexHolder",value:a||"NULL",color:a?"text-sky-300":"text-slate-500"})]})}),p.jsx(un,{title:"Event Lists",children:p.jsxs("div",{className:"px-1",children:[p.jsxs("div",{className:"text-[10px] text-slate-500 uppercase font-bold mb-1 flex justify-between",children:[p.jsx("span",{children:"xTasksWaitingToReceive"}),p.jsx("span",{className:"text-slate-600",children:o.length})]}),o.length>0?p.jsx("div",{className:"flex flex-col gap-1",children:o.map((c,f)=>p.jsxs("div",{className:"text-xs text-amber-300 bg-amber-900/10 border border-amber-500/20 p-1 rounded flex items-center gap-2",children:[p.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500"})," ",c]},f))}):p.jsx("div",{className:"text-[10px] text-slate-600 italic pl-2",children:"List Empty"})]})}),p.jsx(un,{title:"Implementation Notes",children:p.jsxs("div",{className:"p-2 space-y-3 text-xs text-slate-400 leading-relaxed",children:[p.jsxs("div",{className:"flex gap-2 items-start",children:[p.jsx(oC,{size:14,className:"text-sky-500 shrink-0 mt-0.5"}),p.jsxs("div",{children:[p.jsx("strong",{className:"text-sky-400 block mb-0.5",children:"Semaphores are Queues"}),p.jsxs("p",{children:[" FreeRTOS  ",p.jsx("code",{children:"uxMessagesWaiting"})," "]})]})]}),t==="BINARY"&&p.jsxs("div",{className:"flex gap-2 items-start",children:[p.jsx(Rn,{size:14,className:"text-rose-500 shrink-0 mt-0.5"}),p.jsxs("div",{children:[p.jsx("strong",{className:"text-rose-400 block mb-0.5",children:"Binary vs Mutex"}),p.jsx("p",{children:"Mutex "})]})]})]})})]})]}),eM=()=>{const[t,e]=k.useState("COUNTING"),[i,o]=k.useState(0),[a,r]=k.useState(!1),[c,f]=k.useState(300),[g,h]=k.useState(250),x=t==="COUNTING"?3:1,T=[{id:"Take1",name:"Task A",status:"Running"},{id:"Take2",name:"Task B",status:"Running"},{id:"Take3",name:"Task C",status:"Running"},{id:"Give1",name:"ISR / Task",status:"Running"}];k.useEffect(()=>{let D;return a&&i<eo.length-1?D=setTimeout(()=>{o(G=>G+1)},1500):i>=eo.length-1&&r(!1),()=>clearTimeout(D)},[a,i]);const S=()=>{let D=3,G=[],Y=null,X=null;return i>=3&&(D=2),i>=6&&(D=1),i>=9&&(D=0),i>=14&&i<19&&G.push("Take1"),i>=17&&(D=1),i>=20&&(D=0),Y=eo[i].activeTask||null,{tokens:D,blocked:G,activeTask:Y,owner:X}},{tokens:b,blocked:_,activeTask:N,owner:A}=S(),w=eo[i],U=()=>{o(0),r(!1),e("COUNTING")};return p.jsxs("div",{className:"h-full w-full bg-slate-950 flex flex-col md:flex-row overflow-hidden relative",children:[p.jsxs("div",{className:"flex-1 flex flex-col min-w-0",style:{height:"100%"},children:[p.jsx("div",{className:"absolute top-6 left-6 z-40 flex gap-2",children:p.jsx("div",{className:"bg-slate-900/90 backdrop-blur p-1.5 rounded-xl border border-slate-700 shadow-xl flex gap-2",children:p.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-slate-800 rounded-lg text-xs font-bold border border-slate-700",children:[t==="BINARY"?p.jsx(S_,{className:"text-rose-400"}):p.jsx(b_,{className:"text-emerald-400"}),p.jsxs("span",{className:"text-slate-300",children:[t," MODE"]})]})})}),p.jsx(Or,{onReset:U,onNext:()=>o(D=>Math.min(D+1,eo.length-1)),canPrev:!1,isPlaying:a,onTogglePlay:()=>r(!a),canNext:i<eo.length-1,canFinish:!1}),p.jsx(Kw,{type:t,tokens:b,maxTokens:x,blockedTasks:_,owner:A,tasks:T,activeTask:N,stepDescription:w.text,stepMode:w.mode}),p.jsx(fn,{orientation:"horizontal",onDrag:D=>h(G=>Math.min(Math.max(G-D,150),600))}),p.jsx(Ww,{activeLine:w.codeLine,height:g,mode:w.mode})]}),p.jsx(fn,{orientation:"vertical",onDrag:D=>f(G=>Math.min(Math.max(G-D,220),450))}),p.jsx(Zw,{type:t,tokens:b,maxTokens:x,blockedTasks:_,owner:A,width:c})]})},tM=({tasks:t,currentTask:e,mutexOwner:i,isInheritanceEnabled:o,stepDescription:a,stepType:r})=>{var g;[...t].sort((h,x)=>x.prio-h.prio);const c=h=>h==="H"?"bg-rose-500 border-rose-400":h==="M"?"bg-amber-500 border-amber-400":"bg-emerald-500 border-emerald-400",f=r==="inherit";return p.jsxs("div",{className:"flex-1 bg-slate-950 relative overflow-hidden flex flex-col items-center justify-center p-8 select-none font-sans",children:[p.jsxs("div",{className:"w-full max-w-4xl flex gap-12 items-end justify-center h-[400px]",children:[p.jsxs("div",{className:"flex-1 h-full flex flex-col relative",children:[p.jsxs("div",{className:"absolute -left-12 top-0 bottom-0 flex flex-col justify-between text-[10px] text-slate-500 font-bold uppercase py-4",children:[p.jsx("span",{children:"High Priority"}),p.jsx(_v,{size:16,className:"self-center"}),p.jsx("span",{children:"Low Priority"})]}),[3,2,1].map(h=>p.jsx("div",{className:"flex-1 border-b border-slate-800/50 relative flex items-center px-4",children:p.jsxs("span",{className:"text-[10px] text-slate-700 font-mono absolute right-2",children:["PRI ",h]})},h)),p.jsx("div",{className:"absolute inset-0",children:p.jsx(ei,{children:t.map(h=>{const x=(3-h.prio)*33.3+16.6,T=i===h.id,S=e===h.id,b=h.prio>h.basePrio;return p.jsxs(pe.div,{layoutId:h.id,initial:!1,animate:{top:`${x}%`,scale:S?1.1:1,opacity:h.state==="BLOCKED"?.6:1},transition:{type:"spring",stiffness:120,damping:15},className:`
                                        absolute left-10 w-32 h-16 rounded-xl border-2 flex items-center justify-between px-3 shadow-lg z-10
                                        ${c(h.id)}
                                        ${h.state==="BLOCKED"?"grayscale-[0.5]":""}
                                    `,children:[p.jsxs("div",{className:"flex flex-col text-white",children:[p.jsx("span",{className:"text-sm font-bold",children:h.name}),p.jsxs("span",{className:"text-[9px] opacity-80 font-mono",children:["Pri: ",h.basePrio," ",b&&`-> ${h.prio}`]})]}),p.jsxs("div",{className:"flex flex-col gap-1",children:[T&&p.jsx(Rn,{size:14,className:"text-white fill-white/20"}),S&&p.jsx(wl,{size:14,className:"text-white animate-pulse"})]}),b&&p.jsx(pe.div,{className:"absolute -inset-4 rounded-xl border-2 border-rose-500 bg-rose-500/10 z-[-1]",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{repeat:1/0,repeatType:"reverse",duration:1},children:p.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-rose-500 text-white text-[8px] px-1.5 rounded font-bold whitespace-nowrap",children:"INHERITED"})})]},h.id)})})})]}),p.jsxs("div",{className:"w-48 flex flex-col items-center gap-4",children:[p.jsx("div",{className:`
                    w-32 h-32 rounded-full border-4 flex flex-col items-center justify-center transition-all duration-300 relative
                    ${i?"border-rose-500 bg-rose-900/20 shadow-[0_0_30px_rgba(244,63,94,0.2)]":"border-emerald-500 bg-emerald-900/20"}
                `,children:i?p.jsxs(p.Fragment,{children:[p.jsx(Rn,{size:40,className:"text-rose-500 mb-2"}),p.jsx("span",{className:"text-xs font-bold text-rose-400",children:"LOCKED"}),p.jsxs("span",{className:"text-[10px] text-slate-400",children:["Owner: ",(g=t.find(h=>h.id===i))==null?void 0:g.name]})]}):p.jsxs(p.Fragment,{children:[p.jsx(Rv,{size:40,className:"text-emerald-500 mb-2"}),p.jsx("span",{className:"text-xs font-bold text-emerald-400",children:"FREE"})]})}),p.jsxs("div",{className:"bg-slate-900 p-3 rounded-xl border border-slate-800 text-[10px] space-y-2 w-full",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"w-2 h-2 bg-rose-500 rounded-full"})," High Priority (Critical)"]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"w-2 h-2 bg-amber-500 rounded-full"})," Medium Priority (Noise)"]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"})," Low Priority (Worker)"]})]})]})]}),p.jsxs("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 bg-slate-900/95 backdrop-blur-md border border-slate-700 px-6 py-2.5 rounded-full shadow-2xl z-50 flex items-center gap-3 w-max max-w-xl transition-all",children:[p.jsx("div",{className:`p-1.5 rounded-full transition-colors ${f?"bg-rose-500/10":"bg-sky-500/10"}`,children:p.jsx(Pl,{size:14,className:f?"text-rose-400":"text-sky-400"})}),p.jsx("span",{className:"text-xs font-mono truncate min-w-[300px] text-center text-slate-200",children:a}),p.jsxs("div",{className:"flex gap-1",children:[p.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-700 animate-[bounce_1s_infinite]"}),p.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-700 animate-[bounce_1s_infinite_0.2s]"}),p.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-700 animate-[bounce_1s_infinite_0.4s]"})]})]})]})},nM=[{line:1,text:"/* Tries to take Mutex. If held, check for Priority Inversion */",type:"comment"},{line:2,text:"void *pvTaskIncrementMutexHeldCount( void )",type:"func"},{line:3,text:"{",type:"plain"},{line:4,text:"    if( pxCurrentTCB != pxMutexHolder )",type:"keyword"},{line:5,text:"    {",type:"plain"},{line:6,text:"        // Mutex is held by another task",type:"comment"},{line:7,text:"        if( pxCurrentTCB->uxPriority > pxMutexHolder->uxPriority )",type:"keyword"},{line:8,text:"        {",type:"plain"},{line:9,text:"            // INHERITANCE: Boost Holder Priority",type:"comment"},{line:10,text:"            taskENTER_CRITICAL();",type:"macro"},{line:11,text:"            xTaskPriorityInherit( pxMutexHolder );",type:"call"},{line:12,text:"            taskEXIT_CRITICAL();",type:"macro"},{line:13,text:"        }",type:"plain"},{line:14,text:"    }",type:"plain"},{line:15,text:"}",type:"plain"}],iM=[{line:1,text:"/* Elevates priority of Mutex Holder */",type:"comment"},{line:2,text:"void xTaskPriorityInherit( TCB_t * const pxTCB )",type:"func"},{line:3,text:"{",type:"plain"},{line:4,text:"    if( pxTCB->uxPriority < pxCurrentTCB->uxPriority )",type:"keyword"},{line:5,text:"    {",type:"plain"},{line:6,text:"        // 1. Adjust Event List Item Value (for sorting)",type:"comment"},{line:7,text:"        listSET_LIST_ITEM_VALUE( &( pxTCB->xEventListItem ), ... );",type:"call"},{line:8,text:"        ",type:"plain"},{line:9,text:"        // 2. Direct Priority Update",type:"comment"},{line:10,text:"        pxTCB->uxPriority = pxCurrentTCB->uxPriority;",type:"code"},{line:11,text:"    }",type:"plain"},{line:12,text:"}",type:"plain"}],sM=[{line:1,text:"/* Restores priority when Mutex is released */",type:"comment"},{line:2,text:"BaseType_t xTaskPriorityDisinherit( TCB_t * const pxTCB )",type:"func"},{line:3,text:"{",type:"plain"},{line:4,text:"    if( pxTCB->uxPriority != pxTCB->uxBasePriority )",type:"keyword"},{line:5,text:"    {",type:"plain"},{line:6,text:"        // Restore original base priority",type:"comment"},{line:7,text:"        pxTCB->uxPriority = pxTCB->uxBasePriority;",type:"code"},{line:8,text:"        ",type:"plain"},{line:9,text:"        // Re-insert into correct Ready List",type:"comment"},{line:10,text:"        listSET_LIST_ITEM_VALUE( &( pxTCB->xEventListItem ), ... );",type:"call"},{line:11,text:"        prvAddTaskToReadyList( pxTCB );",type:"call"},{line:12,text:"        return pdTRUE;",type:"keyword"},{line:13,text:"    }",type:"plain"},{line:14,text:"}",type:"plain"}],to=[{id:0,text:":  (Low) ",codeLine:0,codeTab:"take"},{id:1,text:"Low  Mutex",codeLine:4,codeTab:"take"},{id:2,text:" (High)  Low",codeLine:2,codeTab:"take"},{id:3,text:"High  Mutex ->  Low ",codeLine:7,codeTab:"take"},{id:4,text:" -> ",codeLine:11,codeTab:"take"},{id:5,text:":  Low  High",codeLine:10,codeTab:"inherit"},{id:6,text:" (Med)  ->  (Low)",codeLine:10,codeTab:"inherit"},{id:7,text:"Low  Mutex ->  BasePriority",codeLine:7,codeTab:"disinherit"},{id:8,text:"High  Mutex ",codeLine:12,codeTab:"disinherit"}],oM=({activeLine:t,height:e,activeTab:i})=>{const o=k.useRef(null),a=i==="take"?nM:i==="inherit"?iM:sM;return k.useEffect(()=>{if(t!==null&&o.current){const r=document.getElementById(`inv-line-${t}`);r&&r.scrollIntoView({behavior:"smooth",block:"center"})}},[t,i]),p.jsxs("div",{style:{height:e},className:"flex flex-col bg-[#0f172a] font-mono text-sm relative border-t border-slate-800 z-10",children:[p.jsxs("div",{className:"h-9 bg-[#1e293b] flex items-center border-b border-slate-700/50 shrink-0 select-none px-4 gap-2",children:[p.jsx(ps,{size:14,className:"text-sky-500"}),p.jsx("span",{className:"font-bold text-xs text-sky-400",children:"tasks.c / queue.c"}),p.jsx("span",{className:"text-[10px] text-slate-500 mx-2",children:"|"}),p.jsx("span",{className:`text-[10px] font-bold ${i==="inherit"?"text-rose-400":"text-slate-300"}`,children:i==="take"?"pvTaskIncrementMutexHeldCount":i==="inherit"?"xTaskPriorityInherit":"xTaskPriorityDisinherit"})]}),p.jsx("div",{ref:o,className:"flex-1 overflow-y-auto custom-scrollbar p-2",children:a.map((r,c)=>{const f=t===r.line;return p.jsxs("div",{id:`inv-line-${r.line}`,className:`flex ${f?"bg-sky-900/20 -mx-2 px-2":""}`,children:[p.jsx("div",{className:`w-8 text-right pr-3 select-none shrink-0 text-[10px] ${f?"text-sky-500 font-bold":"text-slate-600"}`,children:r.line}),p.jsx("div",{className:"flex-1 whitespace-pre truncate text-xs leading-5",children:r.type==="comment"?p.jsx("span",{className:"text-emerald-600 italic",children:r.text}):r.type==="keyword"?p.jsx("span",{className:"text-purple-400",children:r.text}):r.type==="func"?p.jsx("span",{className:"text-yellow-200",children:r.text}):r.type==="call"?p.jsx("span",{className:"text-sky-300",children:r.text}):r.type==="macro"?p.jsx("span",{className:"text-amber-300",children:r.text}):r.type==="code"?p.jsx("span",{className:"text-slate-200 font-bold",children:r.text}):p.jsx("span",{className:"text-slate-300",children:r.text})})]},c)})})]})},Tl=({label:t,value:e,color:i="text-slate-400",highlight:o=!1})=>p.jsxs("div",{className:`flex justify-between items-center text-xs py-1 border-b border-slate-800/50 last:border-0 ${o?"bg-sky-900/20":""}`,children:[p.jsx("span",{className:"text-slate-500 font-bold",children:t}),p.jsx("span",{className:`font-mono ${i}`,children:e})]}),lM=({tasks:t,mutexOwner:e,width:i})=>p.jsxs("div",{style:{width:i},className:"bg-slate-900 border-l border-slate-800 flex flex-col shrink-0 text-slate-300 h-full",children:[p.jsxs("div",{className:"h-8 bg-slate-900 px-4 flex items-center gap-2 text-xs font-bold text-slate-400 border-b border-slate-800 shadow-sm shrink-0",children:[p.jsx(go,{size:14,className:"text-emerald-500"}),p.jsx("span",{children:"TCB INSPECTOR"})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-2",children:[p.jsx(un,{title:"Mutex Status",children:p.jsxs("div",{className:"px-1",children:[p.jsx(Tl,{label:"pxMutexHolder",value:e?`${e} (TCB)`:"NULL",color:e?"text-rose-400 font-bold":"text-slate-500"}),p.jsx(Tl,{label:"uxQueueType",value:"queueQUEUE_IS_MUTEX"})]})}),t.slice().reverse().map(o=>{const a=o.prio>o.basePrio;return p.jsx("div",{className:"bg-slate-950/50 rounded-lg border border-slate-800/50 overflow-hidden",children:p.jsx(un,{title:`${o.name} (TCB)`,children:p.jsxs("div",{className:"px-1",children:[p.jsx(Tl,{label:"uxPriority",value:o.prio,color:a?"text-rose-400 font-bold animate-pulse":"text-sky-300",highlight:a}),p.jsx(Tl,{label:"uxBasePriority",value:o.basePrio}),p.jsx(Tl,{label:"xStateListItem",value:o.state}),a&&p.jsxs("div",{className:"mt-2 text-[10px] bg-rose-900/20 text-rose-300 p-1.5 rounded border border-rose-500/30 flex items-center gap-2",children:[p.jsx(Pr,{size:12}),p.jsx("span",{children:"INHERITANCE ACTIVE"})]})]})})},o.id)})]})]}),aM=()=>{const[t,e]=k.useState(0),[i,o]=k.useState(!1),[a,r]=k.useState(300),[c,f]=k.useState(250),[g,h]=k.useState(!1);Sv.useEffect(()=>{let N;return g&&t<to.length-1?N=setTimeout(()=>{e(A=>A+1)},1500):t>=to.length-1&&h(!1),()=>clearTimeout(N)},[g,t]);const x=()=>{let N={id:"L",name:"Task L",prio:1,basePrio:1,state:"READY"},A={id:"M",name:"Task M",prio:2,basePrio:2,state:"READY"},w={id:"H",name:"Task H",prio:3,basePrio:3,state:"READY"},U="L",D=null;return t>=1&&(D="L"),t===2&&(U="H"),t>=3&&(w.state="BLOCKED",U="L",i&&D==="L"&&(N.prio=3)),t>=4&&t<=6&&(i?(U="L",A.state="READY"):(U="M",N.state="READY")),t===7&&(D=null,N.prio=1,w.state="READY",U="H"),t===8&&(U="H",D="H"),{tasks:[N,A,w],current:U,owner:D}},{tasks:T,current:S,owner:b}=x(),_=to[t]||to[0];return p.jsxs("div",{className:"h-full w-full bg-slate-950 flex flex-col md:flex-row overflow-hidden relative",children:[p.jsxs("div",{className:"flex-1 flex flex-col min-w-0",style:{height:"100%"},children:[p.jsxs("div",{className:"absolute top-6 left-6 z-40 bg-slate-900/90 backdrop-blur p-1 rounded-xl border border-slate-700 shadow-xl flex gap-1",children:[p.jsx("button",{onClick:()=>{o(!1),e(0),h(!1)},className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-colors ${i?"text-slate-400 hover:text-white":"bg-rose-500/20 text-rose-400"}`,children:"Normal Mutex"}),p.jsx("button",{onClick:()=>{o(!0),e(0),h(!1)},className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-colors ${i?"bg-emerald-500/20 text-emerald-400":"text-slate-400 hover:text-white"}`,children:"Priority Inheritance"})]}),p.jsx(Or,{onReset:()=>{e(0),h(!1)},onNext:()=>e(N=>Math.min(N+1,to.length-1)),isPlaying:g,onTogglePlay:()=>h(!g),canNext:t<to.length-1,canFinish:!1}),p.jsx(tM,{tasks:T,currentTask:S,mutexOwner:b,isInheritanceEnabled:i,stepDescription:_.text,stepType:_.codeTab}),p.jsx(fn,{orientation:"horizontal",onDrag:N=>f(A=>Math.min(Math.max(A-N,150),600))}),p.jsx(oM,{activeLine:_.codeLine,activeTab:_.codeTab,height:c})]}),p.jsx(fn,{orientation:"vertical",onDrag:N=>r(A=>Math.min(Math.max(A-N,220),450))}),p.jsx(lM,{tasks:T,mutexOwner:b,width:a})]})};var rM={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let uM,cM;function dM(){return{geminiUrl:uM,vertexUrl:cM}}function fM(t,e,i,o){var a,r;if(!(t!=null&&t.baseUrl)){const c=dM();return e?(a=c.vertexUrl)!==null&&a!==void 0?a:i:(r=c.geminiUrl)!==null&&r!==void 0?r:o}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oi{}function ee(t,e){const i=/\{([^}]+)\}/g;return t.replace(i,(o,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const r=e[a];return r!=null?String(r):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function m(t,e,i){for(let r=0;r<e.length-1;r++){const c=e[r];if(c.endsWith("[]")){const f=c.slice(0,-2);if(!(f in t))if(Array.isArray(i))t[f]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[f])){const g=t[f];if(Array.isArray(i))for(let h=0;h<g.length;h++){const x=g[h];m(x,e.slice(r+1),i[h])}else for(const h of g)m(h,e.slice(r+1),i)}return}else if(c.endsWith("[0]")){const f=c.slice(0,-3);f in t||(t[f]=[{}]);const g=t[f];m(g[0],e.slice(r+1),i);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const o=e[e.length-1],a=t[o];if(a!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===a)return;if(typeof a=="object"&&typeof i=="object"&&a!==null&&i!==null)Object.assign(a,i);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(t,i):t[o]=i}function d(t,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let o=0;o<e.length;o++){if(typeof t!="object"||t===null)return i;const a=e[o];if(a.endsWith("[]")){const r=a.slice(0,-2);if(r in t){const c=t[r];return Array.isArray(c)?c.map(f=>d(f,e.slice(o+1),i)):i}else return i}else t=t[a]}return t}catch(o){if(o instanceof TypeError)return i;throw o}}function pM(t,e){for(const[i,o]of Object.entries(e)){const a=i.split("."),r=o.split("."),c=new Set;let f=-1;for(let g=0;g<a.length;g++)if(a[g]==="*"){f=g;break}if(f!==-1&&r.length>f)for(let g=f;g<r.length;g++){const h=r[g];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&c.add(h)}lf(t,a,r,0,c)}}function lf(t,e,i,o,a){if(o>=e.length||typeof t!="object"||t===null)return;const r=e[o];if(r.endsWith("[]")){const c=r.slice(0,-2),f=t;if(c in f&&Array.isArray(f[c]))for(const g of f[c])lf(g,e,i,o+1,a)}else if(r==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const c=t,f=Object.keys(c).filter(h=>!h.startsWith("_")&&!a.has(h)),g={};for(const h of f)g[h]=c[h];for(const[h,x]of Object.entries(g)){const T=[];for(const S of i.slice(o))S==="*"?T.push(h):T.push(S);m(c,T,x)}for(const h of f)delete c[h]}}else{const c=t;r in c&&lf(c[r],e,i,o+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ip(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hM(t){const e={},i=d(t,["operationName"]);i!=null&&m(e,["operationName"],i);const o=d(t,["resourceName"]);return o!=null&&m(e,["_url","resourceName"],o),e}function mM(t){const e={},i=d(t,["name"]);i!=null&&m(e,["name"],i);const o=d(t,["metadata"]);o!=null&&m(e,["metadata"],o);const a=d(t,["done"]);a!=null&&m(e,["done"],a);const r=d(t,["error"]);r!=null&&m(e,["error"],r);const c=d(t,["response","generateVideoResponse"]);return c!=null&&m(e,["response"],yM(c)),e}function gM(t){const e={},i=d(t,["name"]);i!=null&&m(e,["name"],i);const o=d(t,["metadata"]);o!=null&&m(e,["metadata"],o);const a=d(t,["done"]);a!=null&&m(e,["done"],a);const r=d(t,["error"]);r!=null&&m(e,["error"],r);const c=d(t,["response"]);return c!=null&&m(e,["response"],xM(c)),e}function yM(t){const e={},i=d(t,["generatedSamples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(c=>vM(c))),m(e,["generatedVideos"],r)}const o=d(t,["raiMediaFilteredCount"]);o!=null&&m(e,["raiMediaFilteredCount"],o);const a=d(t,["raiMediaFilteredReasons"]);return a!=null&&m(e,["raiMediaFilteredReasons"],a),e}function xM(t){const e={},i=d(t,["videos"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(c=>TM(c))),m(e,["generatedVideos"],r)}const o=d(t,["raiMediaFilteredCount"]);o!=null&&m(e,["raiMediaFilteredCount"],o);const a=d(t,["raiMediaFilteredReasons"]);return a!=null&&m(e,["raiMediaFilteredReasons"],a),e}function vM(t){const e={},i=d(t,["video"]);return i!=null&&m(e,["video"],NM(i)),e}function TM(t){const e={},i=d(t,["_self"]);return i!=null&&m(e,["video"],AM(i)),e}function SM(t){const e={},i=d(t,["operationName"]);return i!=null&&m(e,["_url","operationName"],i),e}function EM(t){const e={},i=d(t,["operationName"]);return i!=null&&m(e,["_url","operationName"],i),e}function bM(t){const e={},i=d(t,["name"]);i!=null&&m(e,["name"],i);const o=d(t,["metadata"]);o!=null&&m(e,["metadata"],o);const a=d(t,["done"]);a!=null&&m(e,["done"],a);const r=d(t,["error"]);r!=null&&m(e,["error"],r);const c=d(t,["response"]);return c!=null&&m(e,["response"],CM(c)),e}function CM(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=d(t,["parent"]);o!=null&&m(e,["parent"],o);const a=d(t,["documentName"]);return a!=null&&m(e,["documentName"],a),e}function g1(t){const e={},i=d(t,["name"]);i!=null&&m(e,["name"],i);const o=d(t,["metadata"]);o!=null&&m(e,["metadata"],o);const a=d(t,["done"]);a!=null&&m(e,["done"],a);const r=d(t,["error"]);r!=null&&m(e,["error"],r);const c=d(t,["response"]);return c!=null&&m(e,["response"],_M(c)),e}function _M(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=d(t,["parent"]);o!=null&&m(e,["parent"],o);const a=d(t,["documentName"]);return a!=null&&m(e,["documentName"],a),e}function NM(t){const e={},i=d(t,["uri"]);i!=null&&m(e,["uri"],i);const o=d(t,["encodedVideo"]);o!=null&&m(e,["videoBytes"],ip(o));const a=d(t,["encoding"]);return a!=null&&m(e,["mimeType"],a),e}function AM(t){const e={},i=d(t,["gcsUri"]);i!=null&&m(e,["uri"],i);const o=d(t,["bytesBase64Encoded"]);o!=null&&m(e,["videoBytes"],ip(o));const a=d(t,["mimeType"]);return a!=null&&m(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Gy;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Gy||(Gy={}));var Oy;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Oy||(Oy={}));var jy;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(jy||(jy={}));var ki;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(ki||(ki={}));var qy;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(qy||(qy={}));var Fy;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Fy||(Fy={}));var Yy;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Yy||(Yy={}));var Ky;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Ky||(Ky={}));var Jy;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Jy||(Jy={}));var $y;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})($y||($y={}));var Xy;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Xy||(Xy={}));var Qy;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Qy||(Qy={}));var Wy;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Wy||(Wy={}));var Zy;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Zy||(Zy={}));var ex;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(ex||(ex={}));var tx;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(tx||(tx={}));var nx;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(nx||(nx={}));var ix;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(ix||(ix={}));var sx;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(sx||(sx={}));var Mr;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Mr||(Mr={}));var ox;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ox||(ox={}));var lx;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(lx||(lx={}));var ax;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(ax||(ax={}));var af;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(af||(af={}));var rx;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(rx||(rx={}));var ux;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ux||(ux={}));var cx;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(cx||(cx={}));var dx;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(dx||(dx={}));var fx;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(fx||(fx={}));var px;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(px||(px={}));var hx;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(hx||(hx={}));var mx;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(mx||(mx={}));var gx;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(gx||(gx={}));var yx;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(yx||(yx={}));var xx;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(xx||(xx={}));var vx;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(vx||(vx={}));var Tx;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Tx||(Tx={}));var Sx;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Sx||(Sx={}));var Ex;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Ex||(Ex={}));var bx;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(bx||(bx={}));var Cx;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Cx||(Cx={}));var _x;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(_x||(_x={}));var Nx;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Nx||(Nx={}));var Ax;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Ax||(Ax={}));var Rx;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Rx||(Rx={}));var wx;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(wx||(wx={}));var Mx;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Mx||(Mx={}));var Ix;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Ix||(Ix={}));var Dx;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Dx||(Dx={}));var kx;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(kx||(kx={}));var Lx;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Lx||(Lx={}));var Ux;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Ux||(Ux={}));var Px;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Px||(Px={}));var Vx;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Vx||(Vx={}));var Bx;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Bx||(Bx={}));var ro;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(ro||(ro={}));class rf{constructor(e){const i={};for(const o of e.headers.entries())i[o[0]]=o[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class Sl{get text(){var e,i,o,a,r,c,f,g;if(((a=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",x=!1;const T=[];for(const S of(g=(f=(c=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)!==null&&g!==void 0?g:[]){for(const[b,_]of Object.entries(S))b!=="text"&&b!=="thought"&&b!=="thoughtSignature"&&(_!==null||_!==void 0)&&T.push(b);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;x=!0,h+=S.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?h:void 0}get data(){var e,i,o,a,r,c,f,g;if(((a=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const x=[];for(const T of(g=(f=(c=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)!==null&&g!==void 0?g:[]){for(const[S,b]of Object.entries(T))S!=="inlineData"&&(b!==null||b!==void 0)&&x.push(S);T.inlineData&&typeof T.inlineData.data=="string"&&(h+=atob(T.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,i,o,a,r,c,f,g;if(((a=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(g=(f=(c=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||g===void 0?void 0:g.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,i,o,a,r,c,f,g,h;if(((a=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(g=(f=(c=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||g===void 0?void 0:g.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((x==null?void 0:x.length)!==0)return(h=x==null?void 0:x[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,i,o,a,r,c,f,g,h;if(((a=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(g=(f=(c=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||g===void 0?void 0:g.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((x==null?void 0:x.length)!==0)return(h=x==null?void 0:x[0])===null||h===void 0?void 0:h.output}}class Hx{}class zx{}class RM{}class wM{}class MM{}class IM{}class Gx{}class Ox{}class jx{}class DM{}class Ir{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const o=new Ir;let a;const r=e;return i?a=gM(r):a=mM(r),Object.assign(o,a),o}}class qx{}class Fx{}class Yx{}class Kx{}class kM{}class LM{}class UM{}class sp{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const o=new sp,r=bM(e);return Object.assign(o,r),o}}class PM{}class VM{}class BM{}class Jx{}class HM{get text(){var e,i,o;let a="",r=!1;const c=[];for(const f of(o=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&o!==void 0?o:[]){for(const[g,h]of Object.entries(f))g!=="text"&&g!=="thought"&&h!==null&&c.push(g);if(typeof f.text=="string"){if(typeof f.thought=="boolean"&&f.thought)continue;r=!0,a+=f.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),r?a:void 0}get data(){var e,i,o;let a="";const r=[];for(const c of(o=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&o!==void 0?o:[]){for(const[f,g]of Object.entries(c))f!=="inlineData"&&g!==null&&r.push(f);c.inlineData&&typeof c.inlineData.data=="string"&&(a+=atob(c.inlineData.data))}return r.length>0&&console.warn(`there are non-data parts ${r} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class zM{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class op{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const o=new op,r=g1(e);return Object.assign(o,r),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ke(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function y1(t,e){const i=ke(t,e);return i?i.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}`:i.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${i}`:i:""}function x1(t){return Array.isArray(t)?t.map(e=>Dr(e)):[Dr(t)]}function Dr(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function v1(t){const e=Dr(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function T1(t){const e=Dr(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function $x(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function S1(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>$x(e)):[$x(t)]}function uf(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Xx(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Qx(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Nt(t){if(t==null)throw new Error("ContentUnion is required");return uf(t)?t:{role:"user",parts:S1(t)}}function lp(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const o=Nt(i);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const i=Nt(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>Nt(i)):[Nt(e)]}function dn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Xx(t)||Qx(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Nt(t)]}const e=[],i=[],o=uf(t[0]);for(const a of t){const r=uf(a);if(r!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(r)e.push(a);else{if(Xx(a)||Qx(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(a)}}return o||e.push({role:"user",parts:S1(i)}),e}function GM(t,e){t.includes("null")&&(e.nullable=!0);const i=t.filter(o=>o!=="null");if(i.length===1)e.type=Object.values(ki).includes(i[0].toUpperCase())?i[0].toUpperCase():ki.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of i)e.anyOf.push({type:Object.values(ki).includes(o.toUpperCase())?o.toUpperCase():ki.TYPE_UNSPECIFIED})}}function fo(t){const e={},i=["items"],o=["anyOf"],a=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const r=t.anyOf;r!=null&&r.length==2&&(r[0].type==="null"?(e.nullable=!0,t=r[1]):r[1].type==="null"&&(e.nullable=!0,t=r[0])),t.type instanceof Array&&GM(t.type,e);for(const[c,f]of Object.entries(t))if(f!=null)if(c=="type"){if(f==="null")throw new Error("type: null can not be the only possible type for the field.");if(f instanceof Array)continue;e.type=Object.values(ki).includes(f.toUpperCase())?f.toUpperCase():ki.TYPE_UNSPECIFIED}else if(i.includes(c))e[c]=fo(f);else if(o.includes(c)){const g=[];for(const h of f){if(h.type=="null"){e.nullable=!0;continue}g.push(fo(h))}e[c]=g}else if(a.includes(c)){const g={};for(const[h,x]of Object.entries(f))g[h]=fo(x);e[c]=g}else{if(c==="additionalProperties")continue;e[c]=f}return e}function ap(t){return fo(t)}function rp(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function up(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function To(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=fo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=fo(e.response));return t}function So(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of t)e.push(i);return e}function OM(t,e,i,o=1){const a=!e.startsWith(`${i}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:a?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}/${e}`:e:a?`${i}/${e}`:e}function li(t,e){if(typeof e!="string")throw new Error("name must be a string");return OM(t,e,"cachedContents")}function E1(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Vi(t){return ip(t)}function jM(t){return t!=null&&typeof t=="object"&&"name"in t}function qM(t){return t!=null&&typeof t=="object"&&"video"in t}function FM(t){return t!=null&&typeof t=="object"&&"uri"in t}function b1(t){var e;let i;if(jM(t)&&(i=t.name),!(FM(t)&&(i=t.uri,i===void 0))&&!(qM(t)&&(i=(e=t.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof t=="string"&&(i=t),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const a=i.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${i}`);i=a[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function C1(t,e){let i;return t.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function _1(t){for(const e of["models","tunedModels","publisherModels"])if(YM(t,e))return t[e];return[]}function YM(t,e){return t!==null&&typeof t=="object"&&e in t}function KM(t,e={}){const i=t,o={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(o.responseJsonSchema=i.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function JM(t,e={}){const i=[],o=new Set;for(const a of t){const r=a.name;if(o.has(r))throw new Error(`Duplicate function name ${r} found in MCP tools. Please ensure function names are unique.`);o.add(r);const c=KM(a,e);c.functionDeclarations&&i.push(...c.functionDeclarations)}return{functionDeclarations:i}}function N1(t,e){let i;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const o=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,a=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(t.isVertexAI()){if(a>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function $M(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function A1(t){if(typeof t!="object"||t===null)return{};const e=t,i=e.inlinedResponses;if(typeof i!="object"||i===null)return t;const a=i.inlinedResponses;if(!Array.isArray(a)||a.length===0)return t;let r=!1;for(const c of a){if(typeof c!="object"||c===null)continue;const g=c.response;if(typeof g!="object"||g===null)continue;if(g.embedding!==void 0){r=!0;break}}return r&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Eo(t,e){const i=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function R1(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XM(t){const e={},i=d(t,["responsesFile"]);i!=null&&m(e,["fileName"],i);const o=d(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>MI(c))),m(e,["inlinedResponses"],r)}const a=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),m(e,["inlinedEmbedContentResponses"],r)}return e}function QM(t){const e={},i=d(t,["predictionsFormat"]);i!=null&&m(e,["format"],i);const o=d(t,["gcsDestination","outputUriPrefix"]);o!=null&&m(e,["gcsUri"],o);const a=d(t,["bigqueryDestination","outputUri"]);return a!=null&&m(e,["bigqueryUri"],a),e}function WM(t){const e={},i=d(t,["format"]);i!=null&&m(e,["predictionsFormat"],i);const o=d(t,["gcsUri"]);o!=null&&m(e,["gcsDestination","outputUriPrefix"],o);const a=d(t,["bigqueryUri"]);if(a!=null&&m(e,["bigqueryDestination","outputUri"],a),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Er(t){const e={},i=d(t,["name"]);i!=null&&m(e,["name"],i);const o=d(t,["metadata","displayName"]);o!=null&&m(e,["displayName"],o);const a=d(t,["metadata","state"]);a!=null&&m(e,["state"],R1(a));const r=d(t,["metadata","createTime"]);r!=null&&m(e,["createTime"],r);const c=d(t,["metadata","endTime"]);c!=null&&m(e,["endTime"],c);const f=d(t,["metadata","updateTime"]);f!=null&&m(e,["updateTime"],f);const g=d(t,["metadata","model"]);g!=null&&m(e,["model"],g);const h=d(t,["metadata","output"]);return h!=null&&m(e,["dest"],XM(A1(h))),e}function cf(t){const e={},i=d(t,["name"]);i!=null&&m(e,["name"],i);const o=d(t,["displayName"]);o!=null&&m(e,["displayName"],o);const a=d(t,["state"]);a!=null&&m(e,["state"],R1(a));const r=d(t,["error"]);r!=null&&m(e,["error"],r);const c=d(t,["createTime"]);c!=null&&m(e,["createTime"],c);const f=d(t,["startTime"]);f!=null&&m(e,["startTime"],f);const g=d(t,["endTime"]);g!=null&&m(e,["endTime"],g);const h=d(t,["updateTime"]);h!=null&&m(e,["updateTime"],h);const x=d(t,["model"]);x!=null&&m(e,["model"],x);const T=d(t,["inputConfig"]);T!=null&&m(e,["src"],ZM(T));const S=d(t,["outputConfig"]);S!=null&&m(e,["dest"],QM(A1(S)));const b=d(t,["completionStats"]);return b!=null&&m(e,["completionStats"],b),e}function ZM(t){const e={},i=d(t,["instancesFormat"]);i!=null&&m(e,["format"],i);const o=d(t,["gcsSource","uris"]);o!=null&&m(e,["gcsUri"],o);const a=d(t,["bigquerySource","inputUri"]);return a!=null&&m(e,["bigqueryUri"],a),e}function eI(t,e){const i={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=d(e,["fileName"]);o!=null&&m(i,["fileName"],o);const a=d(e,["inlinedRequests"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>wI(t,c))),m(i,["requests","requests"],r)}return i}function tI(t){const e={},i=d(t,["format"]);i!=null&&m(e,["instancesFormat"],i);const o=d(t,["gcsUri"]);o!=null&&m(e,["gcsSource","uris"],o);const a=d(t,["bigqueryUri"]);if(a!=null&&m(e,["bigquerySource","inputUri"],a),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function nI(t){const e={},i=d(t,["data"]);if(i!=null&&m(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function iI(t,e){const i={},o=d(e,["name"]);return o!=null&&m(i,["_url","name"],Eo(t,o)),i}function sI(t,e){const i={},o=d(e,["name"]);return o!=null&&m(i,["_url","name"],Eo(t,o)),i}function oI(t){const e={},i=d(t,["content"]);i!=null&&m(e,["content"],i);const o=d(t,["citationMetadata"]);o!=null&&m(e,["citationMetadata"],lI(o));const a=d(t,["tokenCount"]);a!=null&&m(e,["tokenCount"],a);const r=d(t,["finishReason"]);r!=null&&m(e,["finishReason"],r);const c=d(t,["avgLogprobs"]);c!=null&&m(e,["avgLogprobs"],c);const f=d(t,["groundingMetadata"]);f!=null&&m(e,["groundingMetadata"],f);const g=d(t,["index"]);g!=null&&m(e,["index"],g);const h=d(t,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const x=d(t,["safetyRatings"]);if(x!=null){let S=x;Array.isArray(S)&&(S=S.map(b=>b)),m(e,["safetyRatings"],S)}const T=d(t,["urlContextMetadata"]);return T!=null&&m(e,["urlContextMetadata"],T),e}function lI(t){const e={},i=d(t,["citationSources"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["citations"],o)}return e}function w1(t){const e={},i=d(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(r=>VI(r))),m(e,["parts"],a)}const o=d(t,["role"]);return o!=null&&m(e,["role"],o),e}function aI(t,e){const i={},o=d(t,["displayName"]);if(e!==void 0&&o!=null&&m(e,["batch","displayName"],o),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function rI(t,e){const i={},o=d(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const a=d(t,["dest"]);return e!==void 0&&a!=null&&m(e,["outputConfig"],WM($M(a))),i}function Wx(t,e){const i={},o=d(e,["model"]);o!=null&&m(i,["_url","model"],ke(t,o));const a=d(e,["src"]);a!=null&&m(i,["batch","inputConfig"],eI(t,N1(t,a)));const r=d(e,["config"]);return r!=null&&aI(r,i),i}function uI(t,e){const i={},o=d(e,["model"]);o!=null&&m(i,["model"],ke(t,o));const a=d(e,["src"]);a!=null&&m(i,["inputConfig"],tI(N1(t,a)));const r=d(e,["config"]);return r!=null&&rI(r,i),i}function cI(t,e){const i={},o=d(t,["displayName"]);return e!==void 0&&o!=null&&m(e,["batch","displayName"],o),i}function dI(t,e){const i={},o=d(e,["model"]);o!=null&&m(i,["_url","model"],ke(t,o));const a=d(e,["src"]);a!=null&&m(i,["batch","inputConfig"],xI(t,a));const r=d(e,["config"]);return r!=null&&cI(r,i),i}function fI(t,e){const i={},o=d(e,["name"]);return o!=null&&m(i,["_url","name"],Eo(t,o)),i}function pI(t,e){const i={},o=d(e,["name"]);return o!=null&&m(i,["_url","name"],Eo(t,o)),i}function hI(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=d(t,["name"]);o!=null&&m(e,["name"],o);const a=d(t,["done"]);a!=null&&m(e,["done"],a);const r=d(t,["error"]);return r!=null&&m(e,["error"],r),e}function mI(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=d(t,["name"]);o!=null&&m(e,["name"],o);const a=d(t,["done"]);a!=null&&m(e,["done"],a);const r=d(t,["error"]);return r!=null&&m(e,["error"],r),e}function gI(t,e){const i={},o=d(e,["contents"]);if(o!=null){let r=lp(t,o);Array.isArray(r)&&(r=r.map(c=>c)),m(i,["requests[]","request","content"],r)}const a=d(e,["config"]);return a!=null&&(m(i,["_self"],yI(a,i)),pM(i,{"requests[].*":"requests[].request.*"})),i}function yI(t,e){const i={},o=d(t,["taskType"]);e!==void 0&&o!=null&&m(e,["requests[]","taskType"],o);const a=d(t,["title"]);e!==void 0&&a!=null&&m(e,["requests[]","title"],a);const r=d(t,["outputDimensionality"]);if(e!==void 0&&r!=null&&m(e,["requests[]","outputDimensionality"],r),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function xI(t,e){const i={},o=d(e,["fileName"]);o!=null&&m(i,["file_name"],o);const a=d(e,["inlinedRequests"]);return a!=null&&m(i,["requests"],gI(t,a)),i}function vI(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&m(e,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function TI(t){const e={},i=d(t,["id"]);i!=null&&m(e,["id"],i);const o=d(t,["args"]);o!=null&&m(e,["args"],o);const a=d(t,["name"]);if(a!=null&&m(e,["name"],a),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function SI(t){const e={},i=d(t,["mode"]);i!=null&&m(e,["mode"],i);const o=d(t,["allowedFunctionNames"]);if(o!=null&&m(e,["allowedFunctionNames"],o),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function EI(t,e,i){const o={},a=d(e,["systemInstruction"]);i!==void 0&&a!=null&&m(i,["systemInstruction"],w1(Nt(a)));const r=d(e,["temperature"]);r!=null&&m(o,["temperature"],r);const c=d(e,["topP"]);c!=null&&m(o,["topP"],c);const f=d(e,["topK"]);f!=null&&m(o,["topK"],f);const g=d(e,["candidateCount"]);g!=null&&m(o,["candidateCount"],g);const h=d(e,["maxOutputTokens"]);h!=null&&m(o,["maxOutputTokens"],h);const x=d(e,["stopSequences"]);x!=null&&m(o,["stopSequences"],x);const T=d(e,["responseLogprobs"]);T!=null&&m(o,["responseLogprobs"],T);const S=d(e,["logprobs"]);S!=null&&m(o,["logprobs"],S);const b=d(e,["presencePenalty"]);b!=null&&m(o,["presencePenalty"],b);const _=d(e,["frequencyPenalty"]);_!=null&&m(o,["frequencyPenalty"],_);const N=d(e,["seed"]);N!=null&&m(o,["seed"],N);const A=d(e,["responseMimeType"]);A!=null&&m(o,["responseMimeType"],A);const w=d(e,["responseSchema"]);w!=null&&m(o,["responseSchema"],ap(w));const U=d(e,["responseJsonSchema"]);if(U!=null&&m(o,["responseJsonSchema"],U),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=d(e,["safetySettings"]);if(i!==void 0&&D!=null){let ge=D;Array.isArray(ge)&&(ge=ge.map(Pe=>BI(Pe))),m(i,["safetySettings"],ge)}const G=d(e,["tools"]);if(i!==void 0&&G!=null){let ge=So(G);Array.isArray(ge)&&(ge=ge.map(Pe=>zI(To(Pe)))),m(i,["tools"],ge)}const Y=d(e,["toolConfig"]);if(i!==void 0&&Y!=null&&m(i,["toolConfig"],HI(Y)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const X=d(e,["cachedContent"]);i!==void 0&&X!=null&&m(i,["cachedContent"],li(t,X));const O=d(e,["responseModalities"]);O!=null&&m(o,["responseModalities"],O);const j=d(e,["mediaResolution"]);j!=null&&m(o,["mediaResolution"],j);const q=d(e,["speechConfig"]);if(q!=null&&m(o,["speechConfig"],rp(q)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const W=d(e,["thinkingConfig"]);W!=null&&m(o,["thinkingConfig"],W);const le=d(e,["imageConfig"]);le!=null&&m(o,["imageConfig"],RI(le));const de=d(e,["enableEnhancedCivicAnswers"]);return de!=null&&m(o,["enableEnhancedCivicAnswers"],de),o}function bI(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=d(t,["candidates"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(h=>oI(h))),m(e,["candidates"],g)}const a=d(t,["modelVersion"]);a!=null&&m(e,["modelVersion"],a);const r=d(t,["promptFeedback"]);r!=null&&m(e,["promptFeedback"],r);const c=d(t,["responseId"]);c!=null&&m(e,["responseId"],c);const f=d(t,["usageMetadata"]);return f!=null&&m(e,["usageMetadata"],f),e}function CI(t,e){const i={},o=d(e,["name"]);return o!=null&&m(i,["_url","name"],Eo(t,o)),i}function _I(t,e){const i={},o=d(e,["name"]);return o!=null&&m(i,["_url","name"],Eo(t,o)),i}function NI(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&m(e,["enableWidget"],i),e}function AI(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&m(e,["timeRangeFilter"],i),e}function RI(t){const e={},i=d(t,["aspectRatio"]);i!=null&&m(e,["aspectRatio"],i);const o=d(t,["imageSize"]);if(o!=null&&m(e,["imageSize"],o),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function wI(t,e){const i={},o=d(e,["model"]);o!=null&&m(i,["request","model"],ke(t,o));const a=d(e,["contents"]);if(a!=null){let f=dn(a);Array.isArray(f)&&(f=f.map(g=>w1(g))),m(i,["request","contents"],f)}const r=d(e,["metadata"]);r!=null&&m(i,["metadata"],r);const c=d(e,["config"]);return c!=null&&m(i,["request","generationConfig"],EI(t,c,d(i,["request"],{}))),i}function MI(t){const e={},i=d(t,["response"]);i!=null&&m(e,["response"],bI(i));const o=d(t,["error"]);return o!=null&&m(e,["error"],o),e}function II(t,e){const i={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const a=d(t,["pageToken"]);if(e!==void 0&&a!=null&&m(e,["_query","pageToken"],a),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function DI(t,e){const i={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const a=d(t,["pageToken"]);e!==void 0&&a!=null&&m(e,["_query","pageToken"],a);const r=d(t,["filter"]);return e!==void 0&&r!=null&&m(e,["_query","filter"],r),i}function kI(t){const e={},i=d(t,["config"]);return i!=null&&II(i,e),e}function LI(t){const e={},i=d(t,["config"]);return i!=null&&DI(i,e),e}function UI(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const a=d(t,["operations"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>Er(c))),m(e,["batchJobs"],r)}return e}function PI(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const a=d(t,["batchPredictionJobs"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>cf(c))),m(e,["batchJobs"],r)}return e}function VI(t){const e={},i=d(t,["mediaResolution"]);i!=null&&m(e,["mediaResolution"],i);const o=d(t,["codeExecutionResult"]);o!=null&&m(e,["codeExecutionResult"],o);const a=d(t,["executableCode"]);a!=null&&m(e,["executableCode"],a);const r=d(t,["fileData"]);r!=null&&m(e,["fileData"],vI(r));const c=d(t,["functionCall"]);c!=null&&m(e,["functionCall"],TI(c));const f=d(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const g=d(t,["inlineData"]);g!=null&&m(e,["inlineData"],nI(g));const h=d(t,["text"]);h!=null&&m(e,["text"],h);const x=d(t,["thought"]);x!=null&&m(e,["thought"],x);const T=d(t,["thoughtSignature"]);T!=null&&m(e,["thoughtSignature"],T);const S=d(t,["videoMetadata"]);return S!=null&&m(e,["videoMetadata"],S),e}function BI(t){const e={},i=d(t,["category"]);if(i!=null&&m(e,["category"],i),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=d(t,["threshold"]);return o!=null&&m(e,["threshold"],o),e}function HI(t){const e={},i=d(t,["functionCallingConfig"]);i!=null&&m(e,["functionCallingConfig"],SI(i));const o=d(t,["retrievalConfig"]);return o!=null&&m(e,["retrievalConfig"],o),e}function zI(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(T=>T)),m(e,["functionDeclarations"],x)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],o);const a=d(t,["computerUse"]);a!=null&&m(e,["computerUse"],a);const r=d(t,["fileSearch"]);r!=null&&m(e,["fileSearch"],r);const c=d(t,["codeExecution"]);if(c!=null&&m(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],NI(f));const g=d(t,["googleSearch"]);g!=null&&m(e,["googleSearch"],AI(g));const h=d(t,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var si;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(si||(si={}));class hs{constructor(e,i,o,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,o,a)}init(e,i,o){var a,r;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!o||Object.keys(o).length===0?c={config:{}}:typeof o=="object"?c=Object.assign({},o):c=o,c.config&&(c.config.pageToken=i.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(r=(a=c.config)===null||a===void 0?void 0:a.pageSize)!==null&&r!==void 0?r:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GI extends oi{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new hs(si.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(i),i),this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)}}createInlinedGenerateContentRequest(e){const i=Wx(this.apiClient,e),o=i._url,a=ee("{model}:batchGenerateContent",o),f=i.batch.inputConfig.requests,g=f.requests,h=[];for(const x of g){const T=Object.assign({},x);if(T.systemInstruction){const S=T.systemInstruction;delete T.systemInstruction;const b=T.request;b.systemInstruction=S,T.request=b}h.push(T)}return f.requests=h,delete i.config,delete i._url,delete i._query,{path:a,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const o=i?Object.assign({},i):{},a=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${a}`),o.dest===void 0){const r=this.getGcsUri(e),c=this.getBigqueryUri(e);if(r)r.endsWith(".jsonl")?o.dest=`${r.slice(0,-6)}/dest`:o.dest=`${r}_dest_${a}`;else if(c)o.dest=`${c}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var i,o,a,r;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=uI(this.apiClient,e);return f=ee("batchPredictionJobs",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>cf(x))}else{const h=Wx(this.apiClient,e);return f=ee("{model}:batchGenerateContent",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>Er(x))}}async createEmbeddingsInternal(e){var i,o;let a,r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=dI(this.apiClient,e);return r=ee("{model}:asyncBatchEmbedContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>Er(g))}}async get(e){var i,o,a,r;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=_I(this.apiClient,e);return f=ee("batchPredictionJobs/{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>cf(x))}else{const h=CI(this.apiClient,e);return f=ee("batches/{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>Er(x))}}async cancel(e){var i,o,a,r;let c="",f={};if(this.apiClient.isVertexAI()){const g=sI(this.apiClient,e);c=ee("batchPredictionJobs/{name}:cancel",g._url),f=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const g=iI(this.apiClient,e);c=ee("batches/{name}:cancel",g._url),f=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var i,o,a,r;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=LI(e);return f=ee("batchPredictionJobs",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),c.then(x=>{const T=PI(x),S=new Jx;return Object.assign(S,T),S})}else{const h=kI(e);return f=ee("batches",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),c.then(x=>{const T=UI(x),S=new Jx;return Object.assign(S,T),S})}}async delete(e){var i,o,a,r;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=pI(this.apiClient,e);return f=ee("batchPredictionJobs/{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),c.then(x=>mI(x))}else{const h=fI(this.apiClient,e);return f=ee("batches/{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),c.then(x=>hI(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OI(t){const e={},i=d(t,["data"]);if(i!=null&&m(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function Zx(t){const e={},i=d(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(r=>dD(r))),m(e,["parts"],a)}const o=d(t,["role"]);return o!=null&&m(e,["role"],o),e}function jI(t,e){const i={},o=d(t,["ttl"]);e!==void 0&&o!=null&&m(e,["ttl"],o);const a=d(t,["expireTime"]);e!==void 0&&a!=null&&m(e,["expireTime"],a);const r=d(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const c=d(t,["contents"]);if(e!==void 0&&c!=null){let x=dn(c);Array.isArray(x)&&(x=x.map(T=>Zx(T))),m(e,["contents"],x)}const f=d(t,["systemInstruction"]);e!==void 0&&f!=null&&m(e,["systemInstruction"],Zx(Nt(f)));const g=d(t,["tools"]);if(e!==void 0&&g!=null){let x=g;Array.isArray(x)&&(x=x.map(T=>pD(T))),m(e,["tools"],x)}const h=d(t,["toolConfig"]);if(e!==void 0&&h!=null&&m(e,["toolConfig"],fD(h)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function qI(t,e){const i={},o=d(t,["ttl"]);e!==void 0&&o!=null&&m(e,["ttl"],o);const a=d(t,["expireTime"]);e!==void 0&&a!=null&&m(e,["expireTime"],a);const r=d(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const c=d(t,["contents"]);if(e!==void 0&&c!=null){let T=dn(c);Array.isArray(T)&&(T=T.map(S=>S)),m(e,["contents"],T)}const f=d(t,["systemInstruction"]);e!==void 0&&f!=null&&m(e,["systemInstruction"],Nt(f));const g=d(t,["tools"]);if(e!==void 0&&g!=null){let T=g;Array.isArray(T)&&(T=T.map(S=>hD(S))),m(e,["tools"],T)}const h=d(t,["toolConfig"]);e!==void 0&&h!=null&&m(e,["toolConfig"],h);const x=d(t,["kmsKeyName"]);return e!==void 0&&x!=null&&m(e,["encryption_spec","kmsKeyName"],x),i}function FI(t,e){const i={},o=d(e,["model"]);o!=null&&m(i,["model"],y1(t,o));const a=d(e,["config"]);return a!=null&&jI(a,i),i}function YI(t,e){const i={},o=d(e,["model"]);o!=null&&m(i,["model"],y1(t,o));const a=d(e,["config"]);return a!=null&&qI(a,i),i}function KI(t,e){const i={},o=d(e,["name"]);return o!=null&&m(i,["_url","name"],li(t,o)),i}function JI(t,e){const i={},o=d(e,["name"]);return o!=null&&m(i,["_url","name"],li(t,o)),i}function $I(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&m(e,["sdkHttpResponse"],i),e}function XI(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&m(e,["sdkHttpResponse"],i),e}function QI(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&m(e,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function WI(t){const e={},i=d(t,["id"]);i!=null&&m(e,["id"],i);const o=d(t,["args"]);o!=null&&m(e,["args"],o);const a=d(t,["name"]);if(a!=null&&m(e,["name"],a),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ZI(t){const e={},i=d(t,["mode"]);i!=null&&m(e,["mode"],i);const o=d(t,["allowedFunctionNames"]);if(o!=null&&m(e,["allowedFunctionNames"],o),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function eD(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&m(e,["description"],i);const o=d(t,["name"]);o!=null&&m(e,["name"],o);const a=d(t,["parameters"]);a!=null&&m(e,["parameters"],a);const r=d(t,["parametersJsonSchema"]);r!=null&&m(e,["parametersJsonSchema"],r);const c=d(t,["response"]);c!=null&&m(e,["response"],c);const f=d(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function tD(t,e){const i={},o=d(e,["name"]);return o!=null&&m(i,["_url","name"],li(t,o)),i}function nD(t,e){const i={},o=d(e,["name"]);return o!=null&&m(i,["_url","name"],li(t,o)),i}function iD(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&m(e,["enableWidget"],i),e}function sD(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&m(e,["timeRangeFilter"],i),e}function oD(t,e){const i={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const a=d(t,["pageToken"]);return e!==void 0&&a!=null&&m(e,["_query","pageToken"],a),i}function lD(t,e){const i={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const a=d(t,["pageToken"]);return e!==void 0&&a!=null&&m(e,["_query","pageToken"],a),i}function aD(t){const e={},i=d(t,["config"]);return i!=null&&oD(i,e),e}function rD(t){const e={},i=d(t,["config"]);return i!=null&&lD(i,e),e}function uD(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const a=d(t,["cachedContents"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),m(e,["cachedContents"],r)}return e}function cD(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const a=d(t,["cachedContents"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),m(e,["cachedContents"],r)}return e}function dD(t){const e={},i=d(t,["mediaResolution"]);i!=null&&m(e,["mediaResolution"],i);const o=d(t,["codeExecutionResult"]);o!=null&&m(e,["codeExecutionResult"],o);const a=d(t,["executableCode"]);a!=null&&m(e,["executableCode"],a);const r=d(t,["fileData"]);r!=null&&m(e,["fileData"],QI(r));const c=d(t,["functionCall"]);c!=null&&m(e,["functionCall"],WI(c));const f=d(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const g=d(t,["inlineData"]);g!=null&&m(e,["inlineData"],OI(g));const h=d(t,["text"]);h!=null&&m(e,["text"],h);const x=d(t,["thought"]);x!=null&&m(e,["thought"],x);const T=d(t,["thoughtSignature"]);T!=null&&m(e,["thoughtSignature"],T);const S=d(t,["videoMetadata"]);return S!=null&&m(e,["videoMetadata"],S),e}function fD(t){const e={},i=d(t,["functionCallingConfig"]);i!=null&&m(e,["functionCallingConfig"],ZI(i));const o=d(t,["retrievalConfig"]);return o!=null&&m(e,["retrievalConfig"],o),e}function pD(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(T=>T)),m(e,["functionDeclarations"],x)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],o);const a=d(t,["computerUse"]);a!=null&&m(e,["computerUse"],a);const r=d(t,["fileSearch"]);r!=null&&m(e,["fileSearch"],r);const c=d(t,["codeExecution"]);if(c!=null&&m(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],iD(f));const g=d(t,["googleSearch"]);g!=null&&m(e,["googleSearch"],sD(g));const h=d(t,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}function hD(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let T=i;Array.isArray(T)&&(T=T.map(S=>eD(S))),m(e,["functionDeclarations"],T)}const o=d(t,["retrieval"]);o!=null&&m(e,["retrieval"],o);const a=d(t,["googleSearchRetrieval"]);a!=null&&m(e,["googleSearchRetrieval"],a);const r=d(t,["computerUse"]);if(r!=null&&m(e,["computerUse"],r),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(t,["codeExecution"]);c!=null&&m(e,["codeExecution"],c);const f=d(t,["enterpriseWebSearch"]);f!=null&&m(e,["enterpriseWebSearch"],f);const g=d(t,["googleMaps"]);g!=null&&m(e,["googleMaps"],g);const h=d(t,["googleSearch"]);h!=null&&m(e,["googleSearch"],h);const x=d(t,["urlContext"]);return x!=null&&m(e,["urlContext"],x),e}function mD(t,e){const i={},o=d(t,["ttl"]);e!==void 0&&o!=null&&m(e,["ttl"],o);const a=d(t,["expireTime"]);return e!==void 0&&a!=null&&m(e,["expireTime"],a),i}function gD(t,e){const i={},o=d(t,["ttl"]);e!==void 0&&o!=null&&m(e,["ttl"],o);const a=d(t,["expireTime"]);return e!==void 0&&a!=null&&m(e,["expireTime"],a),i}function yD(t,e){const i={},o=d(e,["name"]);o!=null&&m(i,["_url","name"],li(t,o));const a=d(e,["config"]);return a!=null&&mD(a,i),i}function xD(t,e){const i={},o=d(e,["name"]);o!=null&&m(i,["_url","name"],li(t,o));const a=d(e,["config"]);return a!=null&&gD(a,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vD extends oi{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new hs(si.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(i),i)}async create(e){var i,o,a,r;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=YI(this.apiClient,e);return f=ee("cachedContents",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>x)}else{const h=FI(this.apiClient,e);return f=ee("cachedContents",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>x)}}async get(e){var i,o,a,r;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=nD(this.apiClient,e);return f=ee("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>x)}else{const h=tD(this.apiClient,e);return f=ee("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>x)}}async delete(e){var i,o,a,r;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=JI(this.apiClient,e);return f=ee("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),c.then(x=>{const T=XI(x),S=new Yx;return Object.assign(S,T),S})}else{const h=KI(this.apiClient,e);return f=ee("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),c.then(x=>{const T=$I(x),S=new Yx;return Object.assign(S,T),S})}}async update(e){var i,o,a,r;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=xD(this.apiClient,e);return f=ee("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>x)}else{const h=yD(this.apiClient,e);return f=ee("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>x)}}async listInternal(e){var i,o,a,r;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=rD(e);return f=ee("cachedContents",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),c.then(x=>{const T=cD(x),S=new Kx;return Object.assign(S,T),S})}else{const h=aD(e);return f=ee("cachedContents",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),c.then(x=>{const T=uD(x),S=new Kx;return Object.assign(S,T),S})}}}function kr(t,e){var i={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(t);a<o.length;a++)e.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(t,o[a])&&(i[o[a]]=t[o[a]]);return i}function ev(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fe(t){return this instanceof fe?(this.v=t,this):new fe(t)}function Tn(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(t,e||[]),a,r=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(b){return function(_){return Promise.resolve(_).then(b,T)}}function f(b,_){o[b]&&(a[b]=function(N){return new Promise(function(A,w){r.push([b,N,A,w])>1||g(b,N)})},_&&(a[b]=_(a[b])))}function g(b,_){try{h(o[b](_))}catch(N){S(r[0][3],N)}}function h(b){b.value instanceof fe?Promise.resolve(b.value.v).then(x,T):S(r[0][2],b)}function x(b){g("next",b)}function T(b){g("throw",b)}function S(b,_){b(_),r.shift(),r.length&&g(r[0][0],r[0][1])}}function Sn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof ev=="function"?ev(t):t[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(r){i[r]=t[r]&&function(c){return new Promise(function(f,g){c=t[r](c),a(f,g,c.done,c.value)})}}function a(r,c,f,g){Promise.resolve(g).then(function(h){r({value:h,done:f})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TD(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const i=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:M1(i)}function M1(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function SD(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function tv(t){if(t===void 0||t.length===0)return[];const e=[],i=t.length;let o=0;for(;o<i;)if(t[o].role==="user")e.push(t[o]),o++;else{const a=[];let r=!0;for(;o<i&&t[o].role==="model";)a.push(t[o]),r&&!M1(t[o])&&(r=!1),o++;r?e.push(...a):e.pop()}return e}class ED{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new bD(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class bD{constructor(e,i,o,a={},r=[]){this.apiClient=e,this.modelsModule=i,this.model=o,this.config=a,this.history=r,this.sendPromise=Promise.resolve(),SD(r)}async sendMessage(e){var i;await this.sendPromise;const o=Nt(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var r,c,f;const g=await a,h=(c=(r=g.candidates)===null||r===void 0?void 0:r[0])===null||c===void 0?void 0:c.content,x=g.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let S=[];x!=null&&(S=(f=x.slice(T))!==null&&f!==void 0?f:[]);const b=h?[h]:[];this.recordHistory(o,b,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var i;await this.sendPromise;const o=Nt(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const r=await a;return this.processStreamResponse(r,o)}getHistory(e=!1){const i=e?tv(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){return Tn(this,arguments,function*(){var a,r,c,f,g,h;const x=[];try{for(var T=!0,S=Sn(e),b;b=yield fe(S.next()),a=b.done,!a;T=!0){f=b.value,T=!1;const _=f;if(TD(_)){const N=(h=(g=_.candidates)===null||g===void 0?void 0:g[0])===null||h===void 0?void 0:h.content;N!==void 0&&x.push(N)}yield yield fe(_)}}catch(_){r={error:_}}finally{try{!T&&!a&&(c=S.return)&&(yield fe(c.call(S)))}finally{if(r)throw r.error}}this.recordHistory(i,x)})}recordHistory(e,i,o){let a=[];i.length>0&&i.every(r=>r.role!==void 0)?a=i:a.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...tv(o)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jr extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,jr.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CD(t){const e={},i=d(t,["file"]);return i!=null&&m(e,["file"],i),e}function _D(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&m(e,["sdkHttpResponse"],i),e}function ND(t){const e={},i=d(t,["name"]);return i!=null&&m(e,["_url","file"],b1(i)),e}function AD(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&m(e,["sdkHttpResponse"],i),e}function RD(t){const e={},i=d(t,["name"]);return i!=null&&m(e,["_url","file"],b1(i)),e}function wD(t,e){const i={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const a=d(t,["pageToken"]);return e!==void 0&&a!=null&&m(e,["_query","pageToken"],a),i}function MD(t){const e={},i=d(t,["config"]);return i!=null&&wD(i,e),e}function ID(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const a=d(t,["files"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),m(e,["files"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DD extends oi{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new hs(si.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,o;let a,r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=MD(e);return r=ee("files",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:g.headers},x})),a.then(g=>{const h=ID(g),x=new PM;return Object.assign(x,h),x})}}async createInternal(e){var i,o;let a,r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=CD(e);return r=ee("upload/v1beta/files",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>{const h=_D(g),x=new VM;return Object.assign(x,h),x})}}async get(e){var i,o;let a,r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=RD(e);return r=ee("files/{file}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var i,o;let a,r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=ND(e);return r=ee("files/{file}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:g.headers},x})),a.then(g=>{const h=AD(g),x=new BM;return Object.assign(x,h),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function br(t){const e={},i=d(t,["data"]);if(i!=null&&m(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function kD(t){const e={},i=d(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(r=>$D(r))),m(e,["parts"],a)}const o=d(t,["role"]);return o!=null&&m(e,["role"],o),e}function LD(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&m(e,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function UD(t){const e={},i=d(t,["id"]);i!=null&&m(e,["id"],i);const o=d(t,["args"]);o!=null&&m(e,["args"],o);const a=d(t,["name"]);if(a!=null&&m(e,["name"],a),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function PD(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&m(e,["description"],i);const o=d(t,["name"]);o!=null&&m(e,["name"],o);const a=d(t,["parameters"]);a!=null&&m(e,["parameters"],a);const r=d(t,["parametersJsonSchema"]);r!=null&&m(e,["parametersJsonSchema"],r);const c=d(t,["response"]);c!=null&&m(e,["response"],c);const f=d(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function VD(t){const e={},i=d(t,["modelSelectionConfig"]);i!=null&&m(e,["modelConfig"],i);const o=d(t,["responseJsonSchema"]);o!=null&&m(e,["responseJsonSchema"],o);const a=d(t,["audioTimestamp"]);a!=null&&m(e,["audioTimestamp"],a);const r=d(t,["candidateCount"]);r!=null&&m(e,["candidateCount"],r);const c=d(t,["enableAffectiveDialog"]);c!=null&&m(e,["enableAffectiveDialog"],c);const f=d(t,["frequencyPenalty"]);f!=null&&m(e,["frequencyPenalty"],f);const g=d(t,["logprobs"]);g!=null&&m(e,["logprobs"],g);const h=d(t,["maxOutputTokens"]);h!=null&&m(e,["maxOutputTokens"],h);const x=d(t,["mediaResolution"]);x!=null&&m(e,["mediaResolution"],x);const T=d(t,["presencePenalty"]);T!=null&&m(e,["presencePenalty"],T);const S=d(t,["responseLogprobs"]);S!=null&&m(e,["responseLogprobs"],S);const b=d(t,["responseMimeType"]);b!=null&&m(e,["responseMimeType"],b);const _=d(t,["responseModalities"]);_!=null&&m(e,["responseModalities"],_);const N=d(t,["responseSchema"]);N!=null&&m(e,["responseSchema"],N);const A=d(t,["routingConfig"]);A!=null&&m(e,["routingConfig"],A);const w=d(t,["seed"]);w!=null&&m(e,["seed"],w);const U=d(t,["speechConfig"]);U!=null&&m(e,["speechConfig"],I1(U));const D=d(t,["stopSequences"]);D!=null&&m(e,["stopSequences"],D);const G=d(t,["temperature"]);G!=null&&m(e,["temperature"],G);const Y=d(t,["thinkingConfig"]);Y!=null&&m(e,["thinkingConfig"],Y);const X=d(t,["topK"]);X!=null&&m(e,["topK"],X);const O=d(t,["topP"]);if(O!=null&&m(e,["topP"],O),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function BD(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&m(e,["enableWidget"],i),e}function HD(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&m(e,["timeRangeFilter"],i),e}function zD(t,e){const i={},o=d(t,["generationConfig"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig"],o);const a=d(t,["responseModalities"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","responseModalities"],a);const r=d(t,["temperature"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig","temperature"],r);const c=d(t,["topP"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","topP"],c);const f=d(t,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const g=d(t,["maxOutputTokens"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","maxOutputTokens"],g);const h=d(t,["mediaResolution"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","mediaResolution"],h);const x=d(t,["seed"]);e!==void 0&&x!=null&&m(e,["setup","generationConfig","seed"],x);const T=d(t,["speechConfig"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","speechConfig"],up(T));const S=d(t,["thinkingConfig"]);e!==void 0&&S!=null&&m(e,["setup","generationConfig","thinkingConfig"],S);const b=d(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],b);const _=d(t,["systemInstruction"]);e!==void 0&&_!=null&&m(e,["setup","systemInstruction"],kD(Nt(_)));const N=d(t,["tools"]);if(e!==void 0&&N!=null){let X=So(N);Array.isArray(X)&&(X=X.map(O=>QD(To(O)))),m(e,["setup","tools"],X)}const A=d(t,["sessionResumption"]);e!==void 0&&A!=null&&m(e,["setup","sessionResumption"],XD(A));const w=d(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&m(e,["setup","inputAudioTranscription"],w);const U=d(t,["outputAudioTranscription"]);e!==void 0&&U!=null&&m(e,["setup","outputAudioTranscription"],U);const D=d(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&m(e,["setup","realtimeInputConfig"],D);const G=d(t,["contextWindowCompression"]);e!==void 0&&G!=null&&m(e,["setup","contextWindowCompression"],G);const Y=d(t,["proactivity"]);if(e!==void 0&&Y!=null&&m(e,["setup","proactivity"],Y),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function GD(t,e){const i={},o=d(t,["generationConfig"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig"],VD(o));const a=d(t,["responseModalities"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","responseModalities"],a);const r=d(t,["temperature"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig","temperature"],r);const c=d(t,["topP"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","topP"],c);const f=d(t,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const g=d(t,["maxOutputTokens"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","maxOutputTokens"],g);const h=d(t,["mediaResolution"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","mediaResolution"],h);const x=d(t,["seed"]);e!==void 0&&x!=null&&m(e,["setup","generationConfig","seed"],x);const T=d(t,["speechConfig"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","speechConfig"],I1(up(T)));const S=d(t,["thinkingConfig"]);e!==void 0&&S!=null&&m(e,["setup","generationConfig","thinkingConfig"],S);const b=d(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],b);const _=d(t,["systemInstruction"]);e!==void 0&&_!=null&&m(e,["setup","systemInstruction"],Nt(_));const N=d(t,["tools"]);if(e!==void 0&&N!=null){let O=So(N);Array.isArray(O)&&(O=O.map(j=>WD(To(j)))),m(e,["setup","tools"],O)}const A=d(t,["sessionResumption"]);e!==void 0&&A!=null&&m(e,["setup","sessionResumption"],A);const w=d(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&m(e,["setup","inputAudioTranscription"],w);const U=d(t,["outputAudioTranscription"]);e!==void 0&&U!=null&&m(e,["setup","outputAudioTranscription"],U);const D=d(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&m(e,["setup","realtimeInputConfig"],D);const G=d(t,["contextWindowCompression"]);e!==void 0&&G!=null&&m(e,["setup","contextWindowCompression"],G);const Y=d(t,["proactivity"]);e!==void 0&&Y!=null&&m(e,["setup","proactivity"],Y);const X=d(t,["explicitVadSignal"]);return e!==void 0&&X!=null&&m(e,["setup","explicitVadSignal"],X),i}function OD(t,e){const i={},o=d(e,["model"]);o!=null&&m(i,["setup","model"],ke(t,o));const a=d(e,["config"]);return a!=null&&m(i,["config"],zD(a,i)),i}function jD(t,e){const i={},o=d(e,["model"]);o!=null&&m(i,["setup","model"],ke(t,o));const a=d(e,["config"]);return a!=null&&m(i,["config"],GD(a,i)),i}function qD(t){const e={},i=d(t,["musicGenerationConfig"]);return i!=null&&m(e,["musicGenerationConfig"],i),e}function FD(t){const e={},i=d(t,["weightedPrompts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["weightedPrompts"],o)}return e}function YD(t){const e={},i=d(t,["media"]);if(i!=null){let h=x1(i);Array.isArray(h)&&(h=h.map(x=>br(x))),m(e,["mediaChunks"],h)}const o=d(t,["audio"]);o!=null&&m(e,["audio"],br(T1(o)));const a=d(t,["audioStreamEnd"]);a!=null&&m(e,["audioStreamEnd"],a);const r=d(t,["video"]);r!=null&&m(e,["video"],br(v1(r)));const c=d(t,["text"]);c!=null&&m(e,["text"],c);const f=d(t,["activityStart"]);f!=null&&m(e,["activityStart"],f);const g=d(t,["activityEnd"]);return g!=null&&m(e,["activityEnd"],g),e}function KD(t){const e={},i=d(t,["media"]);if(i!=null){let h=x1(i);Array.isArray(h)&&(h=h.map(x=>x)),m(e,["mediaChunks"],h)}const o=d(t,["audio"]);o!=null&&m(e,["audio"],T1(o));const a=d(t,["audioStreamEnd"]);a!=null&&m(e,["audioStreamEnd"],a);const r=d(t,["video"]);r!=null&&m(e,["video"],v1(r));const c=d(t,["text"]);c!=null&&m(e,["text"],c);const f=d(t,["activityStart"]);f!=null&&m(e,["activityStart"],f);const g=d(t,["activityEnd"]);return g!=null&&m(e,["activityEnd"],g),e}function JD(t){const e={},i=d(t,["setupComplete"]);i!=null&&m(e,["setupComplete"],i);const o=d(t,["serverContent"]);o!=null&&m(e,["serverContent"],o);const a=d(t,["toolCall"]);a!=null&&m(e,["toolCall"],a);const r=d(t,["toolCallCancellation"]);r!=null&&m(e,["toolCallCancellation"],r);const c=d(t,["usageMetadata"]);c!=null&&m(e,["usageMetadata"],ZD(c));const f=d(t,["goAway"]);f!=null&&m(e,["goAway"],f);const g=d(t,["sessionResumptionUpdate"]);g!=null&&m(e,["sessionResumptionUpdate"],g);const h=d(t,["voiceActivityDetectionSignal"]);return h!=null&&m(e,["voiceActivityDetectionSignal"],h),e}function $D(t){const e={},i=d(t,["mediaResolution"]);i!=null&&m(e,["mediaResolution"],i);const o=d(t,["codeExecutionResult"]);o!=null&&m(e,["codeExecutionResult"],o);const a=d(t,["executableCode"]);a!=null&&m(e,["executableCode"],a);const r=d(t,["fileData"]);r!=null&&m(e,["fileData"],LD(r));const c=d(t,["functionCall"]);c!=null&&m(e,["functionCall"],UD(c));const f=d(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const g=d(t,["inlineData"]);g!=null&&m(e,["inlineData"],br(g));const h=d(t,["text"]);h!=null&&m(e,["text"],h);const x=d(t,["thought"]);x!=null&&m(e,["thought"],x);const T=d(t,["thoughtSignature"]);T!=null&&m(e,["thoughtSignature"],T);const S=d(t,["videoMetadata"]);return S!=null&&m(e,["videoMetadata"],S),e}function XD(t){const e={},i=d(t,["handle"]);if(i!=null&&m(e,["handle"],i),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function I1(t){const e={},i=d(t,["voiceConfig"]);i!=null&&m(e,["voiceConfig"],i);const o=d(t,["languageCode"]);if(o!=null&&m(e,["languageCode"],o),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function QD(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(T=>T)),m(e,["functionDeclarations"],x)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],o);const a=d(t,["computerUse"]);a!=null&&m(e,["computerUse"],a);const r=d(t,["fileSearch"]);r!=null&&m(e,["fileSearch"],r);const c=d(t,["codeExecution"]);if(c!=null&&m(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],BD(f));const g=d(t,["googleSearch"]);g!=null&&m(e,["googleSearch"],HD(g));const h=d(t,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}function WD(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let T=i;Array.isArray(T)&&(T=T.map(S=>PD(S))),m(e,["functionDeclarations"],T)}const o=d(t,["retrieval"]);o!=null&&m(e,["retrieval"],o);const a=d(t,["googleSearchRetrieval"]);a!=null&&m(e,["googleSearchRetrieval"],a);const r=d(t,["computerUse"]);if(r!=null&&m(e,["computerUse"],r),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(t,["codeExecution"]);c!=null&&m(e,["codeExecution"],c);const f=d(t,["enterpriseWebSearch"]);f!=null&&m(e,["enterpriseWebSearch"],f);const g=d(t,["googleMaps"]);g!=null&&m(e,["googleMaps"],g);const h=d(t,["googleSearch"]);h!=null&&m(e,["googleSearch"],h);const x=d(t,["urlContext"]);return x!=null&&m(e,["urlContext"],x),e}function ZD(t){const e={},i=d(t,["promptTokenCount"]);i!=null&&m(e,["promptTokenCount"],i);const o=d(t,["cachedContentTokenCount"]);o!=null&&m(e,["cachedContentTokenCount"],o);const a=d(t,["candidatesTokenCount"]);a!=null&&m(e,["responseTokenCount"],a);const r=d(t,["toolUsePromptTokenCount"]);r!=null&&m(e,["toolUsePromptTokenCount"],r);const c=d(t,["thoughtsTokenCount"]);c!=null&&m(e,["thoughtsTokenCount"],c);const f=d(t,["totalTokenCount"]);f!=null&&m(e,["totalTokenCount"],f);const g=d(t,["promptTokensDetails"]);if(g!=null){let b=g;Array.isArray(b)&&(b=b.map(_=>_)),m(e,["promptTokensDetails"],b)}const h=d(t,["cacheTokensDetails"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(_=>_)),m(e,["cacheTokensDetails"],b)}const x=d(t,["candidatesTokensDetails"]);if(x!=null){let b=x;Array.isArray(b)&&(b=b.map(_=>_)),m(e,["responseTokensDetails"],b)}const T=d(t,["toolUsePromptTokensDetails"]);if(T!=null){let b=T;Array.isArray(b)&&(b=b.map(_=>_)),m(e,["toolUsePromptTokensDetails"],b)}const S=d(t,["trafficType"]);return S!=null&&m(e,["trafficType"],S),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ek(t){const e={},i=d(t,["data"]);if(i!=null&&m(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function tk(t){const e={},i=d(t,["content"]);i!=null&&m(e,["content"],i);const o=d(t,["citationMetadata"]);o!=null&&m(e,["citationMetadata"],nk(o));const a=d(t,["tokenCount"]);a!=null&&m(e,["tokenCount"],a);const r=d(t,["finishReason"]);r!=null&&m(e,["finishReason"],r);const c=d(t,["avgLogprobs"]);c!=null&&m(e,["avgLogprobs"],c);const f=d(t,["groundingMetadata"]);f!=null&&m(e,["groundingMetadata"],f);const g=d(t,["index"]);g!=null&&m(e,["index"],g);const h=d(t,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const x=d(t,["safetyRatings"]);if(x!=null){let S=x;Array.isArray(S)&&(S=S.map(b=>b)),m(e,["safetyRatings"],S)}const T=d(t,["urlContextMetadata"]);return T!=null&&m(e,["urlContextMetadata"],T),e}function nk(t){const e={},i=d(t,["citationSources"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["citations"],o)}return e}function ik(t,e){const i={},o=d(e,["model"]);o!=null&&m(i,["_url","model"],ke(t,o));const a=d(e,["contents"]);if(a!=null){let r=dn(a);Array.isArray(r)&&(r=r.map(c=>c)),m(i,["contents"],r)}return i}function sk(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=d(t,["tokensInfo"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),m(e,["tokensInfo"],a)}return e}function ok(t){const e={},i=d(t,["values"]);i!=null&&m(e,["values"],i);const o=d(t,["statistics"]);return o!=null&&m(e,["statistics"],lk(o)),e}function lk(t){const e={},i=d(t,["truncated"]);i!=null&&m(e,["truncated"],i);const o=d(t,["token_count"]);return o!=null&&m(e,["tokenCount"],o),e}function qr(t){const e={},i=d(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(r=>m5(r))),m(e,["parts"],a)}const o=d(t,["role"]);return o!=null&&m(e,["role"],o),e}function ak(t){const e={},i=d(t,["controlType"]);i!=null&&m(e,["controlType"],i);const o=d(t,["enableControlImageComputation"]);return o!=null&&m(e,["computeControl"],o),e}function rk(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function uk(t,e){const i={},o=d(t,["systemInstruction"]);e!==void 0&&o!=null&&m(e,["systemInstruction"],Nt(o));const a=d(t,["tools"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>P1(f))),m(e,["tools"],c)}const r=d(t,["generationConfig"]);return e!==void 0&&r!=null&&m(e,["generationConfig"],e5(r)),i}function ck(t,e){const i={},o=d(e,["model"]);o!=null&&m(i,["_url","model"],ke(t,o));const a=d(e,["contents"]);if(a!=null){let c=dn(a);Array.isArray(c)&&(c=c.map(f=>qr(f))),m(i,["contents"],c)}const r=d(e,["config"]);return r!=null&&rk(r),i}function dk(t,e){const i={},o=d(e,["model"]);o!=null&&m(i,["_url","model"],ke(t,o));const a=d(e,["contents"]);if(a!=null){let c=dn(a);Array.isArray(c)&&(c=c.map(f=>f)),m(i,["contents"],c)}const r=d(e,["config"]);return r!=null&&uk(r,i),i}function fk(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=d(t,["totalTokens"]);o!=null&&m(e,["totalTokens"],o);const a=d(t,["cachedContentTokenCount"]);return a!=null&&m(e,["cachedContentTokenCount"],a),e}function pk(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=d(t,["totalTokens"]);return o!=null&&m(e,["totalTokens"],o),e}function hk(t,e){const i={},o=d(e,["model"]);return o!=null&&m(i,["_url","name"],ke(t,o)),i}function mk(t,e){const i={},o=d(e,["model"]);return o!=null&&m(i,["_url","name"],ke(t,o)),i}function gk(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&m(e,["sdkHttpResponse"],i),e}function yk(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&m(e,["sdkHttpResponse"],i),e}function xk(t,e){const i={},o=d(t,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const a=d(t,["negativePrompt"]);e!==void 0&&a!=null&&m(e,["parameters","negativePrompt"],a);const r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const c=d(t,["aspectRatio"]);e!==void 0&&c!=null&&m(e,["parameters","aspectRatio"],c);const f=d(t,["guidanceScale"]);e!==void 0&&f!=null&&m(e,["parameters","guidanceScale"],f);const g=d(t,["seed"]);e!==void 0&&g!=null&&m(e,["parameters","seed"],g);const h=d(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&m(e,["parameters","safetySetting"],h);const x=d(t,["personGeneration"]);e!==void 0&&x!=null&&m(e,["parameters","personGeneration"],x);const T=d(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&m(e,["parameters","includeSafetyAttributes"],T);const S=d(t,["includeRaiReason"]);e!==void 0&&S!=null&&m(e,["parameters","includeRaiReason"],S);const b=d(t,["language"]);e!==void 0&&b!=null&&m(e,["parameters","language"],b);const _=d(t,["outputMimeType"]);e!==void 0&&_!=null&&m(e,["parameters","outputOptions","mimeType"],_);const N=d(t,["outputCompressionQuality"]);e!==void 0&&N!=null&&m(e,["parameters","outputOptions","compressionQuality"],N);const A=d(t,["addWatermark"]);e!==void 0&&A!=null&&m(e,["parameters","addWatermark"],A);const w=d(t,["labels"]);e!==void 0&&w!=null&&m(e,["labels"],w);const U=d(t,["editMode"]);e!==void 0&&U!=null&&m(e,["parameters","editMode"],U);const D=d(t,["baseSteps"]);return e!==void 0&&D!=null&&m(e,["parameters","editConfig","baseSteps"],D),i}function vk(t,e){const i={},o=d(e,["model"]);o!=null&&m(i,["_url","model"],ke(t,o));const a=d(e,["prompt"]);a!=null&&m(i,["instances[0]","prompt"],a);const r=d(e,["referenceImages"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(g=>S5(g))),m(i,["instances[0]","referenceImages"],f)}const c=d(e,["config"]);return c!=null&&xk(c,i),i}function Tk(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=d(t,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>Fr(r))),m(e,["generatedImages"],a)}return e}function Sk(t,e){const i={},o=d(t,["taskType"]);e!==void 0&&o!=null&&m(e,["requests[]","taskType"],o);const a=d(t,["title"]);e!==void 0&&a!=null&&m(e,["requests[]","title"],a);const r=d(t,["outputDimensionality"]);if(e!==void 0&&r!=null&&m(e,["requests[]","outputDimensionality"],r),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function Ek(t,e){const i={},o=d(t,["taskType"]);e!==void 0&&o!=null&&m(e,["instances[]","task_type"],o);const a=d(t,["title"]);e!==void 0&&a!=null&&m(e,["instances[]","title"],a);const r=d(t,["outputDimensionality"]);e!==void 0&&r!=null&&m(e,["parameters","outputDimensionality"],r);const c=d(t,["mimeType"]);e!==void 0&&c!=null&&m(e,["instances[]","mimeType"],c);const f=d(t,["autoTruncate"]);return e!==void 0&&f!=null&&m(e,["parameters","autoTruncate"],f),i}function bk(t,e){const i={},o=d(e,["model"]);o!=null&&m(i,["_url","model"],ke(t,o));const a=d(e,["contents"]);if(a!=null){let f=lp(t,a);Array.isArray(f)&&(f=f.map(g=>g)),m(i,["requests[]","content"],f)}const r=d(e,["config"]);r!=null&&Sk(r,i);const c=d(e,["model"]);return c!==void 0&&m(i,["requests[]","model"],ke(t,c)),i}function Ck(t,e){const i={},o=d(e,["model"]);o!=null&&m(i,["_url","model"],ke(t,o));const a=d(e,["contents"]);if(a!=null){let c=lp(t,a);Array.isArray(c)&&(c=c.map(f=>f)),m(i,["instances[]","content"],c)}const r=d(e,["config"]);return r!=null&&Ek(r,i),i}function _k(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=d(t,["embeddings"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>c)),m(e,["embeddings"],r)}const a=d(t,["metadata"]);return a!=null&&m(e,["metadata"],a),e}function Nk(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=d(t,["predictions[]","embeddings"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>ok(c))),m(e,["embeddings"],r)}const a=d(t,["metadata"]);return a!=null&&m(e,["metadata"],a),e}function Ak(t){const e={},i=d(t,["endpoint"]);i!=null&&m(e,["name"],i);const o=d(t,["deployedModelId"]);return o!=null&&m(e,["deployedModelId"],o),e}function Rk(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&m(e,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function wk(t){const e={},i=d(t,["id"]);i!=null&&m(e,["id"],i);const o=d(t,["args"]);o!=null&&m(e,["args"],o);const a=d(t,["name"]);if(a!=null&&m(e,["name"],a),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Mk(t){const e={},i=d(t,["mode"]);i!=null&&m(e,["mode"],i);const o=d(t,["allowedFunctionNames"]);if(o!=null&&m(e,["allowedFunctionNames"],o),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Ik(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&m(e,["description"],i);const o=d(t,["name"]);o!=null&&m(e,["name"],o);const a=d(t,["parameters"]);a!=null&&m(e,["parameters"],a);const r=d(t,["parametersJsonSchema"]);r!=null&&m(e,["parametersJsonSchema"],r);const c=d(t,["response"]);c!=null&&m(e,["response"],c);const f=d(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function Dk(t,e,i){const o={},a=d(e,["systemInstruction"]);i!==void 0&&a!=null&&m(i,["systemInstruction"],qr(Nt(a)));const r=d(e,["temperature"]);r!=null&&m(o,["temperature"],r);const c=d(e,["topP"]);c!=null&&m(o,["topP"],c);const f=d(e,["topK"]);f!=null&&m(o,["topK"],f);const g=d(e,["candidateCount"]);g!=null&&m(o,["candidateCount"],g);const h=d(e,["maxOutputTokens"]);h!=null&&m(o,["maxOutputTokens"],h);const x=d(e,["stopSequences"]);x!=null&&m(o,["stopSequences"],x);const T=d(e,["responseLogprobs"]);T!=null&&m(o,["responseLogprobs"],T);const S=d(e,["logprobs"]);S!=null&&m(o,["logprobs"],S);const b=d(e,["presencePenalty"]);b!=null&&m(o,["presencePenalty"],b);const _=d(e,["frequencyPenalty"]);_!=null&&m(o,["frequencyPenalty"],_);const N=d(e,["seed"]);N!=null&&m(o,["seed"],N);const A=d(e,["responseMimeType"]);A!=null&&m(o,["responseMimeType"],A);const w=d(e,["responseSchema"]);w!=null&&m(o,["responseSchema"],ap(w));const U=d(e,["responseJsonSchema"]);if(U!=null&&m(o,["responseJsonSchema"],U),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=d(e,["safetySettings"]);if(i!==void 0&&D!=null){let ge=D;Array.isArray(ge)&&(ge=ge.map(Pe=>E5(Pe))),m(i,["safetySettings"],ge)}const G=d(e,["tools"]);if(i!==void 0&&G!=null){let ge=So(G);Array.isArray(ge)&&(ge=ge.map(Pe=>w5(To(Pe)))),m(i,["tools"],ge)}const Y=d(e,["toolConfig"]);if(i!==void 0&&Y!=null&&m(i,["toolConfig"],R5(Y)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const X=d(e,["cachedContent"]);i!==void 0&&X!=null&&m(i,["cachedContent"],li(t,X));const O=d(e,["responseModalities"]);O!=null&&m(o,["responseModalities"],O);const j=d(e,["mediaResolution"]);j!=null&&m(o,["mediaResolution"],j);const q=d(e,["speechConfig"]);if(q!=null&&m(o,["speechConfig"],rp(q)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const W=d(e,["thinkingConfig"]);W!=null&&m(o,["thinkingConfig"],W);const le=d(e,["imageConfig"]);le!=null&&m(o,["imageConfig"],o5(le));const de=d(e,["enableEnhancedCivicAnswers"]);return de!=null&&m(o,["enableEnhancedCivicAnswers"],de),o}function kk(t,e,i){const o={},a=d(e,["systemInstruction"]);i!==void 0&&a!=null&&m(i,["systemInstruction"],Nt(a));const r=d(e,["temperature"]);r!=null&&m(o,["temperature"],r);const c=d(e,["topP"]);c!=null&&m(o,["topP"],c);const f=d(e,["topK"]);f!=null&&m(o,["topK"],f);const g=d(e,["candidateCount"]);g!=null&&m(o,["candidateCount"],g);const h=d(e,["maxOutputTokens"]);h!=null&&m(o,["maxOutputTokens"],h);const x=d(e,["stopSequences"]);x!=null&&m(o,["stopSequences"],x);const T=d(e,["responseLogprobs"]);T!=null&&m(o,["responseLogprobs"],T);const S=d(e,["logprobs"]);S!=null&&m(o,["logprobs"],S);const b=d(e,["presencePenalty"]);b!=null&&m(o,["presencePenalty"],b);const _=d(e,["frequencyPenalty"]);_!=null&&m(o,["frequencyPenalty"],_);const N=d(e,["seed"]);N!=null&&m(o,["seed"],N);const A=d(e,["responseMimeType"]);A!=null&&m(o,["responseMimeType"],A);const w=d(e,["responseSchema"]);w!=null&&m(o,["responseSchema"],ap(w));const U=d(e,["responseJsonSchema"]);U!=null&&m(o,["responseJsonSchema"],U);const D=d(e,["routingConfig"]);D!=null&&m(o,["routingConfig"],D);const G=d(e,["modelSelectionConfig"]);G!=null&&m(o,["modelConfig"],G);const Y=d(e,["safetySettings"]);if(i!==void 0&&Y!=null){let H=Y;Array.isArray(H)&&(H=H.map(Q=>Q)),m(i,["safetySettings"],H)}const X=d(e,["tools"]);if(i!==void 0&&X!=null){let H=So(X);Array.isArray(H)&&(H=H.map(Q=>P1(To(Q)))),m(i,["tools"],H)}const O=d(e,["toolConfig"]);i!==void 0&&O!=null&&m(i,["toolConfig"],O);const j=d(e,["labels"]);i!==void 0&&j!=null&&m(i,["labels"],j);const q=d(e,["cachedContent"]);i!==void 0&&q!=null&&m(i,["cachedContent"],li(t,q));const W=d(e,["responseModalities"]);W!=null&&m(o,["responseModalities"],W);const le=d(e,["mediaResolution"]);le!=null&&m(o,["mediaResolution"],le);const de=d(e,["speechConfig"]);de!=null&&m(o,["speechConfig"],U1(rp(de)));const ge=d(e,["audioTimestamp"]);ge!=null&&m(o,["audioTimestamp"],ge);const Pe=d(e,["thinkingConfig"]);Pe!=null&&m(o,["thinkingConfig"],Pe);const Oe=d(e,["imageConfig"]);if(Oe!=null&&m(o,["imageConfig"],l5(Oe)),d(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function nv(t,e){const i={},o=d(e,["model"]);o!=null&&m(i,["_url","model"],ke(t,o));const a=d(e,["contents"]);if(a!=null){let c=dn(a);Array.isArray(c)&&(c=c.map(f=>qr(f))),m(i,["contents"],c)}const r=d(e,["config"]);return r!=null&&m(i,["generationConfig"],Dk(t,r,i)),i}function iv(t,e){const i={},o=d(e,["model"]);o!=null&&m(i,["_url","model"],ke(t,o));const a=d(e,["contents"]);if(a!=null){let c=dn(a);Array.isArray(c)&&(c=c.map(f=>f)),m(i,["contents"],c)}const r=d(e,["config"]);return r!=null&&m(i,["generationConfig"],kk(t,r,i)),i}function sv(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=d(t,["candidates"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(h=>tk(h))),m(e,["candidates"],g)}const a=d(t,["modelVersion"]);a!=null&&m(e,["modelVersion"],a);const r=d(t,["promptFeedback"]);r!=null&&m(e,["promptFeedback"],r);const c=d(t,["responseId"]);c!=null&&m(e,["responseId"],c);const f=d(t,["usageMetadata"]);return f!=null&&m(e,["usageMetadata"],f),e}function ov(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=d(t,["candidates"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(x=>x)),m(e,["candidates"],h)}const a=d(t,["createTime"]);a!=null&&m(e,["createTime"],a);const r=d(t,["modelVersion"]);r!=null&&m(e,["modelVersion"],r);const c=d(t,["promptFeedback"]);c!=null&&m(e,["promptFeedback"],c);const f=d(t,["responseId"]);f!=null&&m(e,["responseId"],f);const g=d(t,["usageMetadata"]);return g!=null&&m(e,["usageMetadata"],g),e}function Lk(t,e){const i={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=d(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const a=d(t,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const r=d(t,["guidanceScale"]);if(e!==void 0&&r!=null&&m(e,["parameters","guidanceScale"],r),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=d(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&m(e,["parameters","safetySetting"],c);const f=d(t,["personGeneration"]);e!==void 0&&f!=null&&m(e,["parameters","personGeneration"],f);const g=d(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&m(e,["parameters","includeSafetyAttributes"],g);const h=d(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const x=d(t,["language"]);e!==void 0&&x!=null&&m(e,["parameters","language"],x);const T=d(t,["outputMimeType"]);e!==void 0&&T!=null&&m(e,["parameters","outputOptions","mimeType"],T);const S=d(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&m(e,["parameters","outputOptions","compressionQuality"],S),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=d(t,["imageSize"]);if(e!==void 0&&b!=null&&m(e,["parameters","sampleImageSize"],b),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function Uk(t,e){const i={},o=d(t,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const a=d(t,["negativePrompt"]);e!==void 0&&a!=null&&m(e,["parameters","negativePrompt"],a);const r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const c=d(t,["aspectRatio"]);e!==void 0&&c!=null&&m(e,["parameters","aspectRatio"],c);const f=d(t,["guidanceScale"]);e!==void 0&&f!=null&&m(e,["parameters","guidanceScale"],f);const g=d(t,["seed"]);e!==void 0&&g!=null&&m(e,["parameters","seed"],g);const h=d(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&m(e,["parameters","safetySetting"],h);const x=d(t,["personGeneration"]);e!==void 0&&x!=null&&m(e,["parameters","personGeneration"],x);const T=d(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&m(e,["parameters","includeSafetyAttributes"],T);const S=d(t,["includeRaiReason"]);e!==void 0&&S!=null&&m(e,["parameters","includeRaiReason"],S);const b=d(t,["language"]);e!==void 0&&b!=null&&m(e,["parameters","language"],b);const _=d(t,["outputMimeType"]);e!==void 0&&_!=null&&m(e,["parameters","outputOptions","mimeType"],_);const N=d(t,["outputCompressionQuality"]);e!==void 0&&N!=null&&m(e,["parameters","outputOptions","compressionQuality"],N);const A=d(t,["addWatermark"]);e!==void 0&&A!=null&&m(e,["parameters","addWatermark"],A);const w=d(t,["labels"]);e!==void 0&&w!=null&&m(e,["labels"],w);const U=d(t,["imageSize"]);e!==void 0&&U!=null&&m(e,["parameters","sampleImageSize"],U);const D=d(t,["enhancePrompt"]);return e!==void 0&&D!=null&&m(e,["parameters","enhancePrompt"],D),i}function Pk(t,e){const i={},o=d(e,["model"]);o!=null&&m(i,["_url","model"],ke(t,o));const a=d(e,["prompt"]);a!=null&&m(i,["instances[0]","prompt"],a);const r=d(e,["config"]);return r!=null&&Lk(r,i),i}function Vk(t,e){const i={},o=d(e,["model"]);o!=null&&m(i,["_url","model"],ke(t,o));const a=d(e,["prompt"]);a!=null&&m(i,["instances[0]","prompt"],a);const r=d(e,["config"]);return r!=null&&Uk(r,i),i}function Bk(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=d(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>Xk(c))),m(e,["generatedImages"],r)}const a=d(t,["positivePromptSafetyAttributes"]);return a!=null&&m(e,["positivePromptSafetyAttributes"],k1(a)),e}function Hk(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=d(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>Fr(c))),m(e,["generatedImages"],r)}const a=d(t,["positivePromptSafetyAttributes"]);return a!=null&&m(e,["positivePromptSafetyAttributes"],L1(a)),e}function zk(t,e){const i={},o=d(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=d(t,["durationSeconds"]);if(e!==void 0&&a!=null&&m(e,["parameters","durationSeconds"],a),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const r=d(t,["aspectRatio"]);e!==void 0&&r!=null&&m(e,["parameters","aspectRatio"],r);const c=d(t,["resolution"]);e!==void 0&&c!=null&&m(e,["parameters","resolution"],c);const f=d(t,["personGeneration"]);if(e!==void 0&&f!=null&&m(e,["parameters","personGeneration"],f),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=d(t,["negativePrompt"]);e!==void 0&&g!=null&&m(e,["parameters","negativePrompt"],g);const h=d(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&m(e,["parameters","enhancePrompt"],h),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const x=d(t,["lastFrame"]);e!==void 0&&x!=null&&m(e,["instances[0]","lastFrame"],Yr(x));const T=d(t,["referenceImages"]);if(e!==void 0&&T!=null){let S=T;Array.isArray(S)&&(S=S.map(b=>O5(b))),m(e,["instances[0]","referenceImages"],S)}if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function Gk(t,e){const i={},o=d(t,["numberOfVideos"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const a=d(t,["outputGcsUri"]);e!==void 0&&a!=null&&m(e,["parameters","storageUri"],a);const r=d(t,["fps"]);e!==void 0&&r!=null&&m(e,["parameters","fps"],r);const c=d(t,["durationSeconds"]);e!==void 0&&c!=null&&m(e,["parameters","durationSeconds"],c);const f=d(t,["seed"]);e!==void 0&&f!=null&&m(e,["parameters","seed"],f);const g=d(t,["aspectRatio"]);e!==void 0&&g!=null&&m(e,["parameters","aspectRatio"],g);const h=d(t,["resolution"]);e!==void 0&&h!=null&&m(e,["parameters","resolution"],h);const x=d(t,["personGeneration"]);e!==void 0&&x!=null&&m(e,["parameters","personGeneration"],x);const T=d(t,["pubsubTopic"]);e!==void 0&&T!=null&&m(e,["parameters","pubsubTopic"],T);const S=d(t,["negativePrompt"]);e!==void 0&&S!=null&&m(e,["parameters","negativePrompt"],S);const b=d(t,["enhancePrompt"]);e!==void 0&&b!=null&&m(e,["parameters","enhancePrompt"],b);const _=d(t,["generateAudio"]);e!==void 0&&_!=null&&m(e,["parameters","generateAudio"],_);const N=d(t,["lastFrame"]);e!==void 0&&N!=null&&m(e,["instances[0]","lastFrame"],En(N));const A=d(t,["referenceImages"]);if(e!==void 0&&A!=null){let D=A;Array.isArray(D)&&(D=D.map(G=>j5(G))),m(e,["instances[0]","referenceImages"],D)}const w=d(t,["mask"]);e!==void 0&&w!=null&&m(e,["instances[0]","mask"],G5(w));const U=d(t,["compressionQuality"]);return e!==void 0&&U!=null&&m(e,["parameters","compressionQuality"],U),i}function Ok(t){const e={},i=d(t,["name"]);i!=null&&m(e,["name"],i);const o=d(t,["metadata"]);o!=null&&m(e,["metadata"],o);const a=d(t,["done"]);a!=null&&m(e,["done"],a);const r=d(t,["error"]);r!=null&&m(e,["error"],r);const c=d(t,["response","generateVideoResponse"]);return c!=null&&m(e,["response"],Yk(c)),e}function jk(t){const e={},i=d(t,["name"]);i!=null&&m(e,["name"],i);const o=d(t,["metadata"]);o!=null&&m(e,["metadata"],o);const a=d(t,["done"]);a!=null&&m(e,["done"],a);const r=d(t,["error"]);r!=null&&m(e,["error"],r);const c=d(t,["response"]);return c!=null&&m(e,["response"],Kk(c)),e}function qk(t,e){const i={},o=d(e,["model"]);o!=null&&m(i,["_url","model"],ke(t,o));const a=d(e,["prompt"]);a!=null&&m(i,["instances[0]","prompt"],a);const r=d(e,["image"]);r!=null&&m(i,["instances[0]","image"],Yr(r));const c=d(e,["video"]);c!=null&&m(i,["instances[0]","video"],V1(c));const f=d(e,["source"]);f!=null&&Jk(f,i);const g=d(e,["config"]);return g!=null&&zk(g,i),i}function Fk(t,e){const i={},o=d(e,["model"]);o!=null&&m(i,["_url","model"],ke(t,o));const a=d(e,["prompt"]);a!=null&&m(i,["instances[0]","prompt"],a);const r=d(e,["image"]);r!=null&&m(i,["instances[0]","image"],En(r));const c=d(e,["video"]);c!=null&&m(i,["instances[0]","video"],B1(c));const f=d(e,["source"]);f!=null&&$k(f,i);const g=d(e,["config"]);return g!=null&&Gk(g,i),i}function Yk(t){const e={},i=d(t,["generatedSamples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(c=>Wk(c))),m(e,["generatedVideos"],r)}const o=d(t,["raiMediaFilteredCount"]);o!=null&&m(e,["raiMediaFilteredCount"],o);const a=d(t,["raiMediaFilteredReasons"]);return a!=null&&m(e,["raiMediaFilteredReasons"],a),e}function Kk(t){const e={},i=d(t,["videos"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(c=>Zk(c))),m(e,["generatedVideos"],r)}const o=d(t,["raiMediaFilteredCount"]);o!=null&&m(e,["raiMediaFilteredCount"],o);const a=d(t,["raiMediaFilteredReasons"]);return a!=null&&m(e,["raiMediaFilteredReasons"],a),e}function Jk(t,e){const i={},o=d(t,["prompt"]);e!==void 0&&o!=null&&m(e,["instances[0]","prompt"],o);const a=d(t,["image"]);e!==void 0&&a!=null&&m(e,["instances[0]","image"],Yr(a));const r=d(t,["video"]);return e!==void 0&&r!=null&&m(e,["instances[0]","video"],V1(r)),i}function $k(t,e){const i={},o=d(t,["prompt"]);e!==void 0&&o!=null&&m(e,["instances[0]","prompt"],o);const a=d(t,["image"]);e!==void 0&&a!=null&&m(e,["instances[0]","image"],En(a));const r=d(t,["video"]);return e!==void 0&&r!=null&&m(e,["instances[0]","video"],B1(r)),i}function Xk(t){const e={},i=d(t,["_self"]);i!=null&&m(e,["image"],a5(i));const o=d(t,["raiFilteredReason"]);o!=null&&m(e,["raiFilteredReason"],o);const a=d(t,["_self"]);return a!=null&&m(e,["safetyAttributes"],k1(a)),e}function Fr(t){const e={},i=d(t,["_self"]);i!=null&&m(e,["image"],D1(i));const o=d(t,["raiFilteredReason"]);o!=null&&m(e,["raiFilteredReason"],o);const a=d(t,["_self"]);a!=null&&m(e,["safetyAttributes"],L1(a));const r=d(t,["prompt"]);return r!=null&&m(e,["enhancedPrompt"],r),e}function Qk(t){const e={},i=d(t,["_self"]);i!=null&&m(e,["mask"],D1(i));const o=d(t,["labels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),m(e,["labels"],a)}return e}function Wk(t){const e={},i=d(t,["video"]);return i!=null&&m(e,["video"],H5(i)),e}function Zk(t){const e={},i=d(t,["_self"]);return i!=null&&m(e,["video"],z5(i)),e}function e5(t){const e={},i=d(t,["modelSelectionConfig"]);i!=null&&m(e,["modelConfig"],i);const o=d(t,["responseJsonSchema"]);o!=null&&m(e,["responseJsonSchema"],o);const a=d(t,["audioTimestamp"]);a!=null&&m(e,["audioTimestamp"],a);const r=d(t,["candidateCount"]);r!=null&&m(e,["candidateCount"],r);const c=d(t,["enableAffectiveDialog"]);c!=null&&m(e,["enableAffectiveDialog"],c);const f=d(t,["frequencyPenalty"]);f!=null&&m(e,["frequencyPenalty"],f);const g=d(t,["logprobs"]);g!=null&&m(e,["logprobs"],g);const h=d(t,["maxOutputTokens"]);h!=null&&m(e,["maxOutputTokens"],h);const x=d(t,["mediaResolution"]);x!=null&&m(e,["mediaResolution"],x);const T=d(t,["presencePenalty"]);T!=null&&m(e,["presencePenalty"],T);const S=d(t,["responseLogprobs"]);S!=null&&m(e,["responseLogprobs"],S);const b=d(t,["responseMimeType"]);b!=null&&m(e,["responseMimeType"],b);const _=d(t,["responseModalities"]);_!=null&&m(e,["responseModalities"],_);const N=d(t,["responseSchema"]);N!=null&&m(e,["responseSchema"],N);const A=d(t,["routingConfig"]);A!=null&&m(e,["routingConfig"],A);const w=d(t,["seed"]);w!=null&&m(e,["seed"],w);const U=d(t,["speechConfig"]);U!=null&&m(e,["speechConfig"],U1(U));const D=d(t,["stopSequences"]);D!=null&&m(e,["stopSequences"],D);const G=d(t,["temperature"]);G!=null&&m(e,["temperature"],G);const Y=d(t,["thinkingConfig"]);Y!=null&&m(e,["thinkingConfig"],Y);const X=d(t,["topK"]);X!=null&&m(e,["topK"],X);const O=d(t,["topP"]);if(O!=null&&m(e,["topP"],O),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function t5(t,e){const i={},o=d(e,["model"]);return o!=null&&m(i,["_url","name"],ke(t,o)),i}function n5(t,e){const i={},o=d(e,["model"]);return o!=null&&m(i,["_url","name"],ke(t,o)),i}function i5(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&m(e,["enableWidget"],i),e}function s5(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&m(e,["timeRangeFilter"],i),e}function o5(t){const e={},i=d(t,["aspectRatio"]);i!=null&&m(e,["aspectRatio"],i);const o=d(t,["imageSize"]);if(o!=null&&m(e,["imageSize"],o),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function l5(t){const e={},i=d(t,["aspectRatio"]);i!=null&&m(e,["aspectRatio"],i);const o=d(t,["imageSize"]);o!=null&&m(e,["imageSize"],o);const a=d(t,["outputMimeType"]);a!=null&&m(e,["imageOutputOptions","mimeType"],a);const r=d(t,["outputCompressionQuality"]);return r!=null&&m(e,["imageOutputOptions","compressionQuality"],r),e}function a5(t){const e={},i=d(t,["bytesBase64Encoded"]);i!=null&&m(e,["imageBytes"],Vi(i));const o=d(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function D1(t){const e={},i=d(t,["gcsUri"]);i!=null&&m(e,["gcsUri"],i);const o=d(t,["bytesBase64Encoded"]);o!=null&&m(e,["imageBytes"],Vi(o));const a=d(t,["mimeType"]);return a!=null&&m(e,["mimeType"],a),e}function Yr(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=d(t,["imageBytes"]);i!=null&&m(e,["bytesBase64Encoded"],Vi(i));const o=d(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function En(t){const e={},i=d(t,["gcsUri"]);i!=null&&m(e,["gcsUri"],i);const o=d(t,["imageBytes"]);o!=null&&m(e,["bytesBase64Encoded"],Vi(o));const a=d(t,["mimeType"]);return a!=null&&m(e,["mimeType"],a),e}function r5(t,e,i){const o={},a=d(e,["pageSize"]);i!==void 0&&a!=null&&m(i,["_query","pageSize"],a);const r=d(e,["pageToken"]);i!==void 0&&r!=null&&m(i,["_query","pageToken"],r);const c=d(e,["filter"]);i!==void 0&&c!=null&&m(i,["_query","filter"],c);const f=d(e,["queryBase"]);return i!==void 0&&f!=null&&m(i,["_url","models_url"],C1(t,f)),o}function u5(t,e,i){const o={},a=d(e,["pageSize"]);i!==void 0&&a!=null&&m(i,["_query","pageSize"],a);const r=d(e,["pageToken"]);i!==void 0&&r!=null&&m(i,["_query","pageToken"],r);const c=d(e,["filter"]);i!==void 0&&c!=null&&m(i,["_query","filter"],c);const f=d(e,["queryBase"]);return i!==void 0&&f!=null&&m(i,["_url","models_url"],C1(t,f)),o}function c5(t,e){const i={},o=d(e,["config"]);return o!=null&&r5(t,o,i),i}function d5(t,e){const i={},o=d(e,["config"]);return o!=null&&u5(t,o,i),i}function f5(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const a=d(t,["_self"]);if(a!=null){let r=_1(a);Array.isArray(r)&&(r=r.map(c=>df(c))),m(e,["models"],r)}return e}function p5(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const a=d(t,["_self"]);if(a!=null){let r=_1(a);Array.isArray(r)&&(r=r.map(c=>ff(c))),m(e,["models"],r)}return e}function h5(t){const e={},i=d(t,["maskMode"]);i!=null&&m(e,["maskMode"],i);const o=d(t,["segmentationClasses"]);o!=null&&m(e,["maskClasses"],o);const a=d(t,["maskDilation"]);return a!=null&&m(e,["dilation"],a),e}function df(t){const e={},i=d(t,["name"]);i!=null&&m(e,["name"],i);const o=d(t,["displayName"]);o!=null&&m(e,["displayName"],o);const a=d(t,["description"]);a!=null&&m(e,["description"],a);const r=d(t,["version"]);r!=null&&m(e,["version"],r);const c=d(t,["_self"]);c!=null&&m(e,["tunedModelInfo"],M5(c));const f=d(t,["inputTokenLimit"]);f!=null&&m(e,["inputTokenLimit"],f);const g=d(t,["outputTokenLimit"]);g!=null&&m(e,["outputTokenLimit"],g);const h=d(t,["supportedGenerationMethods"]);h!=null&&m(e,["supportedActions"],h);const x=d(t,["temperature"]);x!=null&&m(e,["temperature"],x);const T=d(t,["maxTemperature"]);T!=null&&m(e,["maxTemperature"],T);const S=d(t,["topP"]);S!=null&&m(e,["topP"],S);const b=d(t,["topK"]);b!=null&&m(e,["topK"],b);const _=d(t,["thinking"]);return _!=null&&m(e,["thinking"],_),e}function ff(t){const e={},i=d(t,["name"]);i!=null&&m(e,["name"],i);const o=d(t,["displayName"]);o!=null&&m(e,["displayName"],o);const a=d(t,["description"]);a!=null&&m(e,["description"],a);const r=d(t,["versionId"]);r!=null&&m(e,["version"],r);const c=d(t,["deployedModels"]);if(c!=null){let T=c;Array.isArray(T)&&(T=T.map(S=>Ak(S))),m(e,["endpoints"],T)}const f=d(t,["labels"]);f!=null&&m(e,["labels"],f);const g=d(t,["_self"]);g!=null&&m(e,["tunedModelInfo"],I5(g));const h=d(t,["defaultCheckpointId"]);h!=null&&m(e,["defaultCheckpointId"],h);const x=d(t,["checkpoints"]);if(x!=null){let T=x;Array.isArray(T)&&(T=T.map(S=>S)),m(e,["checkpoints"],T)}return e}function m5(t){const e={},i=d(t,["mediaResolution"]);i!=null&&m(e,["mediaResolution"],i);const o=d(t,["codeExecutionResult"]);o!=null&&m(e,["codeExecutionResult"],o);const a=d(t,["executableCode"]);a!=null&&m(e,["executableCode"],a);const r=d(t,["fileData"]);r!=null&&m(e,["fileData"],Rk(r));const c=d(t,["functionCall"]);c!=null&&m(e,["functionCall"],wk(c));const f=d(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const g=d(t,["inlineData"]);g!=null&&m(e,["inlineData"],ek(g));const h=d(t,["text"]);h!=null&&m(e,["text"],h);const x=d(t,["thought"]);x!=null&&m(e,["thought"],x);const T=d(t,["thoughtSignature"]);T!=null&&m(e,["thoughtSignature"],T);const S=d(t,["videoMetadata"]);return S!=null&&m(e,["videoMetadata"],S),e}function g5(t){const e={},i=d(t,["productImage"]);return i!=null&&m(e,["image"],En(i)),e}function y5(t,e){const i={},o=d(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const a=d(t,["baseSteps"]);e!==void 0&&a!=null&&m(e,["parameters","baseSteps"],a);const r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const c=d(t,["seed"]);e!==void 0&&c!=null&&m(e,["parameters","seed"],c);const f=d(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&m(e,["parameters","safetySetting"],f);const g=d(t,["personGeneration"]);e!==void 0&&g!=null&&m(e,["parameters","personGeneration"],g);const h=d(t,["addWatermark"]);e!==void 0&&h!=null&&m(e,["parameters","addWatermark"],h);const x=d(t,["outputMimeType"]);e!==void 0&&x!=null&&m(e,["parameters","outputOptions","mimeType"],x);const T=d(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&m(e,["parameters","outputOptions","compressionQuality"],T);const S=d(t,["enhancePrompt"]);e!==void 0&&S!=null&&m(e,["parameters","enhancePrompt"],S);const b=d(t,["labels"]);return e!==void 0&&b!=null&&m(e,["labels"],b),i}function x5(t,e){const i={},o=d(e,["model"]);o!=null&&m(i,["_url","model"],ke(t,o));const a=d(e,["source"]);a!=null&&T5(a,i);const r=d(e,["config"]);return r!=null&&y5(r,i),i}function v5(t){const e={},i=d(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Fr(a))),m(e,["generatedImages"],o)}return e}function T5(t,e){const i={},o=d(t,["prompt"]);e!==void 0&&o!=null&&m(e,["instances[0]","prompt"],o);const a=d(t,["personImage"]);e!==void 0&&a!=null&&m(e,["instances[0]","personImage","image"],En(a));const r=d(t,["productImages"]);if(e!==void 0&&r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>g5(f))),m(e,["instances[0]","productImages"],c)}return i}function S5(t){const e={},i=d(t,["referenceImage"]);i!=null&&m(e,["referenceImage"],En(i));const o=d(t,["referenceId"]);o!=null&&m(e,["referenceId"],o);const a=d(t,["referenceType"]);a!=null&&m(e,["referenceType"],a);const r=d(t,["maskImageConfig"]);r!=null&&m(e,["maskImageConfig"],h5(r));const c=d(t,["controlImageConfig"]);c!=null&&m(e,["controlImageConfig"],ak(c));const f=d(t,["styleImageConfig"]);f!=null&&m(e,["styleImageConfig"],f);const g=d(t,["subjectImageConfig"]);return g!=null&&m(e,["subjectImageConfig"],g),e}function k1(t){const e={},i=d(t,["safetyAttributes","categories"]);i!=null&&m(e,["categories"],i);const o=d(t,["safetyAttributes","scores"]);o!=null&&m(e,["scores"],o);const a=d(t,["contentType"]);return a!=null&&m(e,["contentType"],a),e}function L1(t){const e={},i=d(t,["safetyAttributes","categories"]);i!=null&&m(e,["categories"],i);const o=d(t,["safetyAttributes","scores"]);o!=null&&m(e,["scores"],o);const a=d(t,["contentType"]);return a!=null&&m(e,["contentType"],a),e}function E5(t){const e={},i=d(t,["category"]);if(i!=null&&m(e,["category"],i),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=d(t,["threshold"]);return o!=null&&m(e,["threshold"],o),e}function b5(t){const e={},i=d(t,["image"]);return i!=null&&m(e,["image"],En(i)),e}function C5(t,e){const i={},o=d(t,["mode"]);e!==void 0&&o!=null&&m(e,["parameters","mode"],o);const a=d(t,["maxPredictions"]);e!==void 0&&a!=null&&m(e,["parameters","maxPredictions"],a);const r=d(t,["confidenceThreshold"]);e!==void 0&&r!=null&&m(e,["parameters","confidenceThreshold"],r);const c=d(t,["maskDilation"]);e!==void 0&&c!=null&&m(e,["parameters","maskDilation"],c);const f=d(t,["binaryColorThreshold"]);e!==void 0&&f!=null&&m(e,["parameters","binaryColorThreshold"],f);const g=d(t,["labels"]);return e!==void 0&&g!=null&&m(e,["labels"],g),i}function _5(t,e){const i={},o=d(e,["model"]);o!=null&&m(i,["_url","model"],ke(t,o));const a=d(e,["source"]);a!=null&&A5(a,i);const r=d(e,["config"]);return r!=null&&C5(r,i),i}function N5(t){const e={},i=d(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Qk(a))),m(e,["generatedMasks"],o)}return e}function A5(t,e){const i={},o=d(t,["prompt"]);e!==void 0&&o!=null&&m(e,["instances[0]","prompt"],o);const a=d(t,["image"]);e!==void 0&&a!=null&&m(e,["instances[0]","image"],En(a));const r=d(t,["scribbleImage"]);return e!==void 0&&r!=null&&m(e,["instances[0]","scribble"],b5(r)),i}function U1(t){const e={},i=d(t,["voiceConfig"]);i!=null&&m(e,["voiceConfig"],i);const o=d(t,["languageCode"]);if(o!=null&&m(e,["languageCode"],o),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function R5(t){const e={},i=d(t,["functionCallingConfig"]);i!=null&&m(e,["functionCallingConfig"],Mk(i));const o=d(t,["retrievalConfig"]);return o!=null&&m(e,["retrievalConfig"],o),e}function w5(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(T=>T)),m(e,["functionDeclarations"],x)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],o);const a=d(t,["computerUse"]);a!=null&&m(e,["computerUse"],a);const r=d(t,["fileSearch"]);r!=null&&m(e,["fileSearch"],r);const c=d(t,["codeExecution"]);if(c!=null&&m(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],i5(f));const g=d(t,["googleSearch"]);g!=null&&m(e,["googleSearch"],s5(g));const h=d(t,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}function P1(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let T=i;Array.isArray(T)&&(T=T.map(S=>Ik(S))),m(e,["functionDeclarations"],T)}const o=d(t,["retrieval"]);o!=null&&m(e,["retrieval"],o);const a=d(t,["googleSearchRetrieval"]);a!=null&&m(e,["googleSearchRetrieval"],a);const r=d(t,["computerUse"]);if(r!=null&&m(e,["computerUse"],r),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(t,["codeExecution"]);c!=null&&m(e,["codeExecution"],c);const f=d(t,["enterpriseWebSearch"]);f!=null&&m(e,["enterpriseWebSearch"],f);const g=d(t,["googleMaps"]);g!=null&&m(e,["googleMaps"],g);const h=d(t,["googleSearch"]);h!=null&&m(e,["googleSearch"],h);const x=d(t,["urlContext"]);return x!=null&&m(e,["urlContext"],x),e}function M5(t){const e={},i=d(t,["baseModel"]);i!=null&&m(e,["baseModel"],i);const o=d(t,["createTime"]);o!=null&&m(e,["createTime"],o);const a=d(t,["updateTime"]);return a!=null&&m(e,["updateTime"],a),e}function I5(t){const e={},i=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&m(e,["baseModel"],i);const o=d(t,["createTime"]);o!=null&&m(e,["createTime"],o);const a=d(t,["updateTime"]);return a!=null&&m(e,["updateTime"],a),e}function D5(t,e){const i={},o=d(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const a=d(t,["description"]);e!==void 0&&a!=null&&m(e,["description"],a);const r=d(t,["defaultCheckpointId"]);return e!==void 0&&r!=null&&m(e,["defaultCheckpointId"],r),i}function k5(t,e){const i={},o=d(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const a=d(t,["description"]);e!==void 0&&a!=null&&m(e,["description"],a);const r=d(t,["defaultCheckpointId"]);return e!==void 0&&r!=null&&m(e,["defaultCheckpointId"],r),i}function L5(t,e){const i={},o=d(e,["model"]);o!=null&&m(i,["_url","name"],ke(t,o));const a=d(e,["config"]);return a!=null&&D5(a,i),i}function U5(t,e){const i={},o=d(e,["model"]);o!=null&&m(i,["_url","model"],ke(t,o));const a=d(e,["config"]);return a!=null&&k5(a,i),i}function P5(t,e){const i={},o=d(t,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const a=d(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&m(e,["parameters","safetySetting"],a);const r=d(t,["personGeneration"]);e!==void 0&&r!=null&&m(e,["parameters","personGeneration"],r);const c=d(t,["includeRaiReason"]);e!==void 0&&c!=null&&m(e,["parameters","includeRaiReason"],c);const f=d(t,["outputMimeType"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","mimeType"],f);const g=d(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&m(e,["parameters","outputOptions","compressionQuality"],g);const h=d(t,["enhanceInputImage"]);e!==void 0&&h!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],h);const x=d(t,["imagePreservationFactor"]);e!==void 0&&x!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],x);const T=d(t,["labels"]);e!==void 0&&T!=null&&m(e,["labels"],T);const S=d(t,["numberOfImages"]);e!==void 0&&S!=null&&m(e,["parameters","sampleCount"],S);const b=d(t,["mode"]);return e!==void 0&&b!=null&&m(e,["parameters","mode"],b),i}function V5(t,e){const i={},o=d(e,["model"]);o!=null&&m(i,["_url","model"],ke(t,o));const a=d(e,["image"]);a!=null&&m(i,["instances[0]","image"],En(a));const r=d(e,["upscaleFactor"]);r!=null&&m(i,["parameters","upscaleConfig","upscaleFactor"],r);const c=d(e,["config"]);return c!=null&&P5(c,i),i}function B5(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=d(t,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>Fr(r))),m(e,["generatedImages"],a)}return e}function H5(t){const e={},i=d(t,["uri"]);i!=null&&m(e,["uri"],i);const o=d(t,["encodedVideo"]);o!=null&&m(e,["videoBytes"],Vi(o));const a=d(t,["encoding"]);return a!=null&&m(e,["mimeType"],a),e}function z5(t){const e={},i=d(t,["gcsUri"]);i!=null&&m(e,["uri"],i);const o=d(t,["bytesBase64Encoded"]);o!=null&&m(e,["videoBytes"],Vi(o));const a=d(t,["mimeType"]);return a!=null&&m(e,["mimeType"],a),e}function G5(t){const e={},i=d(t,["image"]);i!=null&&m(e,["_self"],En(i));const o=d(t,["maskMode"]);return o!=null&&m(e,["maskMode"],o),e}function O5(t){const e={},i=d(t,["image"]);i!=null&&m(e,["image"],Yr(i));const o=d(t,["referenceType"]);return o!=null&&m(e,["referenceType"],o),e}function j5(t){const e={},i=d(t,["image"]);i!=null&&m(e,["image"],En(i));const o=d(t,["referenceType"]);return o!=null&&m(e,["referenceType"],o),e}function V1(t){const e={},i=d(t,["uri"]);i!=null&&m(e,["uri"],i);const o=d(t,["videoBytes"]);o!=null&&m(e,["encodedVideo"],Vi(o));const a=d(t,["mimeType"]);return a!=null&&m(e,["encoding"],a),e}function B1(t){const e={},i=d(t,["uri"]);i!=null&&m(e,["gcsUri"],i);const o=d(t,["videoBytes"]);o!=null&&m(e,["bytesBase64Encoded"],Vi(o));const a=d(t,["mimeType"]);return a!=null&&m(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function q5(t,e){const i={},o=d(t,["displayName"]);return e!==void 0&&o!=null&&m(e,["displayName"],o),i}function F5(t){const e={},i=d(t,["config"]);return i!=null&&q5(i,e),e}function Y5(t,e){const i={},o=d(t,["force"]);return e!==void 0&&o!=null&&m(e,["_query","force"],o),i}function K5(t){const e={},i=d(t,["name"]);i!=null&&m(e,["_url","name"],i);const o=d(t,["config"]);return o!=null&&Y5(o,e),e}function J5(t){const e={},i=d(t,["name"]);return i!=null&&m(e,["_url","name"],i),e}function $5(t,e){const i={},o=d(t,["customMetadata"]);if(e!==void 0&&o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>c)),m(e,["customMetadata"],r)}const a=d(t,["chunkingConfig"]);return e!==void 0&&a!=null&&m(e,["chunkingConfig"],a),i}function X5(t){const e={},i=d(t,["name"]);i!=null&&m(e,["name"],i);const o=d(t,["metadata"]);o!=null&&m(e,["metadata"],o);const a=d(t,["done"]);a!=null&&m(e,["done"],a);const r=d(t,["error"]);r!=null&&m(e,["error"],r);const c=d(t,["response"]);return c!=null&&m(e,["response"],W5(c)),e}function Q5(t){const e={},i=d(t,["fileSearchStoreName"]);i!=null&&m(e,["_url","file_search_store_name"],i);const o=d(t,["fileName"]);o!=null&&m(e,["fileName"],o);const a=d(t,["config"]);return a!=null&&$5(a,e),e}function W5(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=d(t,["parent"]);o!=null&&m(e,["parent"],o);const a=d(t,["documentName"]);return a!=null&&m(e,["documentName"],a),e}function Z5(t,e){const i={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const a=d(t,["pageToken"]);return e!==void 0&&a!=null&&m(e,["_query","pageToken"],a),i}function e4(t){const e={},i=d(t,["config"]);return i!=null&&Z5(i,e),e}function t4(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const a=d(t,["fileSearchStores"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),m(e,["fileSearchStores"],r)}return e}function H1(t,e){const i={},o=d(t,["mimeType"]);e!==void 0&&o!=null&&m(e,["mimeType"],o);const a=d(t,["displayName"]);e!==void 0&&a!=null&&m(e,["displayName"],a);const r=d(t,["customMetadata"]);if(e!==void 0&&r!=null){let f=r;Array.isArray(f)&&(f=f.map(g=>g)),m(e,["customMetadata"],f)}const c=d(t,["chunkingConfig"]);return e!==void 0&&c!=null&&m(e,["chunkingConfig"],c),i}function n4(t){const e={},i=d(t,["fileSearchStoreName"]);i!=null&&m(e,["_url","file_search_store_name"],i);const o=d(t,["config"]);return o!=null&&H1(o,e),e}function i4(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&m(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const s4="Content-Type",o4="X-Server-Timeout",l4="User-Agent",pf="x-goog-api-client",a4="1.33.0",r4=`google-genai-sdk/${a4}`,u4="v1beta1",c4="v1beta";class d4{constructor(e){var i,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:u4,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:c4,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,o){const a=[this.getRequestUrlInternal(i)];return o&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,i,o);if(e.queryParams)for(const[c,f]of Object.entries(e.queryParams))a.searchParams.append(c,String(f));let r={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else r.body=e.body;return r=await this.includeExtraHttpOptionsToRequestInit(r,i,a.toString(),e.abortSignal),this.unaryApiCall(a,r,e.httpMethod)}patchHttpOptions(e,i){const o=JSON.parse(JSON.stringify(e));for(const[a,r]of Object.entries(i))typeof r=="object"?o[a]=Object.assign(Object.assign({},o[a]),r):r!==void 0&&(o[a]=r);return o}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,i,o);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let r={};return r.body=e.body,r=await this.includeExtraHttpOptionsToRequestInit(r,i,a.toString(),e.abortSignal),this.streamApiCall(a,r,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,o,a){if(i&&i.timeout||a){const r=new AbortController,c=r.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const f=setTimeout(()=>r.abort(),i.timeout);f&&typeof f.unref=="function"&&f.unref()}a&&a.addEventListener("abort",()=>{r.abort()}),e.signal=c}return i&&i.extraBody!==null&&f4(e,i.extraBody),e.headers=await this.getHeadersInternal(i,o),e}async unaryApiCall(e,i,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:o})).then(async a=>(await lv(a),new rf(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,i,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:o})).then(async a=>(await lv(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){return Tn(this,arguments,function*(){var o;const a=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),r=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let c="";const f="data:",g=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:x}=yield fe(a.read());if(h){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const T=r.decode(x,{stream:!0});try{const _=JSON.parse(T);if("error"in _){const N=JSON.parse(JSON.stringify(_.error)),A=N.status,w=N.code,U=`got status: ${A}. ${JSON.stringify(_)}`;if(w>=400&&w<600)throw new jr({message:U,status:w})}}catch(_){if(_.name==="ApiError")throw _}c+=T;let S=-1,b=0;for(;;){S=-1,b=0;for(const A of g){const w=c.indexOf(A);w!==-1&&(S===-1||w<S)&&(S=w,b=A.length)}if(S===-1)break;const _=c.substring(0,S);c=c.substring(S+b);const N=_.trim();if(N.startsWith(f)){const A=N.substring(f.length).trim();try{const w=new Response(A,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield fe(new rf(w))}catch(w){throw new Error(`exception parsing stream chunk ${A}. ${w}`)}}}}}finally{a.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},i=r4+" "+this.clientOptions.userAgentExtra;return e[l4]=i,e[pf]=i,e[s4]="application/json",e}async getHeadersInternal(e,i){const o=new Headers;if(e&&e.headers){for(const[a,r]of Object.entries(e.headers))o.append(a,r);e.timeout&&e.timeout>0&&o.append(o4,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,i),o}getFileName(e){var i;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(i=o.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),o}async uploadFile(e,i){var o;const a={};i!=null&&(a.mimeType=i.mimeType,a.name=i.name,a.displayName=i.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const r=this.clientOptions.uploader,c=await r.stat(e);a.sizeBytes=String(c.size);const f=(o=i==null?void 0:i.mimeType)!==null&&o!==void 0?o:c.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=f;const g={file:a},h=this.getFileName(e),x=ee("upload/v1beta/files",g._url),T=await this.fetchUploadUrl(x,a.sizeBytes,a.mimeType,h,g,i==null?void 0:i.httpOptions);return r.upload(e,T,this)}async uploadFileToFileSearchStore(e,i,o){var a;const r=this.clientOptions.uploader,c=await r.stat(i),f=String(c.size),g=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:c.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${e}:uploadToFileSearchStore`,x=this.getFileName(i),T={};o!=null&&H1(o,T);const S=await this.fetchUploadUrl(h,f,g,x,T,o==null?void 0:o.httpOptions);return r.uploadToFileSearchStore(i,S,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,o,a,r,c){var f;let g={};c?g=c:g={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${o}`},a?{"X-Goog-Upload-File-Name":a}:{})};const h=await this.request({path:e,body:JSON.stringify(r),httpMethod:"POST",httpOptions:g});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const x=(f=h==null?void 0:h.headers)===null||f===void 0?void 0:f["x-goog-upload-url"];if(x===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return x}}async function lv(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const i=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const a=JSON.stringify(o);throw i>=400&&i<600?new jr({message:a,status:i}):new Error(a)}}function f4(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof t.body=="string"&&t.body.length>0)try{const r=JSON.parse(t.body);if(typeof r=="object"&&r!==null&&!Array.isArray(r))i=r;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(r,c){const f=Object.assign({},r);for(const g in c)if(Object.prototype.hasOwnProperty.call(c,g)){const h=c[g],x=f[g];h&&typeof h=="object"&&!Array.isArray(h)&&x&&typeof x=="object"&&!Array.isArray(x)?f[g]=o(x,h):(x&&h&&typeof x!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof x}, New type: ${typeof h}. Overwriting.`),f[g]=h)}return f}const a=o(i,e);t.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const p4="mcp_used/unknown";let h4=!1;function z1(t){for(const e of t)if(m4(e)||typeof e=="object"&&"inputSchema"in e)return!0;return h4}function G1(t){var e;const i=(e=t[pf])!==null&&e!==void 0?e:"";t[pf]=(i+` ${p4}`).trimStart()}function m4(t){return t!==null&&typeof t=="object"&&t instanceof cp}function g4(t){return Tn(this,arguments,function*(i,o=100){let a,r=0;for(;r<o;){const c=yield fe(i.listTools({cursor:a}));for(const f of c.tools)yield yield fe(f),r++;if(!c.nextCursor)break;a=c.nextCursor}})}class cp{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new cp(e,i)}async initialize(){var e,i,o,a;if(this.mcpTools.length>0)return;const r={},c=[];for(const x of this.mcpClients)try{for(var f=!0,g=(i=void 0,Sn(g4(x))),h;h=await g.next(),e=h.done,!e;f=!0){a=h.value,f=!1;const T=a;c.push(T);const S=T.name;if(r[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);r[S]=x}}catch(T){i={error:T}}finally{try{!f&&!e&&(o=g.return)&&await o.call(g)}finally{if(i)throw i.error}}this.mcpTools=c,this.functionNameToMcpClient=r}async tool(){return await this.initialize(),JM(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[o.name];let r;this.config.timeout&&(r={timeout:this.config.timeout});const c=await a.callTool({name:o.name,arguments:o.args},void 0,r);i.push({functionResponse:{name:o.name,response:c.isError?{error:c}:c}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function y4(t,e,i){const o=new zM;let a;i.data instanceof Blob?a=JSON.parse(await i.data.text()):a=JSON.parse(i.data),Object.assign(o,a),e(o)}class x4{constructor(e,i,o){this.apiClient=e,this.auth=i,this.webSocketFactory=o}async connect(e){var i,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),r=this.apiClient.getApiVersion(),c=S4(this.apiClient.getDefaultHeaders()),f=this.apiClient.getApiKey(),g=`${a}/ws/google.ai.generativelanguage.${r}.GenerativeService.BidiGenerateMusic?key=${f}`;let h=()=>{};const x=new Promise(D=>{h=D}),T=e.callbacks,S=function(){h({})},b=this.apiClient,_={onopen:S,onmessage:D=>{y4(b,T.onmessage,D)},onerror:(i=T==null?void 0:T.onerror)!==null&&i!==void 0?i:function(D){},onclose:(o=T==null?void 0:T.onclose)!==null&&o!==void 0?o:function(D){}},N=this.webSocketFactory.create(g,T4(c),_);N.connect(),await x;const U={setup:{model:ke(this.apiClient,e.model)}};return N.send(JSON.stringify(U)),new v4(N,this.apiClient)}}class v4{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=FD(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=qD(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(ro.PLAY)}pause(){this.sendPlaybackControl(ro.PAUSE)}stop(){this.sendPlaybackControl(ro.STOP)}resetContext(){this.sendPlaybackControl(ro.RESET_CONTEXT)}close(){this.conn.close()}}function T4(t){const e={};return t.forEach((i,o)=>{e[o]=i}),e}function S4(t){const e=new Headers;for(const[i,o]of Object.entries(t))e.append(i,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const E4="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function b4(t,e,i){const o=new HM;let a;i.data instanceof Blob?a=await i.data.text():i.data instanceof ArrayBuffer?a=new TextDecoder().decode(i.data):a=i.data;const r=JSON.parse(a);if(t.isVertexAI()){const c=JD(r);Object.assign(o,c)}else Object.assign(o,r);e(o)}class C4{constructor(e,i,o){this.apiClient=e,this.auth=i,this.webSocketFactory=o,this.music=new x4(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,o,a,r,c,f;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let x;const T=this.apiClient.getHeaders();e.config&&e.config.tools&&z1(e.config.tools)&&G1(T);const S=R4(T);if(this.apiClient.isVertexAI())x=`${g}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,x);else{const q=this.apiClient.getApiKey();let W="BidiGenerateContent",le="key";q!=null&&q.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),W="BidiGenerateContentConstrained",le="access_token"),x=`${g}/ws/google.ai.generativelanguage.${h}.GenerativeService.${W}?${le}=${q}`}let b=()=>{};const _=new Promise(q=>{b=q}),N=e.callbacks,A=function(){var q;(q=N==null?void 0:N.onopen)===null||q===void 0||q.call(N),b({})},w=this.apiClient,U={onopen:A,onmessage:q=>{b4(w,N.onmessage,q)},onerror:(i=N==null?void 0:N.onerror)!==null&&i!==void 0?i:function(q){},onclose:(o=N==null?void 0:N.onclose)!==null&&o!==void 0?o:function(q){}},D=this.webSocketFactory.create(x,A4(S),U);D.connect(),await _;let G=ke(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&G.startsWith("publishers/")){const q=this.apiClient.getProject(),W=this.apiClient.getLocation();G=`projects/${q}/locations/${W}/`+G}let Y={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Mr.AUDIO]}:e.config.responseModalities=[Mr.AUDIO]),!((r=e.config)===null||r===void 0)&&r.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const X=(f=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&f!==void 0?f:[],O=[];for(const q of X)if(this.isCallableTool(q)){const W=q;O.push(await W.tool())}else O.push(q);O.length>0&&(e.config.tools=O);const j={model:G,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?Y=jD(this.apiClient,j):Y=OD(this.apiClient,j),delete Y.config,D.send(JSON.stringify(Y)),new N4(D,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const _4={turnComplete:!0};class N4{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let o=[];try{o=dn(i.turns),e.isVertexAI()||(o=o.map(a=>qr(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:o,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let o=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?o=i.functionResponses:o=[i.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const r of o){if(typeof r!="object"||r===null||!("name"in r)||!("response"in r))throw new Error(`Could not parse function response, type '${typeof r}'.`);if(!e.isVertexAI()&&!("id"in r))throw new Error(E4)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},_4),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:KD(e)}:i={realtimeInput:YD(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function A4(t){const e={};return t.forEach((i,o)=>{e[o]=i}),e}function R4(t){const e=new Headers;for(const[i,o]of Object.entries(t))e.append(i,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const av=10;function rv(t){var e,i,o;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const c of(i=t==null?void 0:t.tools)!==null&&i!==void 0?i:[])if(po(c)){a=!0;break}if(!a)return!0;const r=(o=t==null?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return r&&(r<0||!Number.isInteger(r))||r==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",r),!0):!1}function po(t){return"callTool"in t&&typeof t.callTool=="function"}function w4(t){var e,i,o;return(o=(i=(e=t.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(a=>po(a)))!==null&&o!==void 0?o:!1}function uv(t){var e;const i=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((o,a)=>{if(po(o))return;const r=o;r.functionDeclarations&&r.functionDeclarations.length>0&&i.push(a)}),i}function cv(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class M4 extends oi{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var o,a,r,c,f;const g=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!w4(i)||rv(i.config))return await this.generateContentInternal(g);const h=uv(i);if(h.length>0){const N=h.map(A=>`tools[${A}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${N}.`)}let x,T;const S=dn(g.contents),b=(r=(a=(o=g.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:av;let _=0;for(;_<b&&(x=await this.generateContentInternal(g),!(!x.functionCalls||x.functionCalls.length===0));){const N=x.candidates[0].content,A=[];for(const w of(f=(c=i.config)===null||c===void 0?void 0:c.tools)!==null&&f!==void 0?f:[])if(po(w)){const D=await w.callTool(x.functionCalls);A.push(...D)}_++,T={role:"user",parts:A},g.contents=dn(g.contents),g.contents.push(N),g.contents.push(T),cv(g.config)&&(S.push(N),S.push(T))}return cv(g.config)&&(x.automaticFunctionCallingHistory=S),x},this.generateContentStream=async i=>{var o,a,r,c,f;if(this.maybeMoveToResponseJsonSchem(i),rv(i.config)){const T=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(T)}const g=uv(i);if(g.length>0){const T=g.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(r=(a=(o=i==null?void 0:i.config)===null||o===void 0?void 0:o.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||r===void 0?void 0:r.streamFunctionCallArguments,x=(f=(c=i==null?void 0:i.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||f===void 0?void 0:f.disable;if(h&&!x)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(o=>{var a;let r;const c=[];if(o!=null&&o.generatedImages)for(const g of o.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((a=g==null?void 0:g.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?r=g==null?void 0:g.safetyAttributes:c.push(g);let f;return r?f={generatedImages:c,positivePromptSafetyAttributes:r,sdkHttpResponse:o.sdkHttpResponse}:f={generatedImages:c,sdkHttpResponse:o.sdkHttpResponse},f}),this.list=async i=>{var o;const c={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((o=c.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new hs(si.PAGED_ITEM_MODELS,f=>this.listInternal(f),await this.listInternal(c),c)},this.editImage=async i=>{const o={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(o.referenceImages=i.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async i=>{let o={numberOfImages:1,mode:"upscale"};i.config&&(o=Object.assign(Object.assign({},o),i.config));const a={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:o};return await this.upscaleImageInternal(a)},this.generateVideos=async i=>{var o,a,r,c,f,g;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=i.video)===null||o===void 0)&&o.uri&&(!((a=i.video)===null||a===void 0)&&a.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((c=(r=i.source)===null||r===void 0?void 0:r.video)===null||c===void 0)&&c.uri&&(!((g=(f=i.source)===null||f===void 0?void 0:f.video)===null||g===void 0)&&g.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,o,a;const r=(i=e.config)===null||i===void 0?void 0:i.tools;if(!r)return e;const c=await Promise.all(r.map(async g=>po(g)?await g.tool():g)),f={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(f.config.tools=c,e.config&&e.config.tools&&z1(e.config.tools)){const g=(a=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{};let h=Object.assign({},g);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),G1(h),f.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return f}async initAfcToolsMap(e){var i,o,a;const r=new Map;for(const c of(o=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&o!==void 0?o:[])if(po(c)){const f=c,g=await f.tool();for(const h of(a=g.functionDeclarations)!==null&&a!==void 0?a:[]){if(!h.name)throw new Error("Function declaration name is required.");if(r.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);r.set(h.name,f)}}return r}async processAfcStream(e){var i,o,a;const r=(a=(o=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&a!==void 0?a:av;let c=!1,f=0;const g=await this.initAfcToolsMap(e);return(function(h,x,T){return Tn(this,arguments,function*(){for(var S,b,_,N,A,w;f<r;){c&&(f++,c=!1);const Y=yield fe(h.processParamsMaybeAddMcpUsage(T)),X=yield fe(h.generateContentStreamInternal(Y)),O=[],j=[];try{for(var U=!0,D=(b=void 0,Sn(X)),G;G=yield fe(D.next()),S=G.done,!S;U=!0){N=G.value,U=!1;const q=N;if(yield yield fe(q),q.candidates&&(!((A=q.candidates[0])===null||A===void 0)&&A.content)){j.push(q.candidates[0].content);for(const W of(w=q.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(f<r&&W.functionCall){if(!W.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(W.functionCall.name)){const le=yield fe(x.get(W.functionCall.name).callTool([W.functionCall]));O.push(...le)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${W.functionCall.name}`)}}}}catch(q){b={error:q}}finally{try{!U&&!S&&(_=D.return)&&(yield fe(_.call(D)))}finally{if(b)throw b.error}}if(O.length>0){c=!0;const q=new Sl;q.candidates=[{content:{role:"user",parts:O}}],yield yield fe(q);const W=[];W.push(...j),W.push({role:"user",parts:O});const le=dn(T.contents).concat(W);T.contents=le}else break}})})(this,g,e)}async generateContentInternal(e){var i,o,a,r;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=iv(this.apiClient,e);return f=ee("{model}:generateContent",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),c.then(x=>{const T=ov(x),S=new Sl;return Object.assign(S,T),S})}else{const h=nv(this.apiClient,e);return f=ee("{model}:generateContent",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),c.then(x=>{const T=sv(x),S=new Sl;return Object.assign(S,T),S})}}async generateContentStreamInternal(e){var i,o,a,r;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=iv(this.apiClient,e);return f=ee("{model}:streamGenerateContent?alt=sse",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.requestStream({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),c.then(function(T){return Tn(this,arguments,function*(){var S,b,_,N;try{for(var A=!0,w=Sn(T),U;U=yield fe(w.next()),S=U.done,!S;A=!0){N=U.value,A=!1;const D=N,G=ov(yield fe(D.json()));G.sdkHttpResponse={headers:D.headers};const Y=new Sl;Object.assign(Y,G),yield yield fe(Y)}}catch(D){b={error:D}}finally{try{!A&&!S&&(_=w.return)&&(yield fe(_.call(w)))}finally{if(b)throw b.error}}})})}else{const h=nv(this.apiClient,e);return f=ee("{model}:streamGenerateContent?alt=sse",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.requestStream({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),c.then(function(T){return Tn(this,arguments,function*(){var S,b,_,N;try{for(var A=!0,w=Sn(T),U;U=yield fe(w.next()),S=U.done,!S;A=!0){N=U.value,A=!1;const D=N,G=sv(yield fe(D.json()));G.sdkHttpResponse={headers:D.headers};const Y=new Sl;Object.assign(Y,G),yield yield fe(Y)}}catch(D){b={error:D}}finally{try{!A&&!S&&(_=w.return)&&(yield fe(_.call(w)))}finally{if(b)throw b.error}}})})}}async embedContent(e){var i,o,a,r;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=Ck(this.apiClient,e);return f=ee("{model}:predict",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),c.then(x=>{const T=Nk(x),S=new Hx;return Object.assign(S,T),S})}else{const h=bk(this.apiClient,e);return f=ee("{model}:batchEmbedContents",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),c.then(x=>{const T=_k(x),S=new Hx;return Object.assign(S,T),S})}}async generateImagesInternal(e){var i,o,a,r;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=Vk(this.apiClient,e);return f=ee("{model}:predict",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),c.then(x=>{const T=Hk(x),S=new zx;return Object.assign(S,T),S})}else{const h=Pk(this.apiClient,e);return f=ee("{model}:predict",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),c.then(x=>{const T=Bk(x),S=new zx;return Object.assign(S,T),S})}}async editImageInternal(e){var i,o;let a,r="",c={};if(this.apiClient.isVertexAI()){const f=vk(this.apiClient,e);return r=ee("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:g.headers},x})),a.then(g=>{const h=Tk(g),x=new RM;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,o;let a,r="",c={};if(this.apiClient.isVertexAI()){const f=V5(this.apiClient,e);return r=ee("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:g.headers},x})),a.then(g=>{const h=B5(g),x=new wM;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,o;let a,r="",c={};if(this.apiClient.isVertexAI()){const f=x5(this.apiClient,e);return r=ee("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>{const h=v5(g),x=new MM;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,o;let a,r="",c={};if(this.apiClient.isVertexAI()){const f=_5(this.apiClient,e);return r=ee("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>{const h=N5(g),x=new IM;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,o,a,r;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=n5(this.apiClient,e);return f=ee("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>ff(x))}else{const h=t5(this.apiClient,e);return f=ee("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>df(x))}}async listInternal(e){var i,o,a,r;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=d5(this.apiClient,e);return f=ee("{models_url}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),c.then(x=>{const T=p5(x),S=new Gx;return Object.assign(S,T),S})}else{const h=c5(this.apiClient,e);return f=ee("{models_url}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),c.then(x=>{const T=f5(x),S=new Gx;return Object.assign(S,T),S})}}async update(e){var i,o,a,r;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=U5(this.apiClient,e);return f=ee("{model}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>ff(x))}else{const h=L5(this.apiClient,e);return f=ee("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>df(x))}}async delete(e){var i,o,a,r;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=mk(this.apiClient,e);return f=ee("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),c.then(x=>{const T=yk(x),S=new Ox;return Object.assign(S,T),S})}else{const h=hk(this.apiClient,e);return f=ee("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),c.then(x=>{const T=gk(x),S=new Ox;return Object.assign(S,T),S})}}async countTokens(e){var i,o,a,r;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=dk(this.apiClient,e);return f=ee("{model}:countTokens",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),c.then(x=>{const T=pk(x),S=new jx;return Object.assign(S,T),S})}else{const h=ck(this.apiClient,e);return f=ee("{model}:countTokens",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),c.then(x=>{const T=fk(x),S=new jx;return Object.assign(S,T),S})}}async computeTokens(e){var i,o;let a,r="",c={};if(this.apiClient.isVertexAI()){const f=ik(this.apiClient,e);return r=ee("{model}:computeTokens",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:g.headers},x})),a.then(g=>{const h=sk(g),x=new DM;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,o,a,r;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=Fk(this.apiClient,e);return f=ee("{model}:predictLongRunning",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c.then(x=>{const T=jk(x),S=new Ir;return Object.assign(S,T),S})}else{const h=qk(this.apiClient,e);return f=ee("{model}:predictLongRunning",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>{const T=Ok(x),S=new Ir;return Object.assign(S,T),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class I4 extends oi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,o=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let r;o&&"httpOptions"in o&&(r=o.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:r}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:o});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(e){const i=e.operation,o=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let r;o&&"httpOptions"in o&&(r=o.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:r}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:o});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,o,a,r;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=EM(e);return f=ee("{operationName}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),c}else{const h=SM(e);return f=ee("{operationName}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c}}async fetchPredictVideosOperationInternal(e){var i,o;let a,r="",c={};if(this.apiClient.isVertexAI()){const f=hM(e);return r=ee("{resourceName}:fetchPredictOperation",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function D4(t){const e={},i=d(t,["data"]);if(i!=null&&m(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function k4(t){const e={},i=d(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(r=>O4(r))),m(e,["parts"],a)}const o=d(t,["role"]);return o!=null&&m(e,["role"],o),e}function L4(t,e,i){const o={},a=d(e,["expireTime"]);i!==void 0&&a!=null&&m(i,["expireTime"],a);const r=d(e,["newSessionExpireTime"]);i!==void 0&&r!=null&&m(i,["newSessionExpireTime"],r);const c=d(e,["uses"]);i!==void 0&&c!=null&&m(i,["uses"],c);const f=d(e,["liveConnectConstraints"]);i!==void 0&&f!=null&&m(i,["bidiGenerateContentSetup"],G4(t,f));const g=d(e,["lockAdditionalFields"]);return i!==void 0&&g!=null&&m(i,["fieldMask"],g),o}function U4(t,e){const i={},o=d(e,["config"]);return o!=null&&m(i,["config"],L4(t,o,i)),i}function P4(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&m(e,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function V4(t){const e={},i=d(t,["id"]);i!=null&&m(e,["id"],i);const o=d(t,["args"]);o!=null&&m(e,["args"],o);const a=d(t,["name"]);if(a!=null&&m(e,["name"],a),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function B4(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&m(e,["enableWidget"],i),e}function H4(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&m(e,["timeRangeFilter"],i),e}function z4(t,e){const i={},o=d(t,["generationConfig"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig"],o);const a=d(t,["responseModalities"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","responseModalities"],a);const r=d(t,["temperature"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig","temperature"],r);const c=d(t,["topP"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","topP"],c);const f=d(t,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const g=d(t,["maxOutputTokens"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","maxOutputTokens"],g);const h=d(t,["mediaResolution"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","mediaResolution"],h);const x=d(t,["seed"]);e!==void 0&&x!=null&&m(e,["setup","generationConfig","seed"],x);const T=d(t,["speechConfig"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","speechConfig"],up(T));const S=d(t,["thinkingConfig"]);e!==void 0&&S!=null&&m(e,["setup","generationConfig","thinkingConfig"],S);const b=d(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],b);const _=d(t,["systemInstruction"]);e!==void 0&&_!=null&&m(e,["setup","systemInstruction"],k4(Nt(_)));const N=d(t,["tools"]);if(e!==void 0&&N!=null){let X=So(N);Array.isArray(X)&&(X=X.map(O=>q4(To(O)))),m(e,["setup","tools"],X)}const A=d(t,["sessionResumption"]);e!==void 0&&A!=null&&m(e,["setup","sessionResumption"],j4(A));const w=d(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&m(e,["setup","inputAudioTranscription"],w);const U=d(t,["outputAudioTranscription"]);e!==void 0&&U!=null&&m(e,["setup","outputAudioTranscription"],U);const D=d(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&m(e,["setup","realtimeInputConfig"],D);const G=d(t,["contextWindowCompression"]);e!==void 0&&G!=null&&m(e,["setup","contextWindowCompression"],G);const Y=d(t,["proactivity"]);if(e!==void 0&&Y!=null&&m(e,["setup","proactivity"],Y),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function G4(t,e){const i={},o=d(e,["model"]);o!=null&&m(i,["setup","model"],ke(t,o));const a=d(e,["config"]);return a!=null&&m(i,["config"],z4(a,i)),i}function O4(t){const e={},i=d(t,["mediaResolution"]);i!=null&&m(e,["mediaResolution"],i);const o=d(t,["codeExecutionResult"]);o!=null&&m(e,["codeExecutionResult"],o);const a=d(t,["executableCode"]);a!=null&&m(e,["executableCode"],a);const r=d(t,["fileData"]);r!=null&&m(e,["fileData"],P4(r));const c=d(t,["functionCall"]);c!=null&&m(e,["functionCall"],V4(c));const f=d(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const g=d(t,["inlineData"]);g!=null&&m(e,["inlineData"],D4(g));const h=d(t,["text"]);h!=null&&m(e,["text"],h);const x=d(t,["thought"]);x!=null&&m(e,["thought"],x);const T=d(t,["thoughtSignature"]);T!=null&&m(e,["thoughtSignature"],T);const S=d(t,["videoMetadata"]);return S!=null&&m(e,["videoMetadata"],S),e}function j4(t){const e={},i=d(t,["handle"]);if(i!=null&&m(e,["handle"],i),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function q4(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(T=>T)),m(e,["functionDeclarations"],x)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],o);const a=d(t,["computerUse"]);a!=null&&m(e,["computerUse"],a);const r=d(t,["fileSearch"]);r!=null&&m(e,["fileSearch"],r);const c=d(t,["codeExecution"]);if(c!=null&&m(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],B4(f));const g=d(t,["googleSearch"]);g!=null&&m(e,["googleSearch"],H4(g));const h=d(t,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function F4(t){const e=[];for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const o=t[i];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const a=Object.keys(o).map(r=>`${i}.${r}`);e.push(...a)}else e.push(i)}return e.join(",")}function Y4(t,e){let i=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const r=o.setup;typeof r=="object"&&r!==null?(t.bidiGenerateContentSetup=r,i=r):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const a=t.fieldMask;if(i){const r=F4(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)r?t.fieldMask=r:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let f=[];a.length>0&&(f=a.map(h=>c.includes(h)?`generationConfig.${h}`:h));const g=[];r&&g.push(r),f.length>0&&g.push(...f),g.length>0?t.fieldMask=g.join(","):delete t.fieldMask}else delete t.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?t.fieldMask=a.join(","):delete t.fieldMask;return t}class K4 extends oi{constructor(e){super(),this.apiClient=e}async create(e){var i,o;let a,r="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const f=U4(this.apiClient,e);r=ee("auth_tokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const g=Y4(f,e.config);return a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function J4(t,e){const i={},o=d(t,["force"]);return e!==void 0&&o!=null&&m(e,["_query","force"],o),i}function $4(t){const e={},i=d(t,["name"]);i!=null&&m(e,["_url","name"],i);const o=d(t,["config"]);return o!=null&&J4(o,e),e}function X4(t){const e={},i=d(t,["name"]);return i!=null&&m(e,["_url","name"],i),e}function Q4(t,e){const i={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const a=d(t,["pageToken"]);return e!==void 0&&a!=null&&m(e,["_query","pageToken"],a),i}function W4(t){const e={},i=d(t,["parent"]);i!=null&&m(e,["_url","parent"],i);const o=d(t,["config"]);return o!=null&&Q4(o,e),e}function Z4(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const a=d(t,["documents"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),m(e,["documents"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e3 extends oi{constructor(e){super(),this.apiClient=e,this.list=async i=>new hs(si.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:i.parent,config:o.config}),await this.listInternal(i),i)}async get(e){var i,o;let a,r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=X4(e);return r=ee("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var i,o;let a="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=$4(e);a=ee("{name}",c._url),r=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:r,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var i,o;let a,r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=W4(e);return r=ee("{parent}/documents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>{const h=Z4(g),x=new kM;return Object.assign(x,h),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class t3 extends oi{constructor(e,i=new e3(e)){super(),this.apiClient=e,this.documents=i,this.list=async(o={})=>new hs(si.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,o;let a,r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=F5(e);return r=ee("fileSearchStores",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async get(e){var i,o;let a,r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=J5(e);return r=ee("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var i,o;let a="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=K5(e);a=ee("{name}",c._url),r=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:r,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var i,o;let a,r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=e4(e);return r=ee("fileSearchStores",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>{const h=t4(g),x=new LM;return Object.assign(x,h),x})}}async uploadToFileSearchStoreInternal(e){var i,o;let a,r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=n4(e);return r=ee("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>{const h=i4(g),x=new UM;return Object.assign(x,h),x})}}async importFile(e){var i,o;let a,r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Q5(e);return r=ee("{file_search_store_name}:importFile",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>{const h=X5(g),x=new sp;return Object.assign(x,h),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let O1=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return O1=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),i=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^i()&15>>+o/4).toString(16))};const n3=()=>O1();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hf(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const mf=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pn extends Error{}class It extends pn{constructor(e,i,o,a){super(`${It.makeMessage(e,i,o)}`),this.status=e,this.headers=a,this.error=i}static makeMessage(e,i,o){const a=i!=null&&i.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):o;return e&&a?`${e} ${a}`:e?`${e} status code (no body)`:a||"(no status code or body)"}static generate(e,i,o,a){if(!e||!a)return new Kr({message:o,cause:mf(i)});const r=i;return e===400?new q1(e,r,o,a):e===401?new F1(e,r,o,a):e===403?new Y1(e,r,o,a):e===404?new K1(e,r,o,a):e===409?new J1(e,r,o,a):e===422?new $1(e,r,o,a):e===429?new X1(e,r,o,a):e>=500?new Q1(e,r,o,a):new It(e,r,o,a)}}class gf extends It{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Kr extends It{constructor({message:e,cause:i}){super(void 0,void 0,e||"Connection error.",void 0),i&&(this.cause=i)}}class j1 extends Kr{constructor({message:e}={}){super({message:e??"Request timed out."})}}class q1 extends It{}class F1 extends It{}class Y1 extends It{}class K1 extends It{}class J1 extends It{}class $1 extends It{}class X1 extends It{}class Q1 extends It{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const i3=/^[a-z][a-z0-9+.-]*:/i,s3=t=>i3.test(t);let yf=t=>(yf=Array.isArray,yf(t));const o3=yf;let l3=o3;const dv=l3;function a3(t){if(!t)return!0;for(const e in t)return!1;return!0}function r3(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const u3=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new pn(`${t} must be an integer`);if(e<0)throw new pn(`${t} must be a positive integer`);return e},c3=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const d3=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const no="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function f3(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const p3=()=>{var t,e,i,o,a;const r=f3();if(r==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":no,"X-Stainless-OS":pv(Deno.build.os),"X-Stainless-Arch":fv(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":no,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(r==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":no,"X-Stainless-OS":pv((i=globalThis.process.platform)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Arch":fv((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const c=h3();return c?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":no,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${c.browser}`,"X-Stainless-Runtime-Version":c.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":no,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function h3(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:i}of t){const o=i.exec(navigator.userAgent);if(o){const a=o[1]||0,r=o[2]||0,c=o[3]||0;return{browser:e,version:`${a}.${r}.${c}`}}}return null}const fv=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",pv=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let fr;const m3=()=>fr??(fr=p3());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function g3(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function W1(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function y3(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return W1({start(){},async pull(i){const{done:o,value:a}=await e.next();o?i.close():i.enqueue(a)},async cancel(){var i;await((i=e.return)===null||i===void 0?void 0:i.call(e))}})}function Z1(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const i=await e.read();return i!=null&&i.done&&e.releaseLock(),i}catch(i){throw e.releaseLock(),i}},async return(){const i=e.cancel();return e.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function x3(t){var e,i;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((i=(e=t[Symbol.asyncIterator]()).return)===null||i===void 0?void 0:i.call(e));return}const o=t.getReader(),a=o.cancel();o.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const v3=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eS=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,i=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(i?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function kd(t,e,i){return eS(),new File(t,e??"unknown_file",i)}function T3(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const S3=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tS=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",E3=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&tS(t),b3=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function C3(t,e,i){if(eS(),t=await t,E3(t))return t instanceof File?t:kd([await t.arrayBuffer()],t.name);if(b3(t)){const a=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),kd(await xf(a),e,i)}const o=await xf(t);if(e||(e=T3(t)),!(i!=null&&i.type)){const a=o.find(r=>typeof r=="object"&&"type"in r&&r.type);typeof a=="string"&&(i=Object.assign(Object.assign({},i),{type:a}))}return kd(o,e,i)}async function xf(t){var e,i,o,a,r;let c=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)c.push(t);else if(tS(t))c.push(t instanceof Blob?t:await t.arrayBuffer());else if(S3(t))try{for(var f=!0,g=Sn(t),h;h=await g.next(),e=h.done,!e;f=!0){a=h.value,f=!1;const x=a;c.push(...await xf(x))}}catch(x){i={error:x}}finally{try{!f&&!e&&(o=g.return)&&await o.call(g)}finally{if(i)throw i.error}}else{const x=(r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name;throw new Error(`Unexpected data type: ${typeof t}${x?`; constructor: ${x}`:""}${_3(t)}`)}return c}function _3(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(i=>`"${i}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nS{constructor(e){this._client=e}}nS._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iS(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const hv=Object.freeze(Object.create(null)),N3=(t=iS)=>(function(i,...o){if(i.length===1)return i[0];let a=!1;const r=[],c=i.reduce((x,T,S)=>{var b,_,N;/[?#]/.test(T)&&(a=!0);const A=o[S];let w=(a?encodeURIComponent:t)(""+A);return S!==o.length&&(A==null||typeof A=="object"&&A.toString===((N=Object.getPrototypeOf((_=Object.getPrototypeOf((b=A.hasOwnProperty)!==null&&b!==void 0?b:hv))!==null&&_!==void 0?_:hv))===null||N===void 0?void 0:N.toString))&&(w=A+"",r.push({start:x.length+T.length,length:w.length,error:`Value of type ${Object.prototype.toString.call(A).slice(8,-1)} is not a valid path parameter`})),x+T+(S===o.length?"":w)},""),f=c.split(/[?#]/,1)[0],g=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=g.exec(f))!==null;)r.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(r.sort((x,T)=>x.start-T.start),r.length>0){let x=0;const T=r.reduce((S,b)=>{const _=" ".repeat(b.start-x),N="^".repeat(b.length);return x=b.start+b.length,S+_+N},"");throw new pn(`Path parameters result in path with invalid segments:
${r.map(S=>S.error).join(`
`)}
${c}
${T}`)}return c}),pr=N3(iS);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sS extends nS{create(e,i){var o;const{api_version:a=this._client.apiVersion}=e,r=kr(e,["api_version"]);if("model"in r&&"agent_config"in r)throw new pn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in r&&"generation_config"in r)throw new pn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(pr`/${a}/interactions`,Object.assign(Object.assign({body:r},i),{stream:(o=e.stream)!==null&&o!==void 0?o:!1}))}delete(e,i={},o){const{api_version:a=this._client.apiVersion}=i??{};return this._client.delete(pr`/${a}/interactions/${e}`,o)}cancel(e,i={},o){const{api_version:a=this._client.apiVersion}=i??{};return this._client.post(pr`/${a}/interactions/${e}/cancel`,o)}get(e,i={},o){var a;const r=i??{},{api_version:c=this._client.apiVersion}=r,f=kr(r,["api_version"]);return this._client.get(pr`/${c}/interactions/${e}`,Object.assign(Object.assign({query:f},o),{stream:(a=i==null?void 0:i.stream)!==null&&a!==void 0?a:!1}))}}sS._key=Object.freeze(["interactions"]);class oS extends sS{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function A3(t){let e=0;for(const a of t)e+=a.length;const i=new Uint8Array(e);let o=0;for(const a of t)i.set(a,o),o+=a.length;return i}let hr;function dp(t){let e;return(hr??(e=new globalThis.TextEncoder,hr=e.encode.bind(e)))(t)}let mr;function mv(t){let e;return(mr??(e=new globalThis.TextDecoder,mr=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jr{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const i=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?dp(e):e;this.buffer=A3([this.buffer,i]);const o=[];let a;for(;(a=R3(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){o.push(mv(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const r=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,c=mv(this.buffer.subarray(0,r));o.push(c),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}}Jr.NEWLINE_CHARS=new Set([`
`,"\r"]);Jr.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function R3(t,e){for(let a=e??0;a<t.length;a++){if(t[a]===10)return{preceding:a,index:a+1,carriage:!1};if(t[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function w3(t){for(let o=0;o<t.length-1;o++){if(t[o]===10&&t[o+1]===10||t[o]===13&&t[o+1]===13)return o+2;if(t[o]===13&&t[o+1]===10&&o+3<t.length&&t[o+2]===13&&t[o+3]===10)return o+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lr={off:0,error:200,warn:300,info:400,debug:500},gv=(t,e,i)=>{if(t){if(r3(Lr,t))return t;wt(i).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Lr))}`)}};function bl(){}function gr(t,e,i){return!e||Lr[t]>Lr[i]?bl:e[t].bind(e)}const M3={error:bl,warn:bl,info:bl,debug:bl};let yv=new WeakMap;function wt(t){var e;const i=t.logger,o=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!i)return M3;const a=yv.get(i);if(a&&a[0]===o)return a[1];const r={error:gr("error",i,o),warn:gr("warn",i,o),info:gr("info",i,o),debug:gr("debug",i,o)};return yv.set(i,[o,r]),r}const os=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,i])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":i]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uo{constructor(e,i,o){this.iterator=e,this.controller=i,this.client=o}static fromSSEResponse(e,i,o){let a=!1;const r=o?wt(o):console;function c(){return Tn(this,arguments,function*(){var g,h,x,T;if(a)throw new pn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let S=!1;try{try{for(var b=!0,_=Sn(I3(e,i)),N;N=yield fe(_.next()),g=N.done,!g;b=!0){T=N.value,b=!1;const A=T;if(!S)if(A.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield fe(JSON.parse(A.data))}catch(w){throw r.error("Could not parse message into JSON:",A.data),r.error("From chunk:",A.raw),w}}}catch(A){h={error:A}}finally{try{!b&&!g&&(x=_.return)&&(yield fe(x.call(_)))}finally{if(h)throw h.error}}S=!0}catch(A){if(hf(A))return yield fe(void 0);throw A}finally{S||i.abort()}})}return new uo(c,i,o)}static fromReadableStream(e,i,o){let a=!1;function r(){return Tn(this,arguments,function*(){var g,h,x,T;const S=new Jr,b=Z1(e);try{for(var _=!0,N=Sn(b),A;A=yield fe(N.next()),g=A.done,!g;_=!0){T=A.value,_=!1;const w=T;for(const U of S.decode(w))yield yield fe(U)}}catch(w){h={error:w}}finally{try{!_&&!g&&(x=N.return)&&(yield fe(x.call(N)))}finally{if(h)throw h.error}}for(const w of S.flush())yield yield fe(w)})}function c(){return Tn(this,arguments,function*(){var g,h,x,T;if(a)throw new pn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let S=!1;try{try{for(var b=!0,_=Sn(r()),N;N=yield fe(_.next()),g=N.done,!g;b=!0){T=N.value,b=!1;const A=T;S||A&&(yield yield fe(JSON.parse(A)))}}catch(A){h={error:A}}finally{try{!b&&!g&&(x=_.return)&&(yield fe(x.call(_)))}finally{if(h)throw h.error}}S=!0}catch(A){if(hf(A))return yield fe(void 0);throw A}finally{S||i.abort()}})}return new uo(c,i,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],i=[],o=this.iterator(),a=r=>({next:()=>{if(r.length===0){const c=o.next();e.push(c),i.push(c)}return r.shift()}});return[new uo(()=>a(e),this.controller,this.client),new uo(()=>a(i),this.controller,this.client)]}toReadableStream(){const e=this;let i;return W1({async start(){i=e[Symbol.asyncIterator]()},async pull(o){try{const{value:a,done:r}=await i.next();if(r)return o.close();const c=dp(JSON.stringify(a)+`
`);o.enqueue(c)}catch(a){o.error(a)}},async cancel(){var o;await((o=i.return)===null||o===void 0?void 0:o.call(i))}})}}function I3(t,e){return Tn(this,arguments,function*(){var o,a,r,c;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new pn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new pn("Attempted to iterate over a response with no body");const f=new k3,g=new Jr,h=Z1(t.body);try{for(var x=!0,T=Sn(D3(h)),S;S=yield fe(T.next()),o=S.done,!o;x=!0){c=S.value,x=!1;const b=c;for(const _ of g.decode(b)){const N=f.decode(_);N&&(yield yield fe(N))}}}catch(b){a={error:b}}finally{try{!x&&!o&&(r=T.return)&&(yield fe(r.call(T)))}finally{if(a)throw a.error}}for(const b of g.flush()){const _=f.decode(b);_&&(yield yield fe(_))}})}function D3(t){return Tn(this,arguments,function*(){var i,o,a,r;let c=new Uint8Array;try{for(var f=!0,g=Sn(t),h;h=yield fe(g.next()),i=h.done,!i;f=!0){r=h.value,f=!1;const x=r;if(x==null)continue;const T=x instanceof ArrayBuffer?new Uint8Array(x):typeof x=="string"?dp(x):x;let S=new Uint8Array(c.length+T.length);S.set(c),S.set(T,c.length),c=S;let b;for(;(b=w3(c))!==-1;)yield yield fe(c.slice(0,b)),c=c.slice(b)}}catch(x){o={error:x}}finally{try{!f&&!i&&(a=g.return)&&(yield fe(a.call(g)))}finally{if(o)throw o.error}}c.length>0&&(yield yield fe(c))})}class k3{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const r={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],r}if(this.chunks.push(e),e.startsWith(":"))return null;let[i,o,a]=L3(e,":");return a.startsWith(" ")&&(a=a.substring(1)),i==="event"?this.event=a:i==="data"&&this.data.push(a),null}}function L3(t,e){const i=t.indexOf(e);return i!==-1?[t.substring(0,i),e,t.substring(i+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function U3(t,e){const{response:i,requestLogID:o,retryOfRequestLogID:a,startTime:r}=e,c=await(async()=>{var f;if(e.options.stream)return wt(t).debug("response",i.status,i.url,i.headers,i.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(i,e.controller,t):uo.fromSSEResponse(i,e.controller,t);if(i.status===204)return null;if(e.options.__binaryResponse)return i;const g=i.headers.get("content-type"),h=(f=g==null?void 0:g.split(";")[0])===null||f===void 0?void 0:f.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await i.json():await i.text()})();return wt(t).debug(`[${o}] response parsed`,os({retryOfRequestLogID:a,url:i.url,status:i.status,body:c,durationMs:Date.now()-r})),c}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fp extends Promise{constructor(e,i,o=U3){super(a=>{a(null)}),this.responsePromise=i,this.parseResponse=o,this.client=e}_thenUnwrap(e){return new fp(this.client,this.responsePromise,async(i,o)=>e(await this.parseResponse(i,o),o))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:i}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,i){return this.parse().then(e,i)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lS=Symbol("brand.privateNullableHeaders");function*P3(t){if(!t)return;if(lS in t){const{values:o,nulls:a}=t;yield*o.entries();for(const r of a)yield[r,null];return}let e=!1,i;t instanceof Headers?i=t.entries():dv(t)?i=t:(e=!0,i=Object.entries(t??{}));for(let o of i){const a=o[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const r=dv(o[1])?o[1]:[o[1]];let c=!1;for(const f of r)f!==void 0&&(e&&!c&&(c=!0,yield[a,null]),yield[a,f])}}const Ld=t=>{const e=new Headers,i=new Set;for(const o of t){const a=new Set;for(const[r,c]of P3(o)){const f=r.toLowerCase();a.has(f)||(e.delete(r),a.add(f)),c===null?(e.delete(r),i.add(f)):(e.append(r,c),i.delete(f))}}return{[lS]:!0,values:e,nulls:i}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ud=t=>{var e,i,o,a,r,c;if(typeof globalThis.process<"u")return(o=(i=(e=rM)===null||e===void 0?void 0:e[t])===null||i===void 0?void 0:i.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(c=(r=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||r===void 0?void 0:r.call(a,t))===null||c===void 0?void 0:c.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var aS;class $r{constructor(e){var i,o,a,r,c,f,g,h=e===void 0?{}:e,{baseURL:x=Ud("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:T=(i=Ud("GEMINI_API_KEY"))!==null&&i!==void 0?i:null,apiVersion:S="v1beta"}=h,b=kr(h,["baseURL","apiKey","apiVersion"]);const _=Object.assign(Object.assign({apiKey:T,apiVersion:S},b),{baseURL:x||"https://generativelanguage.googleapis.com"});this.baseURL=_.baseURL,this.timeout=(o=_.timeout)!==null&&o!==void 0?o:$r.DEFAULT_TIMEOUT,this.logger=(a=_.logger)!==null&&a!==void 0?a:console;const N="warn";this.logLevel=N,this.logLevel=(c=(r=gv(_.logLevel,"ClientOptions.logLevel",this))!==null&&r!==void 0?r:gv(Ud("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&c!==void 0?c:N,this.fetchOptions=_.fetchOptions,this.maxRetries=(f=_.maxRetries)!==null&&f!==void 0?f:2,this.fetch=(g=_.fetch)!==null&&g!==void 0?g:g3(),this.encoder=v3,this._options=_,this.apiKey=T,this.apiVersion=S}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:i}){if(!(this.apiKey&&e.get("x-goog-api-key"))&&!i.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){if(this.apiKey!=null)return Ld([{"x-goog-api-key":this.apiKey}])}stringifyQuery(e){return Object.entries(e).filter(([i,o])=>typeof o<"u").map(([i,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(i)}=`;throw new pn(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${no}`}defaultIdempotencyKey(){return`stainless-node-retry-${n3()}`}makeStatusError(e,i,o,a){return It.generate(e,i,o,a)}buildURL(e,i,o){const a=!this.baseURLOverridden()&&o||this.baseURL,r=s3(e)?new URL(e):new URL(a+(a.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),c=this.defaultQuery();return a3(c)||(i=Object.assign(Object.assign({},c),i)),typeof i=="object"&&i&&!Array.isArray(i)&&(r.search=this.stringifyQuery(i)),r.toString()}async prepareOptions(e){}async prepareRequest(e,{url:i,options:o}){}get(e,i){return this.methodRequest("get",e,i)}post(e,i){return this.methodRequest("post",e,i)}patch(e,i){return this.methodRequest("patch",e,i)}put(e,i){return this.methodRequest("put",e,i)}delete(e,i){return this.methodRequest("delete",e,i)}methodRequest(e,i,o){return this.request(Promise.resolve(o).then(a=>Object.assign({method:e,path:i},a)))}request(e,i=null){return new fp(this,this.makeRequest(e,i,void 0))}async makeRequest(e,i,o){var a,r,c;const f=await e,g=(a=f.maxRetries)!==null&&a!==void 0?a:this.maxRetries;i==null&&(i=g),await this.prepareOptions(f);const{req:h,url:x,timeout:T}=await this.buildRequest(f,{retryCount:g-i});await this.prepareRequest(h,{url:x,options:f});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),b=o===void 0?"":`, retryOf: ${o}`,_=Date.now();if(wt(this).debug(`[${S}] sending request`,os({retryOfRequestLogID:o,method:f.method,url:x,options:f,headers:h.headers})),!((r=f.signal)===null||r===void 0)&&r.aborted)throw new gf;const N=new AbortController,A=await this.fetchWithTimeout(x,h,T,N).catch(mf),w=Date.now();if(A instanceof globalThis.Error){const D=`retrying, ${i} attempts remaining`;if(!((c=f.signal)===null||c===void 0)&&c.aborted)throw new gf;const G=hf(A)||/timed? ?out/i.test(String(A)+("cause"in A?String(A.cause):""));if(i)return wt(this).info(`[${S}] connection ${G?"timed out":"failed"} - ${D}`),wt(this).debug(`[${S}] connection ${G?"timed out":"failed"} (${D})`,os({retryOfRequestLogID:o,url:x,durationMs:w-_,message:A.message})),this.retryRequest(f,i,o??S);throw wt(this).info(`[${S}] connection ${G?"timed out":"failed"} - error; no more retries left`),wt(this).debug(`[${S}] connection ${G?"timed out":"failed"} (error; no more retries left)`,os({retryOfRequestLogID:o,url:x,durationMs:w-_,message:A.message})),G?new j1:new Kr({cause:A})}const U=`[${S}${b}] ${h.method} ${x} ${A.ok?"succeeded":"failed"} with status ${A.status} in ${w-_}ms`;if(!A.ok){const D=await this.shouldRetry(A);if(i&&D){const q=`retrying, ${i} attempts remaining`;return await x3(A.body),wt(this).info(`${U} - ${q}`),wt(this).debug(`[${S}] response error (${q})`,os({retryOfRequestLogID:o,url:A.url,status:A.status,headers:A.headers,durationMs:w-_})),this.retryRequest(f,i,o??S,A.headers)}const G=D?"error; no more retries left":"error; not retryable";wt(this).info(`${U} - ${G}`);const Y=await A.text().catch(q=>mf(q).message),X=c3(Y),O=X?void 0:Y;throw wt(this).debug(`[${S}] response error (${G})`,os({retryOfRequestLogID:o,url:A.url,status:A.status,headers:A.headers,message:O,durationMs:Date.now()-_})),this.makeStatusError(A.status,X,O,A.headers)}return wt(this).info(U),wt(this).debug(`[${S}] response start`,os({retryOfRequestLogID:o,url:A.url,status:A.status,headers:A.headers,durationMs:w-_})),{response:A,options:f,controller:N,requestLogID:S,retryOfRequestLogID:o,startTime:_}}async fetchWithTimeout(e,i,o,a){const r=i||{},{signal:c,method:f}=r,g=kr(r,["signal","method"]);c&&c.addEventListener("abort",()=>a.abort());const h=setTimeout(()=>a.abort(),o),x=globalThis.ReadableStream&&g.body instanceof globalThis.ReadableStream||typeof g.body=="object"&&g.body!==null&&Symbol.asyncIterator in g.body,T=Object.assign(Object.assign(Object.assign({signal:a.signal},x?{duplex:"half"}:{}),{method:"GET"}),g);f&&(T.method=f.toUpperCase());try{return await this.fetch.call(void 0,e,T)}finally{clearTimeout(h)}}async shouldRetry(e){const i=e.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,i,o,a){var r;let c;const f=a==null?void 0:a.get("retry-after-ms");if(f){const h=parseFloat(f);Number.isNaN(h)||(c=h)}const g=a==null?void 0:a.get("retry-after");if(g&&!c){const h=parseFloat(g);Number.isNaN(h)?c=Date.parse(g)-Date.now():c=h*1e3}if(!(c&&0<=c&&c<60*1e3)){const h=(r=e.maxRetries)!==null&&r!==void 0?r:this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(i,h)}return await d3(c),this.makeRequest(e,i-1,o)}calculateDefaultRetryTimeoutMillis(e,i){const r=i-e,c=Math.min(.5*Math.pow(2,r),8),f=1-Math.random()*.25;return c*f*1e3}async buildRequest(e,{retryCount:i=0}={}){var o,a,r;const c=Object.assign({},e),{method:f,path:g,query:h,defaultBaseURL:x}=c,T=this.buildURL(g,h,x);"timeout"in c&&u3("timeout",c.timeout),c.timeout=(o=c.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:S,body:b}=this.buildBody({options:c}),_=await this.buildHeaders({options:e,method:f,bodyHeaders:S,retryCount:i});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:f,headers:_},c.signal&&{signal:c.signal}),globalThis.ReadableStream&&b instanceof globalThis.ReadableStream&&{duplex:"half"}),b&&{body:b}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(r=c.fetchOptions)!==null&&r!==void 0?r:{}),url:T,timeout:c.timeout}}async buildHeaders({options:e,method:i,bodyHeaders:o,retryCount:a}){let r={};this.idempotencyHeader&&i!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),r[this.idempotencyHeader]=e.idempotencyKey);const c=Ld([r,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),m3()),await this.authHeaders(e),this._options.defaultHeaders,o,e.headers]);return this.validateHeaders(c),c.values}buildBody({options:{body:e,headers:i}}){if(!e)return{bodyHeaders:void 0,body:void 0};const o=Ld([i]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&o.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:y3(e)}:this.encoder({body:e,headers:o})}}$r.DEFAULT_TIMEOUT=6e4;class gt extends $r{constructor(){super(...arguments),this.interactions=new oS(this)}}aS=gt;gt.GeminiNextGenAPIClient=aS;gt.GeminiNextGenAPIClientError=pn;gt.APIError=It;gt.APIConnectionError=Kr;gt.APIConnectionTimeoutError=j1;gt.APIUserAbortError=gf;gt.NotFoundError=K1;gt.ConflictError=J1;gt.RateLimitError=X1;gt.BadRequestError=q1;gt.AuthenticationError=F1;gt.InternalServerError=Q1;gt.PermissionDeniedError=Y1;gt.UnprocessableEntityError=$1;gt.toFile=C3;gt.Interactions=oS;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function V3(t,e){const i={},o=d(t,["name"]);return o!=null&&m(i,["_url","name"],o),i}function B3(t,e){const i={},o=d(t,["name"]);return o!=null&&m(i,["_url","name"],o),i}function H3(t,e){const i={},o=d(t,["sdkHttpResponse"]);return o!=null&&m(i,["sdkHttpResponse"],o),i}function z3(t,e){const i={},o=d(t,["sdkHttpResponse"]);return o!=null&&m(i,["sdkHttpResponse"],o),i}function G3(t,e,i){const o={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=d(t,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&m(e,["displayName"],a),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const r=d(t,["epochCount"]);e!==void 0&&r!=null&&m(e,["tuningTask","hyperparameters","epochCount"],r);const c=d(t,["learningRateMultiplier"]);if(c!=null&&m(o,["tuningTask","hyperparameters","learningRateMultiplier"],c),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=d(t,["batchSize"]);e!==void 0&&f!=null&&m(e,["tuningTask","hyperparameters","batchSize"],f);const g=d(t,["learningRate"]);if(e!==void 0&&g!=null&&m(e,["tuningTask","hyperparameters","learningRate"],g),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function O3(t,e,i){const o={};let a=d(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const b=d(t,["validationDataset"]);e!==void 0&&b!=null&&m(e,["supervisedTuningSpec"],xv(b))}else if(a==="PREFERENCE_TUNING"){const b=d(t,["validationDataset"]);e!==void 0&&b!=null&&m(e,["preferenceOptimizationSpec"],xv(b))}const r=d(t,["tunedModelDisplayName"]);e!==void 0&&r!=null&&m(e,["tunedModelDisplayName"],r);const c=d(t,["description"]);e!==void 0&&c!=null&&m(e,["description"],c);let f=d(i,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const b=d(t,["epochCount"]);e!==void 0&&b!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],b)}else if(f==="PREFERENCE_TUNING"){const b=d(t,["epochCount"]);e!==void 0&&b!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],b)}let g=d(i,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const b=d(t,["learningRateMultiplier"]);e!==void 0&&b!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],b)}else if(g==="PREFERENCE_TUNING"){const b=d(t,["learningRateMultiplier"]);e!==void 0&&b!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],b)}let h=d(i,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const b=d(t,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],b)}else if(h==="PREFERENCE_TUNING"){const b=d(t,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&m(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],b)}let x=d(i,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const b=d(t,["adapterSize"]);e!==void 0&&b!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],b)}else if(x==="PREFERENCE_TUNING"){const b=d(t,["adapterSize"]);e!==void 0&&b!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],b)}if(d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=d(t,["labels"]);e!==void 0&&T!=null&&m(e,["labels"],T);const S=d(t,["beta"]);return e!==void 0&&S!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","beta"],S),o}function j3(t,e){const i={},o=d(t,["baseModel"]);o!=null&&m(i,["baseModel"],o);const a=d(t,["preTunedModel"]);a!=null&&m(i,["preTunedModel"],a);const r=d(t,["trainingDataset"]);r!=null&&eL(r);const c=d(t,["config"]);return c!=null&&G3(c,i),i}function q3(t,e){const i={},o=d(t,["baseModel"]);o!=null&&m(i,["baseModel"],o);const a=d(t,["preTunedModel"]);a!=null&&m(i,["preTunedModel"],a);const r=d(t,["trainingDataset"]);r!=null&&tL(r,i,e);const c=d(t,["config"]);return c!=null&&O3(c,i,e),i}function F3(t,e){const i={},o=d(t,["name"]);return o!=null&&m(i,["_url","name"],o),i}function Y3(t,e){const i={},o=d(t,["name"]);return o!=null&&m(i,["_url","name"],o),i}function K3(t,e,i){const o={},a=d(t,["pageSize"]);e!==void 0&&a!=null&&m(e,["_query","pageSize"],a);const r=d(t,["pageToken"]);e!==void 0&&r!=null&&m(e,["_query","pageToken"],r);const c=d(t,["filter"]);return e!==void 0&&c!=null&&m(e,["_query","filter"],c),o}function J3(t,e,i){const o={},a=d(t,["pageSize"]);e!==void 0&&a!=null&&m(e,["_query","pageSize"],a);const r=d(t,["pageToken"]);e!==void 0&&r!=null&&m(e,["_query","pageToken"],r);const c=d(t,["filter"]);return e!==void 0&&c!=null&&m(e,["_query","filter"],c),o}function $3(t,e){const i={},o=d(t,["config"]);return o!=null&&K3(o,i),i}function X3(t,e){const i={},o=d(t,["config"]);return o!=null&&J3(o,i),i}function Q3(t,e){const i={},o=d(t,["sdkHttpResponse"]);o!=null&&m(i,["sdkHttpResponse"],o);const a=d(t,["nextPageToken"]);a!=null&&m(i,["nextPageToken"],a);const r=d(t,["tunedModels"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>rS(f))),m(i,["tuningJobs"],c)}return i}function W3(t,e){const i={},o=d(t,["sdkHttpResponse"]);o!=null&&m(i,["sdkHttpResponse"],o);const a=d(t,["nextPageToken"]);a!=null&&m(i,["nextPageToken"],a);const r=d(t,["tuningJobs"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>vf(f))),m(i,["tuningJobs"],c)}return i}function Z3(t,e){const i={},o=d(t,["name"]);o!=null&&m(i,["model"],o);const a=d(t,["name"]);return a!=null&&m(i,["endpoint"],a),i}function eL(t,e){const i={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=d(t,["examples"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),m(i,["examples","examples"],a)}return i}function tL(t,e,i){const o={};let a=d(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(a==="PREFERENCE_TUNING"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let r=d(i,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(r==="PREFERENCE_TUNING"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function rS(t,e){const i={},o=d(t,["sdkHttpResponse"]);o!=null&&m(i,["sdkHttpResponse"],o);const a=d(t,["name"]);a!=null&&m(i,["name"],a);const r=d(t,["state"]);r!=null&&m(i,["state"],E1(r));const c=d(t,["createTime"]);c!=null&&m(i,["createTime"],c);const f=d(t,["tuningTask","startTime"]);f!=null&&m(i,["startTime"],f);const g=d(t,["tuningTask","completeTime"]);g!=null&&m(i,["endTime"],g);const h=d(t,["updateTime"]);h!=null&&m(i,["updateTime"],h);const x=d(t,["description"]);x!=null&&m(i,["description"],x);const T=d(t,["baseModel"]);T!=null&&m(i,["baseModel"],T);const S=d(t,["_self"]);return S!=null&&m(i,["tunedModel"],Z3(S)),i}function vf(t,e){const i={},o=d(t,["sdkHttpResponse"]);o!=null&&m(i,["sdkHttpResponse"],o);const a=d(t,["name"]);a!=null&&m(i,["name"],a);const r=d(t,["state"]);r!=null&&m(i,["state"],E1(r));const c=d(t,["createTime"]);c!=null&&m(i,["createTime"],c);const f=d(t,["startTime"]);f!=null&&m(i,["startTime"],f);const g=d(t,["endTime"]);g!=null&&m(i,["endTime"],g);const h=d(t,["updateTime"]);h!=null&&m(i,["updateTime"],h);const x=d(t,["error"]);x!=null&&m(i,["error"],x);const T=d(t,["description"]);T!=null&&m(i,["description"],T);const S=d(t,["baseModel"]);S!=null&&m(i,["baseModel"],S);const b=d(t,["tunedModel"]);b!=null&&m(i,["tunedModel"],b);const _=d(t,["preTunedModel"]);_!=null&&m(i,["preTunedModel"],_);const N=d(t,["supervisedTuningSpec"]);N!=null&&m(i,["supervisedTuningSpec"],N);const A=d(t,["preferenceOptimizationSpec"]);A!=null&&m(i,["preferenceOptimizationSpec"],A);const w=d(t,["tuningDataStats"]);w!=null&&m(i,["tuningDataStats"],w);const U=d(t,["encryptionSpec"]);U!=null&&m(i,["encryptionSpec"],U);const D=d(t,["partnerModelTuningSpec"]);D!=null&&m(i,["partnerModelTuningSpec"],D);const G=d(t,["customBaseModel"]);G!=null&&m(i,["customBaseModel"],G);const Y=d(t,["experiment"]);Y!=null&&m(i,["experiment"],Y);const X=d(t,["labels"]);X!=null&&m(i,["labels"],X);const O=d(t,["outputUri"]);O!=null&&m(i,["outputUri"],O);const j=d(t,["pipelineJob"]);j!=null&&m(i,["pipelineJob"],j);const q=d(t,["serviceAccount"]);q!=null&&m(i,["serviceAccount"],q);const W=d(t,["tunedModelDisplayName"]);W!=null&&m(i,["tunedModelDisplayName"],W);const le=d(t,["veoTuningSpec"]);return le!=null&&m(i,["veoTuningSpec"],le),i}function nL(t,e){const i={},o=d(t,["sdkHttpResponse"]);o!=null&&m(i,["sdkHttpResponse"],o);const a=d(t,["name"]);a!=null&&m(i,["name"],a);const r=d(t,["metadata"]);r!=null&&m(i,["metadata"],r);const c=d(t,["done"]);c!=null&&m(i,["done"],c);const f=d(t,["error"]);return f!=null&&m(i,["error"],f),i}function xv(t,e){const i={},o=d(t,["gcsUri"]);o!=null&&m(i,["validationDatasetUri"],o);const a=d(t,["vertexDatasetResource"]);return a!=null&&m(i,["validationDatasetUri"],a),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iL extends oi{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new hs(si.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(i),i),this.get=async i=>await this.getInternal(i),this.tune=async i=>{var o;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const a={tunedModelName:i.baseModel};!((o=i.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(a.checkpointId=i.config.preTunedModelCheckpointId);const r=Object.assign(Object.assign({},i),{preTunedModel:a});return r.baseModel=void 0,await this.tuneInternal(r)}else{const a=Object.assign({},i);return await this.tuneInternal(a)}else{const a=Object.assign({},i),r=await this.tuneMldevInternal(a);let c="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?c=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(c=r.name.split("/operations/")[0]),{name:c,state:af.JOB_STATE_QUEUED}}}}async getInternal(e){var i,o,a,r;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=Y3(e);return f=ee("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),c.then(x=>vf(x))}else{const h=F3(e);return f=ee("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),c.then(x=>rS(x))}}async listInternal(e){var i,o,a,r;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=X3(e);return f=ee("tuningJobs",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),c.then(x=>{const T=W3(x),S=new qx;return Object.assign(S,T),S})}else{const h=$3(e);return f=ee("tunedModels",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),c.then(x=>{const T=Q3(x),S=new qx;return Object.assign(S,T),S})}}async cancel(e){var i,o,a,r;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=B3(e);return f=ee("{name}:cancel",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),c.then(x=>{const T=z3(x),S=new Fx;return Object.assign(S,T),S})}else{const h=V3(e);return f=ee("{name}:cancel",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),c.then(x=>{const T=H3(x),S=new Fx;return Object.assign(S,T),S})}}async tuneInternal(e){var i,o;let a,r="",c={};if(this.apiClient.isVertexAI()){const f=q3(e,e);return r=ee("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:g.headers},x})),a.then(g=>vf(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,o;let a,r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=j3(e);return r=ee("tunedModels",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:g.headers},x})),a.then(g=>nL(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sL{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const oL=1024*1024*8,lL=3,aL=1e3,rL=2,Ur="x-goog-upload-status";async function uL(t,e,i){var o;const a=await uS(t,e,i),r=await(a==null?void 0:a.json());if(((o=a==null?void 0:a.headers)===null||o===void 0?void 0:o[Ur])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return r.file}async function cL(t,e,i){var o;const a=await uS(t,e,i),r=await(a==null?void 0:a.json());if(((o=a==null?void 0:a.headers)===null||o===void 0?void 0:o[Ur])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=g1(r),f=new op;return Object.assign(f,c),f}async function uS(t,e,i){var o,a;let r=0,c=0,f=new rf(new Response),g="upload";for(r=t.size;c<r;){const h=Math.min(oL,r-c),x=t.slice(c,c+h);c+h>=r&&(g+=", finalize");let T=0,S=aL;for(;T<lL&&(f=await i.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(c),"Content-Length":String(h)}}}),!(!((o=f==null?void 0:f.headers)===null||o===void 0)&&o[Ur]));)T++,await fL(S),S=S*rL;if(c+=h,((a=f==null?void 0:f.headers)===null||a===void 0?void 0:a[Ur])!=="active")break;if(r<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return f}async function dL(t){return{size:t.size,type:t.type}}function fL(t){return new Promise(e=>setTimeout(e,t))}class pL{async upload(e,i,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await uL(e,i,o)}async uploadToFileSearchStore(e,i,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await cL(e,i,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await dL(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hL{create(e,i,o){return new mL(e,i,o)}}class mL{constructor(e,i,o){this.url=e,this.headers=i,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vv="x-goog-api-key";class gL{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(vv)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(vv,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yL="gl-node/";class xL{get interactions(){if(this._interactions!==void 0)return this._interactions;if(console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions."),this.vertexai)throw new Error("This version of the GenAI SDK does not support Vertex AI API for interactions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const i=new gt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=i.interactions,this._interactions}constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const o=fM(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const a=new gL(this.apiKey);this.apiClient=new d4({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:yL+"web",uploader:new pL,downloader:new sL}),this.models=new M4(this.apiClient),this.live=new C4(this.apiClient,a,new hL),this.batches=new GI(this.apiClient),this.chats=new ED(this.models,this.apiClient),this.caches=new vD(this.apiClient),this.files=new DD(this.apiClient),this.operations=new I4(this.apiClient),this.authTokens=new K4(this.apiClient),this.tunings=new iL(this.apiClient),this.fileSearchStores=new t3(this.apiClient)}}const vL="";new xL({apiKey:vL});const TL=async(t,e)=>"API Key is missing. Please configure the environment variable.",SL=({currentChapterTitle:t})=>{const[e,i]=k.useState(!1),[o,a]=k.useState([{role:"model",text:` FreeRTOS ${t}`}]),[r,c]=k.useState(""),[f,g]=k.useState(!1),h=k.useRef(null);k.useEffect(()=>{a(T=>[...T,{role:"model",text:`${t}`}])},[t]),k.useEffect(()=>{var T;(T=h.current)==null||T.scrollIntoView({behavior:"smooth"})},[o]);const x=async()=>{if(!r.trim()||f)return;const T=r;c(""),a(b=>[...b,{role:"user",text:T}]),g(!0);const S=await TL();a(b=>[...b,{role:"model",text:S}]),g(!1)};return p.jsxs("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col items-end pointer-events-none",children:[e&&p.jsxs("div",{className:"pointer-events-auto bg-slate-900 border border-slate-700 rounded-lg shadow-2xl w-80 sm:w-96 h-[500px] flex flex-col mb-4 overflow-hidden animate-in slide-in-from-bottom-5 duration-300",children:[p.jsxs("div",{className:"bg-slate-800 p-3 flex justify-between items-center border-b border-slate-700",children:[p.jsxs("div",{className:"flex items-center gap-2 text-sky-400",children:[p.jsx(iC,{size:20}),p.jsx("span",{className:"font-semibold text-sm",children:"RTOS AI "})]}),p.jsx("button",{onClick:()=>i(!1),className:"text-slate-400 hover:text-white transition",children:p.jsx(Eg,{size:18})})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[o.map((T,S)=>p.jsx("div",{className:`flex ${T.role==="user"?"justify-end":"justify-start"}`,children:p.jsx("div",{className:`max-w-[85%] rounded-lg p-3 text-sm leading-relaxed ${T.role==="user"?"bg-sky-600 text-white rounded-br-none":"bg-slate-800 text-slate-200 border border-slate-700 rounded-bl-none"}`,children:T.text})},S)),f&&p.jsx("div",{className:"flex justify-start",children:p.jsx("div",{className:"bg-slate-800 p-3 rounded-lg border border-slate-700 rounded-bl-none",children:p.jsx(FC,{className:"animate-spin text-sky-400",size:16})})}),p.jsx("div",{ref:h})]}),p.jsx("div",{className:"p-3 bg-slate-800 border-t border-slate-700",children:p.jsxs("div",{className:"relative flex items-center",children:[p.jsx("input",{type:"text",value:r,onChange:T=>c(T.target.value),onKeyDown:T=>T.key==="Enter"&&x(),placeholder:"...",className:"w-full bg-slate-950 text-slate-200 text-sm rounded-md py-2 pl-3 pr-10 border border-slate-700 focus:outline-none focus:border-sky-500 transition"}),p.jsx("button",{onClick:x,disabled:f||!r.trim(),className:"absolute right-2 text-slate-400 hover:text-sky-400 disabled:opacity-50 transition",children:p.jsx(a_,{size:16})})]})})]}),p.jsx("button",{onClick:()=>i(!e),className:"pointer-events-auto bg-sky-600 hover:bg-sky-500 text-white p-3 rounded-full shadow-lg transition-transform hover:scale-105 active:scale-95 flex items-center justify-center gap-2",children:e?p.jsx(Eg,{size:24}):p.jsx(QC,{size:24})})]})};function EL(){var x,T;const[t,e]=k.useState(Rt.INTRO),[i,o]=k.useState(!1),[a,r]=k.useState(!1),c=[{id:Rt.INTRO,title:"",icon:tC,component:By},{id:Rt.TASKS,title:"",icon:cs,component:xw},{id:Rt.CONTEXT,title:"",icon:Qb,component:Yw},{id:Rt.SCHEDULER,title:"",icon:ds,component:Pw},{id:Rt.QUEUES,title:"",icon:LC,component:_w},{id:Rt.SEMAPHORES,title:"",icon:GC,component:eM},{id:Rt.INVERSION,title:"",icon:Pr,component:aM}],f=((x=c.find(S=>S.id===t))==null?void 0:x.component)||By,g=((T=c.find(S=>S.id===t))==null?void 0:T.title)||"Introduction",h=[Rt.TASKS,Rt.CONTEXT,Rt.QUEUES,Rt.SCHEDULER,Rt.SEMAPHORES,Rt.INVERSION].includes(t);return p.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-200 flex flex-col md:flex-row overflow-hidden",children:[p.jsxs("div",{className:"md:hidden p-4 border-b border-slate-800 flex justify-between items-center bg-slate-950/80 backdrop-blur z-50 sticky top-0",children:[p.jsxs("span",{className:"font-bold text-sky-400 flex items-center gap-2",children:[p.jsx(cs,{size:20})," FreeRTOS.master"]}),p.jsx("button",{onClick:()=>o(!i),className:"text-white",children:p.jsx($C,{})})]}),p.jsxs("aside",{className:`
        fixed md:relative inset-y-0 left-0 bg-slate-900 border-r border-slate-800 transform transition-all duration-300 z-40 flex flex-col
        ${i?"translate-x-0":"-translate-x-full md:translate-x-0"}
        ${a?"md:w-20":"md:w-72"}
        w-72
      `,children:[p.jsx("div",{onClick:()=>r(!a),className:`h-16 flex items-center border-b border-slate-800 shrink-0 cursor-pointer hover:bg-slate-800/50 transition-colors ${a?"justify-center":"px-6"}`,title:a?"Expand Sidebar":"Collapse Sidebar",children:a?p.jsx("span",{className:"font-bold text-sky-400 text-xl",children:"OS"}):p.jsxs("div",{className:"overflow-hidden",children:[p.jsx("h1",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-sky-400 to-indigo-500 whitespace-nowrap",children:"FreeRTOS"}),p.jsx("p",{className:"text-[10px] text-slate-500 truncate",children:"Interactive Masterclass"})]})}),p.jsx("nav",{className:"p-3 space-y-2 mt-2 flex-1 overflow-y-auto custom-scrollbar",children:c.map(S=>p.jsxs("button",{onClick:()=>{e(S.id),o(!1)},title:a?S.title:"",className:`w-full flex items-center ${a?"justify-center px-0":"px-4"} py-3 rounded-lg text-sm font-medium transition-all duration-200 group
                ${t===S.id?"bg-sky-600/10 text-sky-400 border border-sky-600/20 shadow-[0_0_15px_rgba(56,189,248,0.1)]":"text-slate-400 hover:text-slate-100 hover:bg-slate-800"}`,children:[p.jsx(S.icon,{size:20,className:"shrink-0"}),!a&&p.jsx("span",{className:"ml-3 truncate",children:S.title}),a&&p.jsx("div",{className:"absolute left-16 bg-slate-800 text-slate-200 text-xs px-2 py-1 rounded border border-slate-700 opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity z-50 whitespace-nowrap",children:S.title})]},S.id))}),p.jsx("div",{className:"shrink-0 p-4 border-t border-slate-800 bg-slate-900",children:p.jsxs("a",{href:"https://www.freertos.org/",target:"_blank",rel:"noopener noreferrer",className:`flex items-center ${a?"justify-center":"justify-center gap-2"} text-xs text-slate-500 hover:text-sky-400 transition-colors group`,title:"Visit FreeRTOS.org",children:[!a&&p.jsx("span",{children:" v10.5.1 "}),p.jsx(CC,{size:12,className:"group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]})})]}),p.jsxs("main",{className:`flex-1 ${h?"overflow-hidden":"overflow-y-auto"} h-[calc(100vh-65px)] md:h-screen bg-slate-950 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-slate-900 via-slate-950 to-slate-950 relative`,children:[i&&p.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm z-30 md:hidden",onClick:()=>o(!1)}),p.jsx("div",{className:h?"w-full h-full":"max-w-6xl mx-auto p-6 md:p-12 pb-32",children:p.jsx(f,{})})]}),p.jsx(SL,{currentChapterTitle:g})]})}const cS=document.getElementById("root");if(!cS)throw new Error("Could not find root element to mount to");const bL=Hb.createRoot(cS);bL.render(p.jsx(Sv.StrictMode,{children:p.jsx(EL,{})}));
